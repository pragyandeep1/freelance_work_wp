(function(t){function e(e){for(var a,o,n=e[0],c=e[1],u=e[2],l=0,d=[];l<n.length;l++)o=n[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var p=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0032":function(t,e,s){},"0613":function(t,e,s){},1:function(t,e){},"10de":function(t,e,s){},"17f6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAABYktHRHmh3NTQAAAD8klEQVRIS41WQWhUVxQ9f/JnJtGZlBpNGzFaa7SKUiFd2EXMpgq2KLQbW0S6a8GNFUWkiwqWIoh0YwvddGM3pYol4EIsCoqESGglpRSqqUIaKEXH2GSSzIzz5/+e896bP38mY/HAn//mvvvOve/e++77XkTgWahMA3NjwJNrwOIkEDyycr8XWDYAvLgb6N4BZNdaeRu0NxDMAlOfk/gqUJ0BUllqpjmRsvMIgajKVxlI99DQHmDdSRrudvMNLDVQ+BG4f5wET8nXSUEHtTw71wqztGYNeT7w6hlg1X4759Bs4OH3llzEWvAs4lbUDdUWaeQs8NIBKycaBgqXgMnDdHg5pQrFc5LHIE3E0MnIxq+Ale8ZqTWgmP88SM9JKs9jci5KDJ9LHgb8y/fgBHOSd1mbOsUfxhwt5JwtlT0EAWVGU2xWXq16KFcoZ4qcFYL/5WBILsMp1TJLceYnjhT3OjlBvV/+8DF0pBsffLEc/86RVUZI+E8hhX2f5TB8NG90jF91iENcM6zA8l9cUmSdByxF64oDPWI4f7iRQakCTNz3Mfq7I8oAI6NpPPi7A/OLHi5SR7qNXQjkCgpAcZwGdIhMnSe81zD0UCx58Kmr1MwtODmfR7Mp+H5k5mYXKKBuHFmhvgtyp8wJNYcoATmTjjA4UCOxhwzH2zeoDClnDodfD0xu5MAbmyjkfNMGBOWiNMl8j2+NECnzSRcIVQI9HLmZwfqXa9i+hURPpUM5/Rmb8PG46GHvTp5oLkfUsl7Vn0r/jwFBRhhiE2PyxJCqNq23iq+VXHAGUsiwcZm9t0IKfGmKQ5Pg+qN6kFHNxeXbCoWulz7e/TjCE1emMbTAwzeXs7g73YE0E9oOVZ6P1/prOLSPpebWxFB/YhP0oocXIvz5Cb1iJ4zDRGV6evp8F769kkWuq72BeSb5o3cq+PTDks1D3YDCU5sDBs5xg/k3SbaC0mSYrOLB3RX09VjyLGPeyXzo0Vjo6wlxcJe8F5J5IJfPNp7fQQOd/cAK9nNtyfU9A3q0dk2I8yfmsZpEIacWqKJHY5F/d2IB/dSx3juII6RRcZK70ezusNmpGlLKYiJUqiJWyq3f0swHM0rR5nUhhraxrNxck37c7H7lLnLOgKCLxrTrLiqoTBJb1gKFxVQMoWjK66bypI7adch2PfA12/W7Rtpy4VzghXOMRGod3Em7s9EOotBZUpg3fAn0vu8mGj5Z9PK602Vhtsrmo0UJ+0sQE6tRERvpeYJcaN5BHUHR9nNz6T9u7CjuuIyRIWYyzaX/NvAKL/2OnJtvoL2BOvTZMnubz3V+ttxjQt1ni07/sk3AC2/x0WcLK7EtgP8A/duPsZVkUQ8AAAAASUVORK5CYII="},3098:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAACcElEQVQ4EZ2UPYgTQRiGs3MJhoAHBoNgIQd3vYiVjaV2IhHCZqMcWFgqCqcQ9U4Uf++wsFCw8DfJhuUKUUhhk0KwUlA4sFA4EJSAhAsWggSzPt+6EyZze6dxYJj53vf93vl2ftZJbdLCMFSNRmOP4zhT9Dy9C7bquu475uFGqU4SgdF2kqskeow7bA34V7Aa3I1KpbK2jreBer1eAbtLn7S5hHhNKXWiXC4vm5wyAyqcJ67R/8VQUrdRbUDenAS6DT8fYhbBI02MM8b763qeF0heZOr7/s7BYPCRODeOmaX9nslkZkql0rfo86nwkm3I6s/pvpUYheBP6M8sbrLf718QTLVarS2YupYgBfaaz/HA71jcEvAs2BsLT7HQ0Xa7nVa9Xm8/5NYEwVW5CbRTcJExSYvEc/H+X7ZzKCTf6XT2KYTTNikxggm4x9qY+SEqPBsbPkAycnMMj+k0B1QwgJGpNm42myu8ohcssBdsM0MppiCrrXsRpjMV3sTwfRAEu/j0t8RLJp8wlwehPicQEYTBdV7LeflkTvYTlcpdPAd+a6Mc8VO5XK6N6KctgryHQdXYwwy6mjZGf9/OIf5B3qvo8pO4zF4cMUUY3Cb+Ar7IODwU8F/Ep8FnGE/Shw3OpxAvLQjuFzmwwwgntIL5GT03x1hj312R9OEWZBJVwEF8YJUrAvxvI3+Bg5Sn/ufty4RVHP4BTxnl1zdWw/AhX31cJ5l7FXLSx9gKqXigBX8ZRTdvGop++Oszk7nsu9nja2AH4z00aXnjclgtCqiydSsjJEGiqRZx4QvczwOYTIHlWaDLfDWbzb4sFotdrbPH34IuDwr79+D1AAAAAElFTkSuQmCC"},"310c":function(t,e,s){},3647:function(t,e,s){"use strict";s("b750")},"36f9":function(t,e,s){},"372b":function(t,e,s){"use strict";s("d1f8")},"3b5c":function(t,e,s){"use strict";s("310c")},"3cbb":function(t,e,s){},"3d2d":function(t,e,s){},"3e93":function(t,e,s){"use strict";s("7e75")},"42b2":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4678"},"46df":function(t,e,s){},4772:function(t,e){t.exports="data:image/jpeg;base64,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"},"4b09":function(t,e,s){},"4b71":function(t,e,s){"use strict";s("3d2d")},"508c":function(t,e,s){"use strict";s("f521")},5206:function(t,e,s){"use strict";s("aad0")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),r=s("bc3a"),i=s.n(r),o=s("3835"),n=s("53ca"),c=s("5530"),u=(s("a9e3"),s("fb6a"),s("a15b"),s("33d1"),s("ea98"),s("4de4"),s("d3b7"),s("07ac"),s("7db0"),s("d81d"),s("ac1f"),s("5319"),s("841c"),s("99af"),s("1276"),s("159b"),s("c740"),s("4fad"),s("e9c4"),s("b64b"),s("a434"),s("2f62")),p=s("782e"),l=s.n(p),d=s("1157"),h=s.n(d),g=s("1da1"),m=s("d4ec"),f=s("bee2"),v=s("ade3"),I=(s("96cf"),s("00b4"),s("b9b9")),y=s("fd34"),b=s.n(y),C={PICK_YOUR_EMOJI:"Pick your emoji",EMOJI:"Emoji",INSERT_EMOTICON:"Insert Emoticon",AVATAR:b.a,TODAY:"Today",YESTERDAY:"Yesterday",VIDEO_THUMBNAIL:window.wpguppy_scripts_vars.videoThumbnail},_=window.wpguppy_scripts_vars.chatSetting,A=window.wpguppy_scripts_vars.logoutUrl,M=window.wpguppy_scripts_vars.chatSetting.translations,T=window.wpguppy_scripts_vars.chatSetting.reportingReasons,S=window.wpguppy_scripts_vars.chatSetting.socketHost+":"+window.wpguppy_scripts_vars.chatSetting.socketPort,w=(window.wpguppy_scripts_vars.chatSetting.socketPort,s("c1df")),k=s.n(w),R=function(){function t(){Object(m["a"])(this,t),Object(v["a"])(this,"userId",window.wpguppy_scripts_vars.userId),Object(v["a"])(this,"recordLimit",Number(window.wpguppy_scripts_vars.showRec))}return Object(f["a"])(t,[{key:"getGroupMemberList",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=J.state.groupMemberOffset,r=J.state.noMoreGroupMemeber,i=J.state.groupMemberFlag;if(!r){J.commit("updateListFlag",{flag:"isScrollList",flagValue:!0}),a["a"].axios.get("get-guppy-group-users?offset="+s+"&search="+e+"&userId="+this.userId).then((function(e){J.commit("updateListFlag",{flag:"isScrollList",flagValue:!1});var s=0==e.data.guppyGroupUsers.length;J.commit("updateRecordList",{RecordList:"noMoreGroupMemeber",RecordListValue:s}),i||(J.commit("updateListFlag",{flag:"groupMemberFlag",flagValue:!0}),J.state.initGroupMembers=e.data.guppyGroupUsers);var a={list:e.data.guppyGroupUsers,listType:"groupMembers",isScrolling:t};J.commit("updateRecList",a)})).catch((function(t){console.log(t),J.commit("updateListFlag",{flag:"isScrollList",flagValue:!1})}));var o=s+this.recordLimit;J.commit("updateOffset",{offset:"groupMemberOffset",offsetValue:o})}}},{key:"getConversation",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,s,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.get("load-guppy-messages-list?userId="+this.userId+"&offset="+e+"&search="+s+"&chatType="+r);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e,s,a){return t.apply(this,arguments)}return e}()},{key:"getUsersList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>1&&void 0!==r[1]?r[1]:"",t.prev=1,t.next=4,a["a"].axios.get("load-guppy-users?userId="+this.userId+"&offset="+e+"&search="+s);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getFriendRequestsList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>1&&void 0!==r[1]?r[1]:"",t.prev=1,t.next=4,a["a"].axios.get("load-guppy-friend-requests?userId="+this.userId+"&offset="+e+"&search="+s);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getContactList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,s){var r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"",t.prev=1,t.next=4,a["a"].axios.get("load-guppy-contacts?userId="+this.userId+"&offset="+e+"&search="+r+"&friendStatus="+s);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e,s){return t.apply(this,arguments)}return e}()},{key:"getpostList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>1&&void 0!==r[1]?r[1]:"",t.prev=1,t.next=4,a["a"].axios.get("load-guppy-post-messages-list?userId="+this.userId+"&offset="+e+"&search="+s);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendMessage",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,o,n,u,p,l,d,g,m,f,v,I=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=I.length>1&&void 0!==I[1]?I[1]:"",h()(".at-replay_upload").removeClass("at-uploadoption_open"),r="",i="",o=new Object,o=J.state.isMessangerChat?Object(c["a"])({},J.state.chatInfo):Object(c["a"])({},J.state.chatInfo[s]),n=o.muteNotification,0!=o.chatType&&1!=o.chatType||(r=o.userName,i=o.userAvatar),t.prev=8,t.next=11,a["a"].axios.post("send-guppy-message",e);case 11:return u=t.sent,"success"==u.data.type&&(p=JSON.parse(JSON.stringify(u.data.chatData)),p["isSender"]=!0,J.commit("appendMessage",p),l=JSON.parse(JSON.stringify(u.data.messagelistData)),d=JSON.parse(JSON.stringify(u.data.chatData)),g=u.data.chatType,m=[],f=0,2==g&&(m=u.data.groupMembers,f=this.userId),v={chatData:d,messagelistData:l,groupMembers:m,userName:r,userAvatar:i,userId:f,chatType:g,muteNotification:n},J.dispatch("triggerSocketEvents",{event:"sendMessage",payload:v})),t.abrupt("return",u.data);case 16:return t.prev=16,t.t0=t["catch"](8),this.errors=t.t0,t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t,this,[[8,16]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getUnReadMessages",value:function(){a["a"].axios.get("load-unread-count?userId="+this.userId).then((function(t){J.commit("unseenCountMessage",t.data.unReadContent)})).catch((function(t){console.log(t)}))}},{key:"muteNotification",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.post("mute-guppy-notifications",e);case 3:return s=t.sent,"success"==s.data.type&&(r={muteType:e.muteType,chatType:e.chatType,chatId:e.chatId,isMute:"1"==s.data.muteAll,userId:this.userId},J.commit("updateMuteChatNotify",r),J.dispatch("triggerSocketEvents",{event:"updateMuteChatNotify",payload:r})),t.abrupt("return",s);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),N=new R,D=function(){function t(){Object(m["a"])(this,t),Object(v["a"])(this,"userId",J.state.userId)}return Object(f["a"])(t,null,[{key:"updateGroupMembers",value:function(){J.commit("editGroupDetail",{resetGroup:!0}),J.state.groupId=Math.floor(1e5*Math.random()),J.state.initGroupMembers.length?J.state.groupMembers=J.state.initGroupMembers:J.state.groupMembers.length&&this.groupMemberFlag||N.getGroupMemberList(!1)}},{key:"updateUserStatus",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.post("update-user-status",e);case 3:return s=t.sent,"success"==s.data.type&&(r=JSON.parse(JSON.stringify(s.data.userData)),4!=e.statusType&&3!=e.statusType||(i={userData:r},J.dispatch("triggerSocketEvents",{event:"updateUser",payload:i}))),t.abrupt("return",s);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatePostUserStatus",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.post("update-post-user-status",e);case 3:return s=t.sent,"success"==s.data.type&&(r=JSON.parse(JSON.stringify(s.data.userData)),4!=e.statusType&&3!=e.statusType||(i={userData:r},J.dispatch("triggerSocketEvents",{event:"updateUser",payload:i}))),t.abrupt("return",s);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendGuppyInvite",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,o,n,c,u,p,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.post("send-guppy-invite",e);case 3:return s=t.sent,"success"==s.data.type&&(s.data.autoInvite&&s.data.messagelistData&&s.data.friendData&&s.data.resendRequest&&J.commit("startChat",{friendData:s.data.friendData,messagelistData:s.data.messagelistData}),s.data.messagelistData&&s.data.chatData&&(r=JSON.parse(JSON.stringify(s.data.messagelistData)),i=JSON.parse(JSON.stringify(s.data.chatData)),o=s.data.userName,n=s.data.userAvatar,c=s.data.chatData.chatType,u=[],p=0,l={chatData:i,messagelistData:r,groupMembers:u,userName:o,userAvatar:n,userId:p,chatType:c},J.dispatch("triggerSocketEvents",{event:"sendMessage",payload:l}))),t.abrupt("return",s);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMessangerChatInfo",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].axios.get("get-messanger-chat-info?chatType="+e.chatType+"&chatId="+e.chatId+"&userId="+e.userId);case 3:return s=t.sent,t.abrupt("return",s);case 7:return t.prev=7,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"downloadFile",value:function(t,e){var s=document.createElement("a");s.href=t,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},{key:"getMessageTime",value:function(t){var e=null;return t&&(e=Object(I["a"])(new Date(1e3*t),"h:MM tt")),e}},{key:"getLongDateTime",value:function(t){var e=null,s=new Date(1e3*t),a=k()(s),r=k()().endOf("day"),i=r.diff(a,"days");return e=0==i?Object(I["a"])(s,"h:MM tt"):1==i?C.YESTERDAY:i>1&&i<7?Object(I["a"])(s,"ddd"):new Date(1e3*t).toLocaleDateString(),e}},{key:"updateSeenMessagesCounter",value:function(t){a["a"].axios.post("update-guppy-message",t).then((function(e){if("success"==e.data.type)if(0==e.data.chatType||1==e.data.chatType){if(Object.keys(e.data.messageIds).length){var s={senderId:e.data.senderId,chatId:e.data.chatId,messageIds:e.data.messageIds,messageCounter:e.data.messageCounter,chatType:e.data.chatType};J.dispatch("triggerSocketEvents",{event:"updateMsgStatus",payload:s})}}else if(2==e.data.chatType&&Object.keys(e.data.messageSenders).length){var a={chatId:e.data.chatId,messageSenders:e.data.messageSenders,chatType:e.data.chatType,messageCounter:e.data.messageCounter,userId:t.userId};J.dispatch("triggerSocketEvents",{event:"updateMsgStatus",payload:a})}})).catch((function(t){console.log(t)}))}},{key:"validateEmail",value:function(t){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)}},{key:"messagesScrollList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;a["a"].nextTick((function(){var s=document.getElementById("message-wrap_"+e);s&&(s.scrollTop=s.scrollHeight-t)}))}},{key:"playNotificationBell",value:function(){var t=_.notificationBellUrl,e=document.createElement("audio");e.autoplay=!0,e.load(),e.addEventListener("load",(function(){e.play()}),!0),e.src=t}},{key:"getChatType",value:function(t){if("string"==typeof t){if("private"==t)return 1;if("group"==t)return 2;if("post"==t)return 0}else{if(1==t)return"private";if(2==t)return"group";if(0==t)return"post"}}},{key:"getChatId",value:function(t){var e="",s=t.chatType;return 1==s?e=t.userId:2==s?e=t.chatId:0==s&&(e=t.postId),Number(e)}},{key:"loadMediaMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s={};J.state.isMessangerChat?s=Object(c["a"])({},J.state.chatInfo):e&&(s=Object(c["a"])({},J.state.chatInfo[e]));var a={chatId:s.chatId,chatType:Number(s.chatType),messageType:5,isSender:!0,timeStamp:Math.floor((new Date).getTime()/1e3),metaData:{randNum:t}};J.getters.getQuoteMessage&&(a["replyMessage"]=J.getters.getQuoteMessage),J.commit("appendMessage",a)}},{key:"usFirst",value:function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}}]),t}(),O=s("daa8"),L=function(){function t(){Object(m["a"])(this,t),Object(v["a"])(this,"socket",void 0)}return Object(f["a"])(t,[{key:"socketConnection",value:function(t){var e=!1;return"https:"===window.location.protocol&&(e=!0),this.socket=Object(O["a"])(S,{auth:{token:t},secure:e,reconnect:!0}),this.socket}},{key:"connectUser",value:function(t){this.socket&&this.socket.emit("addUser",{userId:parseInt(t)})}},{key:"sendMessage",value:function(t){this.socket&&this.socket.connected&&(this.socket.emit("receiverChatData",t),this.socket.emit("senderChatData",t))}},{key:"updateMsgStatus",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateMsgStatus",t)}},{key:"deleteMessage",value:function(t){this.socket&&this.socket.connected&&(this.socket.emit("deleteSenderMessage",t),this.socket.emit("deleteReceiverMessage",t))}},{key:"isTyping",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("isTyping",t)}},{key:"updateUser",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateReceiverUser",t),this.socket&&this.socket.connected&&this.socket.emit("updateSenderUser",t)}},{key:"updateGuppyGroup",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("groupChatData",t)}},{key:"leaveGuppyGroup",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("leaveGuppyGroup",t)}},{key:"updateMuteChatNotify",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateMuteChatNotify",t)}},{key:"clearChat",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("clearChat",t)}},{key:"deleteGroup",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("deleteGroup",t)}}]),t}(),j=new L,x={groupMemberOffset:0,groupId:!0,noMoreGroupMemeber:!1,groupMemberFlag:!1,isEditGroup:!1,groupMembers:[],initGroupMembers:[],deleteGroupMember:{userName:"",memberId:"",groupId:""},groupDetail:{disableReply:"",groupTitle:"",memberIds:[],adminIds:[],userId:window.wpguppy_scripts_vars.userId,isEditGroup:!1}},P={updateGroupChatData:function(t,e){var s=e.chatId;if(t.messagesList[s]&&(t.messagesList[s].messages.push(e.chatData),h()("#message-wrap_"+s).length&&h()("#message-wrap_"+s).animate({scrollTop:h()("#message-wrap_"+s)[0].scrollHeight},800)),t.groupConversation[s]){var a=t.groupConversation[s].muteNotification;t.userProfile.muteNotification||a||D.playNotificationBell()}},editGroupDetail:function(t,e){var s="";if(t.isMessangerChat?s=t.chatInfo:e.chatId&&(s=t.chatInfo[e.chatId]),e.resetGroup){var r={disableReply:!1,groupTitle:"",memberIds:[],adminIds:[],userId:this.userId,isEditGroup:!1,removeImage:0};a["a"].set(t,"groupDetail",r)}else{a["a"].set(t,"groupId",Math.floor(1e5*Math.random())),t.initGroupMembers.length?a["a"].set(t,"groupMembers",t.initGroupMembers):t.groupMembers.length&&t.groupMemberFlag||N.getGroupMemberList(!1);var i=[],o=[];if(s.groupDetail){var n=Object.values(s.groupDetail.memberAvatars),c=n.filter((function(t){return 2==Number(t.groupRole)}));i=n.map((function(t){return t.userId})),c.length&&(o=c.map((function(t){return t.userId})))}var u={disableReply:s.groupDetail?s.groupDetail.disableReply:"",groupTitle:s.groupTitle,memberIds:i,adminIds:o,userId:t.userId,isEditGroup:!0,removeImage:0};a["a"].set(t,"groupDetail",u)}}},E={},U=(s("caad"),s("2532"),{chatInfo:{},privateChatOffset:0,noMorePrivateChat:!1,privateConvFlag:!1,privateChatSearch:"",privateConversation:{},privateChatCount:0,groupChatOffset:0,noMoreGroupChat:!1,groupConvFlag:!1,groupChatSearch:"",groupConversation:{},groupChatCount:0,postListFlag:!1,postListOffset:0,noMorePostUsers:!1,postUserSearch:"",postConversation:{},postmessagesCount:0,contactListFlag:!1,contactListOffset:0,noMoreContactUsers:!1,contactUserSearch:"",contactList:{},requestListFlag:!1,requestListOffset:0,noMoreRequesttUsers:!1,requestUserSearch:"",requestList:{},requestCount:0,friendListFlag:!1,friendListOffset:0,noMoreFriendUsers:!1,friendUserSearch:"",friendList:{},blockListFlag:!1,blockListOffset:0,noMoreBlockUsers:!1,blockUserSearch:"",blockList:{},windowWidth:0}),B={startConversation:function(t,e){t.commit("startConversation",e)}},G={removeContactListItem:function(t,e){a["a"].delete(t.contactList,e.chatId)},updateWidgetType:function(t,e){"isMessangerChat"in e&&(t.isMessangerChat=e.isMessangerChat,t.isMobileView&&(t.chatInfo=new Object)),"isMobileView"in e&&(t.isMobileView=e.isMobileView)},updateChatInfo:function(t,e){if(0==Object.keys(e).length)a["a"].set(t,"chatInfo",{});else if(t.isMessangerChat)a["a"].set(t,"chatInfo",e.data);else{var s=t.windowWidth,r=3;s<1141?r=1:s<1601&&(r=2);var i=e.data.chatId,o=!1,n=!1;Object.prototype.hasOwnProperty.call(t.chatInfo,i)&&(o=!0),e.userClick&&(n=!0);var c=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize}));if(c.length==r)if(n)if(o){var u=c.findIndex((function(t){return t.chatId==i}));if(-1==u){var p={};p=t.chatInfo[i],p.isMinimize=!1,a["a"].delete(t.chatInfo,i),a["a"].set(t.chatInfo,i,p),a["a"].set(t.chatInfo[c[0].chatId],"isMinimize",!0)}}else a["a"].set(t.chatInfo[c[0].chatId],"isMinimize",!0),e.data["isMinimize"]=!1,a["a"].set(t.chatInfo,i,e.data);else o||(e.data["isMinimize"]=!0,a["a"].set(t.chatInfo,i,e.data));else if(n)if(o){var l={};l=t.chatInfo[i],l.isMinimize=!1,a["a"].delete(t.chatInfo,i),a["a"].set(t.chatInfo,i,l)}else e.data["isMinimize"]=!1,a["a"].set(t.chatInfo,i,e.data);else if(o){var d=c.findIndex((function(t){return t.chatId==i})),h=!0;-1!=d&&(h=!1),e.data["isMinimize"]=h,a["a"].set(t.chatInfo,i,e.data)}else e.data["isMinimize"]=!0,a["a"].set(t.chatInfo,i,e.data)}},unseenCountMessage:function(t,e){t.groupChatCount=e.groupChatCount,t.postmessagesCount=e.postmessagesCount,t.privateChatCount=e.privateChatCount,t.requestCount=e.requestCount},updateTabListRecord:function(t,e){if(Object.keys(t[e.listType]).length&&e.isScrolling){var s=Object(c["a"])(Object(c["a"])({},t[e.listType]),e.list);a["a"].set(t,e.listType,s)}else a["a"].set(t,e.listType,e.list)},selectTab:function(t,e){var s=_.enabledTabs;s.includes(e)&&(t.activeTab=e)},startChat:function(t,e){var s=e.friendData,r=e.messagelistData,i=s.chatId;a["a"].delete(t.contactList,i);var o=Object(c["a"])(Object(c["a"])({},s),{},{isSender:!0,message:r.message,isStartChat:r.isStartChat,blockedId:r.blockedId,messageId:r.messageId,messageStatus:r.messageStatus,messageType:r.messageType,muteNotification:!1,timeStamp:r.timeStamp,isMinimize:!1});if(t.activeTab="messages",!Object.prototype.hasOwnProperty.call(t.friendList,i)&&!s.isBlocked){var n=Object.assign({chatId:s},t.friendList);a["a"].set(t,"friendList",n)}if(!Object.prototype.hasOwnProperty.call(t.privateConversation,i)){var u=Object.assign({chatId:o},t.privateConversation);a["a"].set(t,"privateConversation",u)}t.isMessangerChat?a["a"].set(t,"chatInfo",o):a["a"].set(t.chatInfo,i,o),h()(".at-chat").addClass("at-auto-start-chat")},updateRecList:function(t,e){var s=e;t[s.listType].length&&s.isScrolling?s.list.forEach((function(e){var r=t[s.listType].findIndex((function(t){return Number(t.userId)==Number(e.userId)}));-1==r&&a["a"].set(t[s.listType],t[s.listType].length,e)})):(t[s.listType]=[],t[s.listType]=s.list)},updateConversationMessage:function(t,e){var s=e.chatId,r=e.chatType,i="";if(0==r?i="postConversation":1==r?i="privateConversation":2==r&&(i="groupConversation"),e.messageId)Object.prototype.hasOwnProperty.call(t[i],s)&&t[i][s].messageId==e.messageId&&(t[i][s].messageStatus=2);else if(e.messagelistData){var o=JSON.parse(JSON.stringify(e.messagelistData));o["clearChat"]=!1;var n=0;if(Object.prototype.hasOwnProperty.call(t[i],s)&&a["a"].delete(t[i],s),t.isMessangerChat)0!==Object.keys(t.chatInfo).length&&t.chatInfo.chatId==s&&t.chatInfo.chatType==r||(n=o.UnreadCount),2==o.chatType?t.chatInfo&&t.chatInfo.chatId==s&&t.chatInfo.chatType==o.chatType&&a["a"].set(t,"chatInfo",o):o.isStartChat&&a["a"].set(t,"chatInfo",o);else{var u=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize&&t.chatId==s})).length;0==u&&(n=o.UnreadCount);var p=!1;o.isStartChat&&(p=!0),t.isMobileView||this.commit("updateChatInfo",{data:o,userClick:p})}if(Number(n)>0)if(0==o.chatType){var l=t.postmessagesCount+1;a["a"].set(t,"postmessagesCount",l)}else if(1==o.chatType){var d=t.privateChatCount+1;a["a"].set(t,"privateChatCount",d)}else if(2==o.chatType){var h=t.groupChatCount+1;a["a"].set(t,"groupChatCount",h)}o.UnreadCount=n;var g=new Object;g[s]=o;var m=Object(c["a"])(Object(c["a"])({},g),t[i]);a["a"].set(t,i,m)}},updateWindowWidth:function(t,e){t.windowWidth=e.windowWidth}},Q={selectedChatId:""},F={},q={updateSelectedChatId:function(t,e){a["a"].set(t,"selectedChatId",e.chatId)},closeWidgetChatbox:function(t,e){a["a"].delete(t.chatInfo,e.chatId)},minimizeWidgetChatbox:function(t,e){var s=e.chatId;if(e.isMinimize){var r=Object(c["a"])({},t.chatInfo[s]);r.isMinimize=!0,a["a"].delete(t.chatInfo,s),a["a"].set(t.chatInfo,s,r)}else{var i=t.windowWidth,o=3;i<1141?o=1:i<1601&&(o=2);var n=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize}));if(n.length==o&&a["a"].set(t.chatInfo[n[0].chatId],"isMinimize",!0),t.chatInfo[s].UnreadCount>0){var u=t.userId,p={chatId:s,chatType:t.chatInfo[s].chatType,userId:u};D.updateSeenMessagesCounter(p)}var l=Object(c["a"])({},t.chatInfo[s]);l.isMinimize=!1,a["a"].delete(t.chatInfo,s),a["a"].set(t.chatInfo,s,l)}}},V=Object(c["a"])(Object(c["a"])(Object(c["a"])({},x),U),Q),z=Object(c["a"])(Object(c["a"])({},B),E),$=Object(c["a"])(Object(c["a"])(Object(c["a"])({},P),G),q);Object(c["a"])({},F);a["a"].use(u["a"]);var J=new u["a"].Store({state:Object(c["a"])(Object(c["a"])({},V),{},{userId:window.wpguppy_scripts_vars.userId,FriendsOffset:0,BlocksOffset:0,isScrollList:!1,pusher:!1,noMoreFriends:!1,noMoreBlockUsers:!1,invitationResp:!1,ReceiveInvitation:!1,userFriendFlag:!1,userBlockFlag:!1,postFlag:!1,autoInvite:!0,isEmptyView:!0,isOpenMessagesScr:!1,isMessangerChat:!1,isMobileView:!1,userResponseData:"",unseenPostMsgCount:"",unseenMsgCount:"",requestCount:"",userProfile:"",quoteMessageId:{},widgetChatMessageInput:{},messageInput:"",friendSearch:"",blockUserSearch:"",activeTab:"users",messagesList:{}}),getters:{getTotalUnreadCount:function(t){var e=t.privateChatCount,s=t.postmessagesCount,a=0;return t.autoInvite||(a=t.requestCount),Number(e)+Number(s)+Number(a)},getMessageInput:function(t){return function(e){return t.isMessangerChat?t.messageInput:e?t.widgetChatMessageInput[e]:void 0}},typingUsersIndicatorText:function(t){return function(e){var s="";t.isMessangerChat?s=t.chatInfo:e&&(s=t.chatInfo[e]);var a="typingUsers"in s,r="",i="",o=0;if(a){var n=s.typingUsers;if(o=n.length,o){var c=n.slice(0,3);1==o?(r="isTypingText",i=c[0]):2==o||3==o?(r="areTypingText",i=c.join(", ")):(r="moreTypingText",i=c.join(", "))}}return{indicator:r,typingUsers:i,tUsers:o}}},isDisabledFooter:function(t){return function(e){var s="";if(t.isMessangerChat?s=t.chatInfo.chatId:e&&(s=e),t.messagesList[s]){var a=t.messagesList[s].messages.at(-1);if(a)return 5==a.messageType}return!1}},loadChat:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat){if(t.messagesList[t.chatInfo.chatId])return t.messagesList[t.chatInfo.chatId].loadChat}else if(e&&t.messagesList[e])return t.messagesList[e].loadChat;return!0}},messageLoading:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat){if(t.messagesList[t.chatInfo.chatId])return t.messagesList[t.chatInfo.chatId].messagesLoading}else if(e&&t.messagesList[e])return t.messagesList[e].messagesLoading;return!1}},widgetChats:function(t){return t.isMessangerChat?[]:Object.values(t.chatInfo).filter((function(t){return!1===t.isMinimize}))},minimizeChats:function(t){return t.isMessangerChat?[]:Object.values(t.chatInfo).reverse().filter((function(t){return!0===t.isMinimize}))},getQuoteMessage:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s="";s=t.isMessangerChat?t.chatInfo.chatId:e;var a=t.quoteMessageId[s];if(a){var r=t.messagesList[s];if(r)return r.messages.find((function(t){return t.messageId==a}))}return""}},getQuoteMessageId:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s="";return s=t.isMessangerChat?t.chatInfo.chatId:e,t.quoteMessageId[s]}},muteChatNotify:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat)return t.chatInfo.muteNotification;var s=Object(c["a"])({},t.chatInfo[e]);return!!s&&s.muteNotification}},messagesListData:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=null,a="";return a=t.isMessangerChat?t.chatInfo.chatId:e,t.messagesList[a]?t.messagesList[a].messages.map((function(t){var e=new Date(1e3*t.timeStamp).toLocaleDateString();if(s!==e){var r=k()(new Date(1e3*t.timeStamp)),i=k()().endOf("day"),o=i.diff(r,"days");t.messageSentDate=0==o?C.TODAY:1==o?C.YESTERDAY:o>1&&o<7?Object(I["a"])(new Date(1e3*t.timeStamp),"dddd"):Object(I["a"])(new Date(1e3*t.timeStamp),"dddd, mmm d, yyyy")}else t.messageSentDate="";return s=e,t["chatId"]=a,t})):[]}},getChatInfo:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s={};return t.isMessangerChat?s=t.chatInfo:e?s=t.chatInfo[e]:t.selectedChatId&&(s=t.chatInfo[t.selectedChatId]),s||{}}},chatInfoData:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t.isMessangerChat?t.chatInfo:e?t.chatInfo[e]:{}}},memberDisable:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s={};t.isMessangerChat?s=t.chatInfo:e&&(s=t.chatInfo[e]);var a=M,r={isDisable:!1,disableText:""};if(2==s.chatType&&s.memberDisable){var i=s.message;if(r.isDisable=!0,"object"==Object(n["a"])(i)){var o=[],c=i.type,u=s.membersUpdate,p=4==c?a.leave_grp_member_txt:a.remove_grp_member_txt;o=i.memberIds.length?i.memberIds:[],s.isSender?r.disableText=p.replace("“((username))”",a.you):r.disableText=p.replace("“((username))”",u[o[0]])}}return r}},disableReply:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s={};if(t.isMessangerChat?s=t.chatInfo:e&&(s=t.chatInfo[e]),2==s.chatType){var a=s.userDisableReply;if(a)return!0}return!1}},getUserRole:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s={};t.isMessangerChat?s=t.chatInfo:e&&(s=t.chatInfo[e]);var a=[];if(s.groupDetail&&(a=Object.values(s.groupDetail.memberAvatars),a.length)){var r=a.find((function(e){return Number(e.userId)==Number(t.userId)}));if(r)return r.groupRole}return""}}},mutations:Object(c["a"])(Object(c["a"])({},$),{},{updateQuoteMessageId:function(t,e){a["a"].set(t.quoteMessageId,e.chatId,e.messageId)},removeQuote:function(t,e){a["a"].delete(t.quoteMessageId,e.chatId)},updateMessageInput:function(t,e){t.isMessangerChat?a["a"].set(t,"messageInput",e.text):e.chatId&&a["a"].set(t.widgetChatMessageInput,e.chatId,e.text)},updateSearch:function(t,e){t[e.search]=e.searchValue},getGroupMembers:function(t,e){t.groupMembers=e},updateRecordList:function(t,e){t[e.RecordList]=e.RecordListValue},updateOffset:function(t,e){t[e.offset]=e.offsetValue},updateListFlag:function(t,e){t[e.flag]=e.flagValue},declineInvite:function(t,e){a["a"].delete(t.requestList,e.chatId),a["a"].set(t.contactList,e.chatId,e)},blockUser:function(t,e){a["a"].delete(t.requestList,e.chatId),a["a"].set(t.blockList,e.chatId,e)},acceptInvite:function(t,e){var s=e.chatId;a["a"].delete(t.requestList,s),a["a"].set(t.friendList,s,e),t.isMessangerChat?a["a"].set(t,"chatInfo",e):(e["isMinimize"]=!1,a["a"].set(t.chatInfo,s,e)),t.isEmptyView=!1,t.isOpenMessagesScr=!0},toggleMessagesScr:function(t,e){t.isEmptyView=e.isEmptyView,t.isOpenMessagesScr=e.isOpenMessagesScr},UpdateMessageList:function(t,e){var s=e.chatId,r={messages:e.messages,loadChat:e.loadChat,messagesLoading:!1},i=!1;Object.prototype.hasOwnProperty.call(t.messagesList,s)?(t.messagesList[s].messages=r.messages,t.messagesList[s].loadChat=r.loadChat,t.messagesList[s].messagesLoading=!1,i=!0):a["a"].set(t.messagesList,s,r);var o=e.mediaAttachments?e.mediaAttachments:[];Object.prototype.hasOwnProperty.call(t.messagesList,s)&&(o.length>20&&(t.messagesList[s]["chatMediaOffset"]=20),t.messagesList[s].mediaAttachments&&(o=o.concat(t.messagesList[s].mediaAttachments)),o.length&&(t.messagesList[s]["mediaAttachments"]=o)),i?D.messagesScrollList(e.lastScrollTop,e.chatId):D.messagesScrollList(0,e.chatId)},UpdateChatMediaAttachments:function(t,e){var s=e.chatId,r=e.mediaAttachments?e.mediaAttachments:[],i=new Object;Object.prototype.hasOwnProperty.call(t.messagesList,s)&&(r.length?i["chatMediaOffset"]=t.messagesList[s].chatMediaOffset+20:i["chatMediaOffset"]=!1,t.messagesList[s].mediaAttachments&&(r=t.messagesList[s].mediaAttachments.concat(r),i["mediaAttachments"]=r,i["messages"]=t.messagesList[s].messages,i["loadChat"]=t.messagesList[s].loadChat,a["a"].set(t.messagesList,s,i)))},userResponse:function(t,e){t.userResponseData=e,t.isEmptyView=!1,t.isOpenMessagesScr=!1},UpdateSelectUserStatus:function(t,e){if(1==e.chatType)e.chatId in t.privateConversation&&a["a"].set(t.privateConversation[e.chatId],"isBlocked",e.isBlocked),e.isBlocked?(e.chatId in t.friendList&&a["a"].delete(t.friendList,e.chatId),Object.prototype.hasOwnProperty.call(t.blockList,e.chatId)||a["a"].set(t.blockList,e.chatId,e)):(Object.prototype.hasOwnProperty.call(t.blockList,e.chatId)&&a["a"].delete(t.blockList,e.chatId),1==e.friendStatus?a["a"].set(t.friendList,e.chatId,e):Object.prototype.hasOwnProperty.call(t.contactList,e.chatId)||a["a"].set(t.contactList,e.chatId,e));else if(0==e.chatType){var s=e.chatId.split("_");if(s=s[1],0==e.blockType){var r=Object(c["a"])({},t.postConversation),i=Object.values(r),o=e.chatId.split("_")[1];i.length&&i.forEach((function(r){r.postReceiverId==o&&(a["a"].set(t.postConversation[r.chatId],"isBlocked",e.isBlocked),a["a"].set(t.postConversation[r.chatId],"blockedId",s),a["a"].set(t.postConversation[r.chatId],"isOnline",e.isOnline))}))}else a["a"].set(t.postConversation[e.chatId],"isBlocked",e.isBlocked),a["a"].set(t.postConversation[e.chatId],"blockedId",s),a["a"].set(t.postConversation[e.chatId],"isOnline",e.isOnline)}var n=e.chatId.split("_");if(n=n[1],t.isMessangerChat)1==t.chatInfo.chatType?t.chatInfo=e:(t.chatInfo["blockedId"]=n,t.chatInfo["blockerId"]=e.blockerId,t.chatInfo["clearChat"]=e.clearChat,t.chatInfo["isBlocked"]=e.isBlocked,t.chatInfo["isOnline"]=e.isOnline);else if(e.chatId in t.chatInfo){e["isMinimize"]=!1;var u=t.chatInfo[e.chatId];u&&(u["blockedId"]=n,u["blockerId"]=e.blockerId,u["clearChat"]=e.clearChat,u["isBlocked"]=e.isBlocked,u["isOnline"]=e.isOnline,a["a"].set(t.chatInfo,e.chatId,u))}},getUserProfile:function(t,e){t.userProfile=e},receiveMessage:function(t,e){var s=e.chatId,a=e.chatData.chatType,r=e.chatData.isSender,i="";if(0==a?i="postConversation":1==a?i="privateConversation":2==a&&(i="groupConversation"),Object.prototype.hasOwnProperty.call(t[i],s)){var o=t[i][s].muteNotification;t.userProfile.muteNotification||o||r||D.playNotificationBell()}if(t.messagesList[s]){var n=t.messagesList[s].messages.findIndex((function(t){return t.messageId==e.chatData.messageId})),c=e.chatData.metaData.randNum,u=t.messagesList[s].messages.findIndex((function(t){return!!t.metaData&&t.metaData.randNum==c}));-1==n&&-1==u&&t.messagesList[s].messages.push(e.chatData),h()("#message-wrap_"+s).length&&h()("#message-wrap_"+s).animate({scrollTop:h()("#message-wrap_"+s)[0].scrollHeight},800)}if(t.isMessangerChat){if(t.chatInfo.chatId==e.chatId&&t.chatInfo.chatType==e.chatData.chatType&&!r){var p=t.userId,l={chatId:t.chatInfo.chatId,chatType:e.chatData.chatType,userId:p};D.updateSeenMessagesCounter(l)}}else{var d=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize&&t.chatId==s})).length;if(0!=d&&!r){var g=t.userId,m={chatId:t.chatInfo[s].chatId,chatType:e.chatData.chatType,userId:g};D.updateSeenMessagesCounter(m)}}},updateUnseenCounter:function(t,e){var s="",r="";0==e.chatType?(s="postConversation",r="postmessagesCount"):1==e.chatType?(r="privateChatCount",s="privateConversation"):2==e.chatType?(r="groupChatCount",s="groupConversation"):3==e.chatType&&(r="requestCount",s="requestList");var i=0;t[r]>0&&(i=t[r]-e.UnreadCount),a["a"].set(t,r,i),e.chatId&&t[s][e.chatId]&&a["a"].set(t[s][e.chatId],"UnreadCount",0)},appendMessage:function(t,e){var s=e.chatId,r=e.metaData.randNum;if(t.messagesList[s]){var i=t.messagesList[s].messages.findIndex((function(t){return!!t.metaData&&t.metaData.randNum==r}));i>-1?a["a"].set(t.messagesList[s]["messages"],i,e):t.messagesList[s]["messages"].push(e),D.messagesScrollList(0,e.chatId)}},updateMessageStatus:function(t,e){var s=e.chatId,r=e.messageIds,i=e.messageCounter,n=e.chatType,c=e.isSender,u="";if(0==n?u="postConversation":1==n?u="privateConversation":2==n&&(u="groupConversation"),t.messagesList[s]&&c){if("0"==n||"1"==n){if(r)for(var p=function(){var e=Object(o["a"])(d[l],1),a=e[0],r=t.messagesList[s].messages.findIndex((function(t){return t.messageId==a}));r>-1&&(t.messagesList[s].messages[r].messageStatus=1)},l=0,d=Object.entries(r);l<d.length;l++)p()}else if("2"==n&&e.detail)for(var h=function(){var e=Object(o["a"])(m[g],2),r=e[0],i=e[1],n=t.messagesList[s].messages.findIndex((function(t){return t.messageId==r}));if(n>-1)if(i.seen)t.messagesList[s].messages[n].messageStatus=1;else{var c=t.messagesList[s].messages[n];c.messageSeenIds=i.seenids,a["a"].set(t.messagesList[s].messages,n,c)}},g=0,m=Object.entries(e.detail);g<m.length;g++)h()}else if(!c){s=s.split("_");var f="";if(0==n){var v=e.senderId;f="postmessagesCount",s=s[0]+"_"+v+"_"+n}else if(1==n){var I=e.senderId;f="privateChatCount",s=I+"_"+n}else 2==n&&(f="groupChatCount",s=s[0]+"_"+n);if(Object.prototype.hasOwnProperty.call(t[u],s)){var y=t[u][s].UnreadCount-i;Number(y)>=0&&(a["a"].set(t[u][s],"UnreadCount",y),a["a"].set(t,f,y),t.isMessangerChat||Object.prototype.hasOwnProperty.call(t.chatInfo,s)&&a["a"].set(t.chatInfo[s],"UnreadCount",y))}}},updateUser:function(t,e){var s=e.chatId,r=e.status,i=0,o=e.isBlocked,n=e.chatType,u=e.blockerId,p="";if(0==n?(p="postConversation",i=e.blockedId):1==n&&(p="privateConversation",i=e.blockedId),1==n)3==r?(s in t.friendList&&a["a"].delete(t.friendList,s),t.userId==u&&(Object.prototype.hasOwnProperty.call(t.blockList,s)||a["a"].set(t.blockList,s,e))):1==r&&(Object.prototype.hasOwnProperty.call(t.friendList,s)||a["a"].set(t.friendList,s,e),t.userId==u&&s in t.blockList&&a["a"].delete(t.blockList,s)),Object.prototype.hasOwnProperty.call(t[p],s)&&(t[p][s].blockedId=i,t[p][s].friendStatus=r,t[p][s].isBlocked=o,t[p][s].isOnline=e.isOnline,t[p][s].muteNotification=e.muteNotification);else if(0==e.chatType)if(0==e.blockType){var l=Object(c["a"])({},t[p]),d=Object.values(l),h=s.split("_")[1];d.length&&d.forEach((function(s){s.postReceiverId==h&&(a["a"].set(t[p][s.chatId],"isBlocked",e.isBlocked),a["a"].set(t[p][s.chatId],"blockedId",i),a["a"].set(t[p][s.chatId],"isOnline",e.isOnline),a["a"].set(t[p][s.chatId],"friendStatus",r))}))}else Object.prototype.hasOwnProperty.call(t[p],s)&&(a["a"].set(t[p][s],"isBlocked",e.isBlocked),a["a"].set(t[p][s],"blockedId",i),a["a"].set(t[p][s],"isOnline",e.isOnline),a["a"].set(t[p][s],"friendStatus",r),a["a"].set(t[p][s],"muteNotification",e.muteNotification));if(t.isMessangerChat)t.chatInfo.chatId==s&&t.chatInfo.chatType==n&&(t.chatInfo.isBlocked=o,t.chatInfo["blockedId"]=i,t.chatInfo["friendStatus"]=r,t.chatInfo["muteNotification"]=e.muteNotification);else if(0==e.chatType&&0==e.blockType){var g=Object.values(t.chatInfo),m=s.split("_")[1];g.length&&g.forEach((function(s){s.postReceiverId==m&&(a["a"].set(t.chatInfo[s.chatId],"isBlocked",e.isBlocked),a["a"].set(t.chatInfo[s.chatId],"blockedId",i),a["a"].set(t.chatInfo[s.chatId],"isOnline",e.isOnline),a["a"].set(t.chatInfo[s.chatId],"muteNotification",e.muteNotification),a["a"].set(t.chatInfo[s.chatId],"friendStatus",r))}))}else Object.prototype.hasOwnProperty.call(t.chatInfo,s)&&(a["a"].set(t.chatInfo[s],"isBlocked",o),a["a"].set(t.chatInfo[s],"blockedId",i),a["a"].set(t.chatInfo[s],"friendStatus",r),a["a"].set(t.chatInfo[s],"muteNotification",e.muteNotification),a["a"].set(t.chatInfo[s],"muteNotification",e.muteNotification))},deleteMessageStatus:function(t,e){var s=e.messageId,r=e.chatId,i=e.chatType;if(t.messagesList[r]){var o=t.messagesList[r].messages.findIndex((function(t){return t.messageId==s}));o>-1&&(t.messagesList[r].messages[o].messageStatus=2)}if(!t.isMessangerChat&&Object.prototype.hasOwnProperty.call(t.chatInfo,r)){var n=t.chatInfo[r].UnreadCount;n-=1,n>=0&&a["a"].set(t.chatInfo[r],"UnreadCount",n)}var c="",u="",p=0;0==i?(p=t.postmessagesCount-1,u="postmessagesCount",c="postConversation"):1==i?(p=t.privateChatCount-1,u="privateChatCount",c="privateConversation"):2==i&&(p=t.groupChatCount-1,u="groupChatCount",c="groupConversation"),p>=0&&(a["a"].set(t,u,p),a["a"].set(t[c][r],"UnreadCount",p))},clearGuppyChat:function(t,e){var s=e.chatId;t.messagesList[s]&&(t.messagesList[s]["messages"]=[],t.messagesList[s].loadChat=!1);var r="";0==e.chatType?r=["postConversation"]:1==e.chatType?r=["privateConversation","friendList"]:2==e.chatType&&(r=["groupConversation"]),r.forEach((function(e){t[e][s]&&a["a"].set(t[e][s],"clearChat",!0)}))},updateMessageLoadingFlag:function(t,e){if(t.messagesList[e.chatId])a["a"].set(t.messagesList[e.chatId],"messagesLoading",e.flagValue);else{var s={messages:null,mediaAttachments:null,loadChat:!0,messagesLoading:e.flagValue};a["a"].set(t.messagesList,e.chatId,s)}},updateMuteChatNotify:function(t,e){var s=e.muteType,r=[];0==s?(0==e.chatType?r=["postConversation"]:1==e.chatType?r=["privateConversation","friendList"]:2==e.chatType&&(r=["groupConversation"]),t.isMessangerChat?t.chatInfo.chatId==e.chatId&&a["a"].set(t.chatInfo,"muteNotification",e.isMute):t.chatInfo[e.chatId]&&(t.chatInfo[e.chatId]["muteNotification"]=e.isMute),r.forEach((function(s){t[s][e.chatId]&&a["a"].set(t[s][e.chatId],"muteNotification",e.isMute)}))):t.userProfile.muteNotification=e.isMute},updateTypeIndicator:function(t,e){var s={},r=e.chatId;if(t.isMessangerChat?s=JSON.parse(JSON.stringify(t.chatInfo)):(0==e.chatType?(r=r.split("_"),r=r[0]+"_"+e.senderId+"_"+e.chatType):1==e.chatType&&(r=e.senderId+"_"+e.chatType),Object.prototype.hasOwnProperty.call(t.chatInfo,r)&&(s=JSON.parse(JSON.stringify(t.chatInfo[r])))),Object.keys(s).length){var i="typingUsers"in s;if(i||(s["typingUsers"]=[]),0==e.chatType||1==e.chatType){var o=s.chatId;if(o=o.split("_"),o=0==e.chatType?o[1]:o[0],o==e.senderId&&s.chatType==e.chatType)if(e.text)s["typingUsers"]=[],s.typingUsers.push(e.userName);else{var n=s.typingUsers.indexOf(e.userName);n>-1&&s.typingUsers.splice(n,1)}else{var c=s.typingUsers.indexOf(e.userName);c>-1&&s.typingUsers.splice(c,1)}}else if(2==e.chatType)if(s.chatId==e.chatId&&s.chatType==e.chatType)if(e.text)-1==s.typingUsers.indexOf(e.userName)&&s.typingUsers.push(e.userName);else{var u=s.typingUsers.indexOf(e.userName);u>-1&&s.typingUsers.splice(u,1)}else{var p=s.typingUsers.indexOf(e.userName);p>-1&&s.typingUsers.splice(p,1)}t.isMessangerChat?a["a"].set(t.chatInfo,"typingUsers",s.typingUsers):a["a"].set(t.chatInfo[r],"typingUsers",s.typingUsers)}},deleteGroup:function(t,e){a["a"].delete(t.groupConversation,e.chatId),t.isMessangerChat?a["a"].set(t,"isEmptyView",!0):(a["a"].set(t,"selectedChatId",""),a["a"].delete(t.chatInfo,e.chatId))}}),actions:Object(c["a"])(Object(c["a"])({},z),{},{unBlockUser:function(t,e){t.commit("unBlockUser",e)},toggleMessagesScr:function(t,e){t.commit("toggleMessagesScr",e)},userResponse:function(t,e){t.commit("userResponse",e)},getUserProfile:function(t,e){t.commit("getUserProfile",e)},clearGuppyChat:function(t,e){t.commit("clearGuppyChat",e)},UpdateMessageList:function(t,e){var s=t.state,r=e.chatData,i=r.chatId,o=r.receiverId,n=Number(r.chatType),c=r.groupId,u=s.userId,p=r.postId,l=[],d=0,h=!0,g=[],m=D.getChatType(n);s.messagesList[i]&&(g=s.messagesList[i].messages,g.length&&(t.commit("updateMessageLoadingFlag",{flagValue:!0,chatId:i}),d=g[0].messageId)),a["a"].axios.get("load-guppy-chat?offset="+d+"&receiverId="+o+"&userId="+u+"&chatType="+n+"&groupId="+c+"&postId="+p).then((function(s){if("success"==s.data.type){s.data.chatMessages.length||(h=!1),l=g.length?[].concat(s.data.chatMessages,g):s.data.chatMessages;var a={type:m,messages:l,mediaAttachments:s.data.mediaAttachments,lastScrollTop:e.lastScrollTop,messagesLoading:!0,loadChat:h,chatId:i};"undefined"!=typeof s.data.muteNotfication&&(a["muteNotfication"]=s.data.muteNotfication),t.commit("UpdateMessageList",a)}})).catch((function(t){console.log(t)}))},updateConversationMessage:function(t,e){t.commit("updateConversationMessage",e)},updateMessageStatus:function(t,e){t.commit("updateMessageStatus",e)},deleteMessageStatus:function(t,e){t.commit("deleteMessageStatus",e)},getGroupMembers:function(t,e){t.commit("getGroupMembers",e)},initializePusher:function(t,e){var s=new l.a(e.pusherKey,{cluster:e.pusherCluster,authEndpoint:e.restApiUrl+"channel-authorize"});if(s){var a=s.subscribe("private-user-"+e.userId);t.state.pusher=s,a.bind("recChatData",(function(e){t.commit("updateConversationMessage",e),t.commit("receiveMessage",e)})),a.bind("updateUser",(function(e){t.commit("updateUser",e)})),a.bind("clearChat",(function(e){t.commit("clearGuppyChat",e)})),a.bind("deleteGroup",(function(e){t.commit("deleteGroup",e)})),a.bind("updateMuteChatNotify",(function(e){t.commit("updateMuteChatNotify",e)})),a.bind("senderChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),a.bind("updateMessage",(function(e){t.commit("updateMessageStatus",e)})),a.bind("deleteMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),a.bind("groupChatData",(function(e){"undefined"!=typeof e.chatData&&(t.commit("updateGroupChatData",e),t.commit("receiveMessage",e)),t.commit("updateConversationMessage",e)})),a.bind("client-isTyping",(function(e){t.commit("updateTypeIndicator",e)}))}},initializeSocket:function(t,e){var s=j.socketConnection(e.authToken);s&&(e.userId>0&&j.connectUser(e.userId),s.on("receiverChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),s.on("senderChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),s.on("updateMsgStatus",(function(e){t.commit("updateMessageStatus",e)})),s.on("deleteSenderMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),s.on("deleteReceiverMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),s.on("isTyping",(function(e){t.commit("updateTypeIndicator",e)})),s.on("updateUser",(function(e){t.commit("updateUser",e)})),s.on("updateMuteChatNotify",(function(e){t.commit("updateMuteChatNotify",e)})),s.on("clearChat",(function(e){t.commit("clearGuppyChat",e)})),s.on("deleteGroup",(function(e){t.commit("deleteGroup",e)})),s.on("groupChatData",(function(e){"undefined"!=typeof e.chatData&&t.commit("updateGroupChatData",e),t.commit("updateConversationMessage",e)})),s.on("leaveGuppyGroup",(function(e){"undefined"!=typeof e.chatData&&t.commit("updateGroupChatData",e),t.commit("updateConversationMessage",e)})))},triggerSocketEvents:function(t,e){"socket"==_.realTimeOption&&_.socketEnable&&("sendMessage"==e.event?j.sendMessage(e.payload):"updateMuteChatNotify"==e.event?j.updateMuteChatNotify(e.payload):"deleteGroup"==e.event?j.deleteGroup(e.payload):"updateMsgStatus"==e.event?j.updateMsgStatus(e.payload):"clearChat"==e.event?j.clearChat(e.payload):"deleteMessage"==e.event?j.deleteMessage(e.payload):"updateUser"==e.event?j.updateUser(e.payload):"updateGuppyGroup"==e.event?j.updateGuppyGroup(e.payload):"leaveGuppyGroup"==e.event&&j.leaveGuppyGroup(e.payload))},triggerclientEvents:function(t,e){if("socket"==_.realTimeOption&&_.socketEnable)"isTyping"==e.event&&j.isTyping(e.payload);else if("pusher"==_.realTimeOption&&_.pusherEnable&&"isTyping"==e.event&&t.state.pusher)if(0==e.payload.chatType||1==e.payload.chatType){var s=t.state.pusher.subscribe("private-user-"+e.payload.chatId);s.trigger("client-isTyping",e.payload)}else 2==e.payload.chatType&&e.payload.groupMembers.length&&e.payload.groupMembers.forEach((function(s){var a=t.state.pusher.subscribe("private-user-"+s);a.trigger("client-isTyping",e.payload)}))}})}),H=s("130e"),W={data:function(){return{messagesOffset:0,UserChatOffset:0,isLoading:!1,isScrolling:!1,RecordLimit:Number(window.wpguppy_scripts_vars.showRec),StatusText:window.wpguppy_scripts_vars.friendListStatusText,userId:window.wpguppy_scripts_vars.userId,postId:window.wpguppy_scripts_vars.postId,isSingle:window.wpguppy_scripts_vars.isSingle,errors:"",TRANS:M}},methods:{alertBox:function(t,e,s){this.$swal({icon:t,title:e,text:s,showCloseButton:!0,showConfirmButton:!1})}}},K=s("d6d3"),Y=s.n(K),X=s("9aa5"),Z=s.n(X),tt=(s("fda2"),s("451f"),s("2699")),et=s("a40a"),st=s("4e2b"),at=s("e11e"),rt=(s("6cc5"),s("dad5")),it=s.n(rt),ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chat",class:{"wpguppy-rtl":t.isRtl}},[s("guppy-chat-sidebar"),s("guppy-chat-messages"),s("sidebar-popup")],1)},nt=[],ct=(s("3ca3"),s("ddb0"),s("9861"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chat_sidebar"},[s("guppy-chat-header",{attrs:{isWidgetChat:t.isWidgetChat}}),"contacts"==t.activeTab?s("guppy-caht-user-list"):"messages"==t.activeTab?s("guppy-chat-conversation-list",{on:{getUserMessageEvent:function(e){return t.getMessageEvent(e)}}}):"friends"==t.activeTab?s("guppy-chat-friend-list",{attrs:{TabProps:t.activeTab}}):"blocked"==t.activeTab?s("guppy-chat-block-user-list",{attrs:{TabProps:t.activeTab}}):"posts"==t.activeTab?s("guppy-chat-posts-conversation-list",{attrs:{TabProps:t.activeTab}}):t._e(),s("guppy-chat-sidebar-footer")],1)}),ut=[],pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"messages"}},[t.groupChatEnable?s("div",{staticClass:"at-userchat_tab"},[s("a",{class:{"at-tabactive":"private"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="private"}}},[s("i",{staticClass:"guppy-user"}),t._v(" "+t._s(t.TRANS.private_txt_heading)+" "),t.privateChatCount?s("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.privateChatCount>99?"+99":t.privateChatCount))]):t._e()]),s("a",{class:{"at-tabactive":"group"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="group"}}},[s("i",{staticClass:"guppy-users"}),t._v(" "+t._s(t.TRANS.group_txt_heading)+" "),t.groupChatCount?s("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.groupChatCount>99?"+99":t.groupChatCount))]):t._e()])]):t._e(),"private"==t.selectedTab?[s("private-conversation")]:[s("group-conversation")]],2)},lt=[],dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"messages"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.chat))]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchConversation()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.conversation).length?s("ul",{staticClass:"conversation-list",on:{scroll:function(e){return t.conversationScrollHandler(e)}}},[t._l(t.conversation,(function(t,e){return s("guppy-chat-conversation-list-item",{key:e,attrs:{ConversationItemProps:t}})})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-message-square"}})]],2)},ht=[],gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"at-userbar_loader at-inner-loaader"},[s("span",[s("i",{staticClass:"at-spinericon"})])])}],ft={name:"GuppyChatInnerLoader"},vt=ft,It=(s("b74a"),s("2877")),yt=Object(It["a"])(vt,gt,mt,!1,null,null,null),bt=yt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-empty-conversation"},[t._m(0),s("span",[t._v(t._s(t.TRANS.search_results))])])},_t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chatloader"},[s("span"),s("span"),s("span"),s("span"),s("span"),s("span"),s("span"),s("span")])}],At={name:"GuppyChatLoader"},Mt=At,Tt=(s("91a7"),Object(It["a"])(Mt,Ct,_t,!1,null,null,null)),St=Tt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"at-userbar",class:Number(t.chatInfo.chatId)==Number(t.ConversationItemProps.chatId)&&Number(t.chatInfo.chatType)==Number(t.ConversationItemProps.chatType)?"active":"",on:{click:function(e){return e.preventDefault(),t.selectUserChat()}}},[2==t.ConversationItemProps.chatType?s("figure",{staticClass:"at-userbar_profile",class:t.avatarImageClass},[t.ConversationItemProps.groupImage?[s("img",{attrs:{src:t.ConversationItemProps.groupImage,alt:t.ConversationItemProps.groupTitle}})]:t.ConversationItemProps.groupDetail?[t.ConversationItemProps.groupDetail.totalMembers>4?t._l(t.groupMembersList.slice(0,3),(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:t.userName}})})):t._l(t.groupMembersList,(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:t.userName}})})),t.ConversationItemProps.groupDetail.totalMembers>4?s("em",{staticClass:"at-notify"},[t._v(" "+t._s(t.ConversationItemProps.groupDetail.totalMembers-3)+"+ ")]):t._e()]:t._e()],2):s("figure",{staticClass:"at-userbar_profile",class:{"at-blockuser":t.ConversationItemProps.isBlocked}},[t.ConversationItemProps.isBlocked?s("i",{staticClass:"guppy-slash"}):t.ConversationItemProps.isOnline?s("span",{staticClass:"at-userstatus online"}):t._e(),s("img",{attrs:{src:t.ConversationItemProps.userAvatar,alt:"profile image"}})]),2==t.ConversationItemProps.chatType?s("div",{staticClass:"at-userbar_title"},[t.ConversationItemProps.groupTitle?s("h3",[t._v(" "+t._s(t.ConversationItemProps.groupTitle)+" ")]):t._e(),t.ConversationItemProps.clearChat?t._e():[0==t.ConversationItemProps.messageType?s("span",[t.ConversationItemProps.isSender?[2==t.ConversationItemProps.messageStatus?[s("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message)+" ")]:[t._v(" "+t._s(t.TRANS.you_txt)+": "+t._s(t.ConversationItemProps.message)+" ")]]:[t.ConversationItemProps.memberDisable?[t._v(" "+t._s(t.ConversationItemProps.message)+" ")]:2==t.ConversationItemProps.messageStatus?[s("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message)+" ")]:[t._v(" "+t._s(t.ConversationItemProps.userName)+": "+t._s(t.ConversationItemProps.message)+" ")]]],2):t._e(),1==t.ConversationItemProps.messageType?s("span",[s("i",{staticClass:"guppy-paperclip"}),t._v(" "+t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_attachment:t.TRANS.grp_sent_attachment.replace("((username))",t.ConversationItemProps.userName))+" ")]):t._e(),2==t.ConversationItemProps.messageType?s("span",[s("i",{staticClass:"guppy-map-pin"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_location:t.TRANS.grp_sent_location.replace("((username))",t.ConversationItemProps.userName))+" ")]):t._e(),3==t.ConversationItemProps.messageType?s("span",[s("i",{staticClass:"guppy-mic"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_voice_note:t.TRANS.you_sent_voice_note.replace("((username))",t.ConversationItemProps.userName))+" ")]):t._e(),4==Number(t.ConversationItemProps.messageType)?s("span",[s("span",[t._v(t._s(t.notifyMessage(t.ConversationItemProps)))])]):t._e()]],2):s("div",{staticClass:"at-userbar_title"},[t.ConversationItemProps.userName?s("h3",[t._v(" "+t._s(t.ConversationItemProps.userName)+" ")]):t._e(),t.ConversationItemProps.clearChat?t._e():[2==Number(t.ConversationItemProps.messageStatus)?s("span",[s("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message))]):0==Number(t.ConversationItemProps.messageType)?s("span",[t._v(t._s(t.ConversationItemProps.message))]):1==Number(t.ConversationItemProps.messageType)?s("span",[s("i",{staticClass:"guppy-paperclip"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_attachment:t.TRANS.sent_you_attachment))]):2==Number(t.ConversationItemProps.messageType)?s("span",[s("i",{staticClass:"guppy-map-pin"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_location:t.TRANS.sent_you_location))]):3==Number(t.ConversationItemProps.messageType)?s("span",[s("i",{staticClass:"guppy-mic"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_voice_note:t.TRANS.sent_you_voice_note))]):t._e(),4==Number(t.ConversationItemProps.messageType)?s("span",[s("span",{domProps:{innerHTML:t._s(t.notifyMessage(t.ConversationItemProps))}})]):t._e()]],2),0==t.ConversationItemProps.clearChat?s("div",{staticClass:"at-userbar_right"},[t.ConversationItemProps.timeStamp?s("span",[t._v(t._s(t.getMessageTime(t.ConversationItemProps.timeStamp)))]):t._e(),Number(t.ConversationItemProps.UnreadCount)>0&&Number(t.ConversationItemProps.UnreadCount)<100?s("em",{staticClass:"at-notify"},[t._v(t._s(t.ConversationItemProps.UnreadCount))]):Number(t.ConversationItemProps.UnreadCount)>99?s("em",{staticClass:"at-notify"},[t._v("99+")]):t._e()]):t._e()])},kt=[],Rt={name:"ConversationListItem",props:["ConversationItemProps"],data:function(){return{}},computed:Object(c["a"])({groupMembersList:function(){var t=this.ConversationItemProps,e=[];if(t.groupDetail){var s=Object.values(t.groupDetail.memberAvatars);e=s.filter((function(t){return 1==Number(t.memberStatus)}))}return e},avatarImageClass:function(){var t=this.ConversationItemProps,e="";return 2==t.chatType&&(t.memberDisable||t.groupImage||(t.groupDetail.totalMembers>2?e="at-groupuser_twoplus":2==t.groupDetail.totalMembers&&(e="at-groupuser_img"))),e}},Object(u["c"])({chatInfo:function(t){return t.chatInfo},userProfile:function(t){return t.userProfile}})),methods:{notifyMessage:function(t){var e=t.chatType,s=t.memberDisable,a=t.message,r=Number(a.type),i=this.TRANS,o=t.membersUpdate,n="";if(2==e){if(1==r||6==r){var c=1==r?i.group_created_notify:i.group_updated_notify;return t.isSender?c.replace("((username))",i.you):c.replace("((username))",t.userName)}if(2==r||3==r||5==r){var u=a.memberIds,p=u.length,l="",d=2==r?i.add_grp_member_txt:5==r?i.updt_grp_role:i.remove_grp_member_txt;return u.forEach((function(t,e){o[t]&&(e<4&&(l+=o[t],e<=p-4&&(l+=", ")),4==e&&(l+=i.grp_other_membert_txt.replace("((counter))",p-4)))})),n=d.replace("“((username))”",l),t.isSender&&(n=n.replace("Admin",i.you)),n}if(4==r){var h=a.memberIds;return t.isSender?i.leave_grp_member_txt.replace("“((username))”",i.you):i.leave_grp_member_txt.replace("“((username))”",o[h[0]])}if(s)return i.remove_grp_member_txt.replace("“((username))”",this.TRANS.you.toLowerCase())}else if(1==r){var g=t.isSender?i.auto_inv_sender_msg:i.auto_inv_receiver_msg;return g=g.replace(/\\/g,""),g.replace("((username))",t.userName)}return""},selectUserChat:function(){var t=this.ConversationItemProps;if(t.UnreadCount>0){var e={chatId:t.chatId,userId:this.userId,chatType:t.chatType};this.$store.commit("updateUnseenCounter",this.ConversationItemProps),D.updateSeenMessagesCounter(e)}if(this.chatInfo&&(Number(this.chatInfo.chatId)!=Number(t.chatId)||Number(this.chatInfo.chatType)!=Number(t.chatType))){var s=[];if(2==this.chatInfo.chatType&&this.chatInfo.groupDetail)for(var a=0,r=Object.entries(this.chatInfo.groupDetail.memberAvatars);a<r.length;a++){var i=Object(o["a"])(r[a],1),n=i[0];this.userId!=n&&s.push(n)}var c={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:this.userId,text:"",groupMembers:s};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:c})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},getMessageTime:function(t){return D.getLongDateTime(t)}},created:function(){}},Nt=Rt,Dt=Object(It["a"])(Nt,wt,kt,!1,null,null,null),Ot=Dt.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-empty-conversation"},[s("i",{class:t.listIcon}),t.isSidebarProps?s("span",[t._v(t._s(t.no_results))]):s("span",[t._v(t._s(t.start_conv))])])},jt=[],xt={name:"EmptyView",props:["isSidebarProps","listIcon"],data:function(){return{start_conv:M.start_conversation,no_results:M.no_results}}},Pt=xt,Et=(s("879f"),Object(It["a"])(Pt,Lt,jt,!1,null,null,null)),Ut=Et.exports,Bt={name:"GuppyChatPrivateList",components:{GuppyChatConversationListItem:Ot,GuppyChatLoader:St,GuppyChatInnerLoader:bt,GuppyChatEmptyView:Ut},data:function(){return{search:"",timer:null}},computed:Object(u["c"])({conversation:function(t){return t.privateConversation},privateConvFlag:function(t){return t.privateConvFlag},privateChatOffset:function(t){return t.privateChatOffset},noMorePrivateChat:function(t){return t.noMorePrivateChat},privateChatSearch:function(t){return t.privateChatSearch}}),methods:{searchConversation:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMorePrivateChat",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"privateChatOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"privateChatSearch",searchValue:t.search}),t.getConversation(),t.updateOffset()}),800)},updateOffset:function(){var t=this.privateChatOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"privateChatOffset",offsetValue:t})},getConversation:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMorePrivateChat){e.next=7;break}return t.isLoading=!0,e.next=4,N.getConversation(t.privateChatOffset,t.search,1);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.guppyMessageList).length,t.$store.commit("updateRecordList",{RecordList:"noMorePrivateChat",RecordListValue:a}),t.privateConvFlag||t.$store.commit("updateListFlag",{flag:"privateConvFlag",flagValue:!0}),t.updateListRecord(s.data.guppyMessageList)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},updateListRecord:function(t){var e={list:t,listType:"privateConversation",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)},conversationScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getConversation(),this.updateOffset())}},created:function(){Object.keys(this.conversation).length&&this.privateConvFlag||(this.getConversation(),this.updateOffset())},mounted:function(){this.search=this.privateChatSearch}},Gt=Bt,Qt=Object(It["a"])(Gt,dt,ht,!1,null,null,null),Ft=Qt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"messages"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(" "+t._s(t.TRANS.chat)+" "),t.groupChatEnable&&t.createGroup?s("a",{attrs:{href:"javascript:void(0);","guppy-data-target":"#creategroup"},on:{click:function(e){return e.preventDefault(),t.getGroupMembers()}}},[t._v(t._s(t.TRANS.create_group_txt+" +"))]):t._e()]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchConversation()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.conversation).length?s("ul",{staticClass:"conversation-list",on:{scroll:function(e){return t.conversationScrollHandler(e)}}},[t._l(t.conversation,(function(t,e){return s("guppy-chat-conversation-list-item",{key:e,attrs:{ConversationItemProps:t}})})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-message-square"}})]],2)},Vt=[],zt={name:"GuppyChatGroupList",components:{GuppyChatConversationListItem:Ot,GuppyChatLoader:St,GuppyChatInnerLoader:bt,GuppyChatEmptyView:Ut},data:function(){return{search:"",timer:null,groupChatEnable:_.groupChatEnable,createGroup:_.createGroup}},computed:Object(u["c"])({conversation:function(t){return t.groupConversation},groupConvFlag:function(t){return t.groupConvFlag},groupChatOffset:function(t){return t.groupChatOffset},noMoreGroupChat:function(t){return t.noMoreGroupChat},groupChatSearch:function(t){return t.groupChatSearch}}),methods:{getGroupMembers:function(){D.updateGroupMembers()},searchConversation:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreGroupChat",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"groupChatOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"groupChatSearch",searchValue:t.search}),t.getConversation(),t.updateOffset()}),800)},updateOffset:function(){var t=this.groupChatOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"groupChatOffset",offsetValue:t})},getConversation:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreGroupChat){e.next=7;break}return t.isLoading=!0,e.next=4,N.getConversation(t.groupChatOffset,t.search,2);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.guppyMessageList).length,t.$store.commit("updateRecordList",{RecordList:"noMoreGroupChat",RecordListValue:a}),t.groupConvFlag||t.$store.commit("updateListFlag",{flag:"groupConvFlag",flagValue:!0}),t.updateListRecord(s.data.guppyMessageList)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},updateListRecord:function(t){var e={list:t,listType:"groupConversation",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)},conversationScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getConversation(),this.updateOffset())}},created:function(){Object.keys(this.conversation).length&&this.groupConvFlag||(this.getConversation(),this.updateOffset())},mounted:function(){this.search=this.groupChatSearch}},$t=zt,Jt=Object(It["a"])($t,qt,Vt,!1,null,null,null),Ht=Jt.exports,Wt={name:"GuppyChatConversationList",components:{PrivateConversation:Ft,GroupConversation:Ht},data:function(){return{selectedTab:"private",groupChatEnable:_.groupChatEnable}},computed:Object(u["c"])({groupChatCount:function(t){return t.groupChatCount},privateChatCount:function(t){return t.privateChatCount}})},Kt=Wt,Yt=(s("cf14"),Object(It["a"])(Kt,pt,lt,!1,null,null,null)),Xt=Yt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"posts"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.chat))]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchConversation()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.postConversation).length?s("ul",{staticClass:"conversation-list",on:{scroll:function(e){return t.conversationScrollHandler(e)}}},[t._l(t.postConversation,(function(t,e){return s("guppy-chat-posts-conversation-list-item",{key:e,attrs:{ConversationItemProps:t}})})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-message-square"}})]],2)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"at-userbar",class:t.chatInfo.chatId==t.ConversationItemProps.chatId&&Number(t.chatInfo.chatType)==Number(t.ConversationItemProps.chatType)?"active":"",on:{click:function(e){return e.preventDefault(),t.selectUserPostChat()}}},[s("figure",{staticClass:"at-userpost_profile",class:{"at-blockuser":t.ConversationItemProps.isBlocked,"at-statusonline":t.ConversationItemProps.isOnline}},[s("img",{staticClass:"at-postuserimg",attrs:{src:t.ConversationItemProps.userAvatar,alt:"post image"}}),s("img",{attrs:{src:t.ConversationItemProps.postImage,alt:"post image"}})]),s("div",{staticClass:"at-userbar_title"},[t.ConversationItemProps.postTitle?s("h3",[t._v(" "+t._s(t.ConversationItemProps.postTitle)+" ")]):t._e(),t.ConversationItemProps.clearChat?t._e():[2==Number(t.ConversationItemProps.messageStatus)?s("span",[s("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message))]):0==Number(t.ConversationItemProps.messageType)?s("span",[t._v(" "+t._s(t.ConversationItemProps.isSender?t.TRANS.you_txt:t.ConversationItemProps.userName)+": "+t._s(t.ConversationItemProps.message))]):1==Number(t.ConversationItemProps.messageType)?s("span",[t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_txt:t.ConversationItemProps.userName)+":  "),s("i",{staticClass:"guppy-paperclip"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_attachment:t.TRANS.sent_you_attachment))]):2==Number(t.ConversationItemProps.messageType)?s("span",[t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_txt:t.ConversationItemProps.userName)+":  "),s("i",{staticClass:"guppy-map-pin"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_location:t.TRANS.sent_you_location))]):3==Number(t.ConversationItemProps.messageType)?s("span",[t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_txt:t.ConversationItemProps.userName)+":  "),s("i",{staticClass:"guppy-mic"}),t._v(t._s(t.ConversationItemProps.isSender?t.TRANS.you_sent_voice_note:t.TRANS.sent_you_voice_note))]):t._e(),4==Number(t.ConversationItemProps.messageType)?s("span",[s("span",{domProps:{innerHTML:t._s(t.notifyMessage(t.ConversationItemProps))}})]):t._e()]],2),0==t.ConversationItemProps.clearChat?s("div",{staticClass:"at-userbar_right"},[t.ConversationItemProps.timeStamp?s("span",[t._v(t._s(t.getMessageTime(t.ConversationItemProps.timeStamp)))]):t._e(),Number(t.ConversationItemProps.UnreadCount)>0&&Number(t.ConversationItemProps.UnreadCount)<100?s("em",{staticClass:"at-notify"},[t._v(t._s(t.ConversationItemProps.UnreadCount))]):Number(t.ConversationItemProps.UnreadCount)>99?s("em",{staticClass:"at-notify"},[t._v("99+")]):t._e()]):t._e()])},se=[],ae={name:"postConversationListItem",props:["ConversationItemProps"],data:function(){return{}},computed:Object(c["a"])({},Object(u["c"])({chatInfo:function(t){return t.chatInfo},userProfile:function(t){return t.userProfile}})),methods:{notifyMessage:function(t){var e=t.message,s=Number(e.type),a=this.TRANS;if(1==s){var r=t.isSender?a.auto_inv_sender_msg:a.auto_inv_receiver_msg;return r=r.replace(/\\/g,""),r.replace("((username))",t.userName)}return""},selectUserPostChat:function(){var t=this.ConversationItemProps;if(t.UnreadCount>0){var e={chatId:t.chatId,userId:this.userId,senderId:t.postReceiverId,chatType:t.chatType};D.updateSeenMessagesCounter(e),this.$store.commit("updateUnseenCounter",this.ConversationItemProps)}var s=this.ConversationItemProps;if(this.chatInfo&&(Number(this.chatInfo.chatId)!=Number(s.chatId)||Number(this.chatInfo.chatType)!=Number(s.chatType))){var a=[],r={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:this.userId,text:"",groupMembers:a};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:r})}this.$store.commit("updateChatInfo",{data:s,userClick:!0})},getMessageTime:function(t){return D.getLongDateTime(t)}},created:function(){}},re=ae,ie=(s("f1cc"),Object(It["a"])(re,ee,se,!1,null,"c2c12ada",null)),oe=ie.exports,ne={name:"GuppyChatPostsConversationList",components:{GuppyChatPostsConversationListItem:oe,GuppyChatLoader:St,GuppyChatInnerLoader:bt,GuppyChatEmptyView:Ut},data:function(){return{search:"",timer:null}},computed:Object(u["c"])({postConversation:function(t){return t.postConversation},postListFlag:function(t){return t.postListFlag},postListOffset:function(t){return t.postListOffset},noMorePostUsers:function(t){return t.noMorePostUsers},postUserSearch:function(t){return t.postUserSearch}}),methods:{searchConversation:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMorePostUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"postListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"postUserSearch",searchValue:t.search}),t.getPostConversation(),t.updateOffset()}),800)},getPostConversation:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMorePostUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getpostList(t.postListOffset,t.search);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.guppyPostMessageList).length,t.$store.commit("updateRecordList",{RecordList:"noMorePostUsers",RecordListValue:a}),t.postListFlag||t.$store.commit("updateListFlag",{flag:"postListFlag",flagValue:!0}),t.updateListRecord(s.data.guppyPostMessageList)):"error"==s.data.type&&t.alertBox("error",t.TRANS.error_title,s.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.postListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"postListOffset",offsetValue:t})},updateListRecord:function(t){var e={list:t,listType:"postConversation",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)},conversationScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getPostConversation(),this.updateOffset())}},created:function(){Object.keys(this.postConversation).length&&this.postListFlag||(this.getPostConversation(),this.updateOffset())},mounted:function(){this.search=this.postUserSearch}},ce=ne,ue=Object(It["a"])(ce,Zt,te,!1,null,null,null),pe=ue.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.enableTabs.length?s("ul",{staticClass:"at-chat_sidebar_footer"},[t.enableTabs.includes("contacts")?s("li",[s("a",{staticClass:"guppy-users",class:{active:"contacts"==t.selectedActiveTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.activeTab("contacts")}}},[t.requestCount?s("em",{staticClass:"at-notify"},[t._v(t._s(t.requestCount>99?"+99":t.requestCount))]):t._e(),s("span",{staticClass:"at-infotolltip"},[t._v(t._s(t.TRANS.contact_tooltip_txt))])])]):t._e(),t.enableTabs.includes("messages")?s("li",[s("a",{staticClass:"guppy-message-square",class:{active:"messages"==t.selectedActiveTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.activeTab("messages")}}},[t.messageCount?s("em",{staticClass:"at-notify"},[t._v(t._s(t.messageCount>99?"+99":t.messageCount))]):t._e(),s("span",{staticClass:"at-infotolltip"},[t._v(t._s(t.TRANS.conv_tooltip_txt))])])]):t._e(),t.enableTabs.includes("friends")?s("li",[s("a",{staticClass:"guppy-user-plus",class:{active:"friends"==t.selectedActiveTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.activeTab("friends")}}},[s("span",{staticClass:"at-infotolltip"},[t._v(t._s(t.TRANS.friend_tooltip_txt))])])]):t._e(),t.enableTabs.includes("blocked")?s("li",[s("a",{staticClass:"guppy-user-x",class:{active:"blocked"==t.selectedActiveTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.activeTab("blocked")}}},[s("span",{staticClass:"at-infotolltip"},[t._v(t._s(t.TRANS.block_tooltip_txt))])])]):t._e(),t.enableTabs.includes("posts")?s("li",[s("a",{staticClass:"guppy-layers",class:{active:"posts"==t.selectedActiveTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.activeTab("posts")}}},[t.postmessagesCount?s("em",{staticClass:"at-notify"},[t._v(t._s(t.postmessagesCount>99?"+99":t.postmessagesCount))]):t._e(),s("span",{staticClass:"at-infotolltip"},[t._v(t._s(t.TRANS.post_tooltip_txt))])])]):t._e()]):t._e()},de=[],he={name:"GuppyChatSidebarFooter",data:function(){return{tab:_.defaultActiveTab}},computed:Object(u["c"])({messageCount:function(t){return t.groupChatCount+t.privateChatCount},postmessagesCount:function(t){return t.postmessagesCount},requestCount:function(t){return _.autoInvite?0:t.requestCount},selectedActiveTab:function(t){return t.activeTab},enableTabs:function(){return _?_.enabledTabs:[]},defaultActiveTab:function(){return _?_.defaultActiveTab:""}}),methods:{activeTab:function(t){this.tab=t,this.$store.commit("selectTab",t)}},created:function(){D.updateGroupMembers()}},ge=he,me=(s("be4b"),Object(It["a"])(ge,le,de,!1,null,null,null)),fe=me.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"friendlist"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.blocked_users))]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchBlockUser()}]}})])]),Object.keys(t.blockList).length?s("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.blockListScrollHandler(e)}}},[t._l(t.blockList,(function(e){return s("li",{key:e.chatId+Math.floor(1e4*Math.random()),staticClass:"at-userbar"},[s("figure",{staticClass:"at-userbar_profile at-blockuser"},[s("i",{staticClass:"guppy-slash"}),s("img",{attrs:{src:e.userAvatar,alt:e.userName}})]),e.userName?s("div",{staticClass:"at-userbar_title"},[s("h3",[t._v(t._s(t.textCapitalize(e.userName)))])]):t._e(),s("div",{staticClass:"at-userbar_right"},[s("a",{staticClass:"at-btn-blocked",class:{"at-disable-btn":t.activeUser=="block_user_"+e.chatId},attrs:{href:"javascript:void(0);",id:"block_user_"+e.chatId},on:{click:function(s){return s.preventDefault(),t.unblockUser(e.chatId,"block_user_"+e.chatId)}}},[t._v(" "+t._s(t.TRANS.unblock))])])])})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-user-x"}})]],2)},Ie=[],ye={name:"GuppyChatBlockUserList",components:{GuppyChatEmptyView:Ut,GuppyChatLoader:St,GuppyChatInnerLoader:bt},data:function(){return{search:"",userStatus:3,activeUser:"",timer:null}},computed:Object(u["c"])({blockList:function(t){return t.blockList},blockListFlag:function(t){return t.blockListFlag},blockListOffset:function(t){return t.blockListOffset},noMoreBlockUsers:function(t){return t.noMoreBlockUsers},blockUserSearch:function(t){return t.blockUserSearch}}),methods:{textCapitalize:function(t){return D.usFirst(t)},searchBlockUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreBlockUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"blockListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"blockUserSearch",searchValue:t.search}),t.getBlockUser(),t.updateOffset()}),800)},getBlockUser:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreBlockUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getContactList(t.blockListOffset,t.userStatus,t.search);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.contacts).length,t.$store.commit("updateRecordList",{RecordList:"noMoreBlockUsers",RecordListValue:a}),t.blockListFlag||t.$store.commit("updateListFlag",{flag:"blockListFlag",flagValue:!0}),t.updateListRecord(s.data.contacts)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.blockListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"blockListOffset",offsetValue:t})},unblockUser:function(t,e){var s=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={statusType:4,actionTo:t,userId:s.userId},s.activeUser=e,a.next=4,D.updateUserStatus(r);case 4:i=a.sent,"success"==i.data.type&&(o=i.data.userData,o["statusText"]="invite",s.$store.commit("UpdateSelectUserStatus",o)),s.activeUser="";case 7:case"end":return a.stop()}}),a)})))()},blockListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getBlockUser(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"blockList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.blockList).length&&this.blockListFlag||(this.getBlockUser(),this.updateOffset())},mounted:function(){this.search=this.blockUserSearch}},be=ye,Ce=(s("5e1b"),Object(It["a"])(be,ve,Ie,!1,null,null,null)),_e=Ce.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-sidebarhead",class:{"at-overlay":t.openSetting}},[s("img",{attrs:{src:t.thumbnailImg?t.thumbnailImg:t.defaultAvatar,alt:t.userProfileData.userName}}),s("h2",[t._v(t._s(t.textCapitalize(t.userProfileData.userName)))]),s("div",{staticClass:"at-sidebarhead_menu"},[t._m(0),s("ul",{staticClass:"at-uploadoption"},[t.groupChatEnable&&t.createGroup?s("li",[s("a",{attrs:{href:"javascript:void(0);","guppy-data-target":"#creategroup"},on:{click:function(e){return e.preventDefault(),t.createGroupMember()}}},[s("i",{staticClass:"guppy-users"}),t._v(" "+t._s(t.TRANS.create_group_txt)+" ")])]):t._e(),s("li",[s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleSidebar()}}},[s("i",{staticClass:"guppy-settings"}),t._v(" "+t._s(t.TRANS.settings))])])])]),t.isWidgetChat?s("a",{staticClass:"at-closechat",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.showWidget()}}},[s("i",{staticClass:"guppy-x"})]):t._e(),s("div",{staticClass:"at-chat_sidebarsetting",class:{"at-chat_profilesettingopen":t.openSetting}},[s("div",{staticClass:"at-chat_sidebarsettingtitle"},[s("h2",[t._v(t._s(t.TRANS.profile_settings))]),s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleSidebar()}}},[s("i",{staticClass:"guppy-x"})])]),s("div",{staticClass:"at-chat_sidebarsettingarea"},[s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("div",{staticClass:"at-chat_mutenotify",class:{"at-disabled":t.notificationLoader}},[s("input",{attrs:{type:"checkbox",id:"mute"},domProps:{checked:t.userProfileData.muteNotification},on:{click:function(e){return e.preventDefault(),t.muteNotification()}}}),s("label",{attrs:{for:"mute"}},[s("span",[t._v(t._s(t.TRANS.mute))]),s("i",{staticClass:"guppy-volume-2"})])])]),s("div",{staticClass:"at-guppylogout"},[s("a",{attrs:{href:t.logoutUrl}},[s("i",{staticClass:"guppy-power"}),t._v(t._s(t.TRANS.logout))])]),t.isAllowEditAccSetting?s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("h4",[t._v(t._s(t.TRANS.settings))]),s("form",{staticClass:"at-themeform",attrs:{enctype:"multipart/form-data"}},[s("fieldset",[s("div",{staticClass:"at-form-group-wrap"},[s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.full_name))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userName,expression:"profileInfo.userName"}],staticClass:"at-form-control",attrs:{type:"text",required:"",placeholder:t.TRANS.your_name},domProps:{value:t.profileInfo.userName},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userName",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.email))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userEmail,expression:"profileInfo.userEmail"}],staticClass:"at-form-control",attrs:{type:"email",required:"",placeholder:t.TRANS.your_email},domProps:{value:t.profileInfo.userEmail},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userEmail",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.phone))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userPhone,expression:"profileInfo.userPhone"}],staticClass:"at-form-control",attrs:{type:"text",required:"",placeholder:t.TRANS.your_phone},domProps:{value:t.profileInfo.userPhone},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userPhone",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("div",{staticClass:"at-dropbox"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showImage,expression:"showImage"}],staticClass:"at-viewuploadimg"},[t.uploadImage?s("img",{attrs:{src:t.uploadImage}}):t._e(),s("a",{staticClass:"at-removeuploadimg",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.removeImage()}}},[t._v(t._s(t.TRANS.remove))])]),s("input",{attrs:{type:"file",accept:t.uploadImgExt.join(","),id:"dropbox",name:"dropbox"},on:{change:function(e){return e.preventDefault(),t.onImageUpload.apply(null,arguments)}}}),s("label",{attrs:{for:"dropbox"}},[s("span",[t._v(t._s(t.TRANS.click_here))]),t._v(" "+t._s(t.TRANS.upload_photo)+" ")])])]),s("div",{staticClass:"at-form-group"},[s("ul",{staticClass:"at-btnlist"},[s("li",[s("button",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{disabled:t.isloadingUpdt},on:{click:function(e){return e.preventDefault(),t.updateProfileInfo()}}},[t._v(" "+t._s(t.TRANS.save_changes)+" ")])])])])])])])]):t._e()])])])},Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-more-horizontal"})])}],Te=(s("b0c0"),{name:"GuppyChatHeader",props:{isWidgetChat:{type:Boolean,required:!1,default:!1}},data:function(){return{defaultAvatar:C.AVATAR,logoutUrl:A,openSetting:!1,profileInfo:{muteNotification:"",userAvatar:"",userEmail:"",userId:"",userName:"",userPhone:""},removeAvatar:0,notificationLoader:!1,uploadImgExt:_.imgExt,groupChatEnable:_.groupChatEnable,createGroup:_.createGroup,uploadImage:"",thumbnailImg:"",file:"",showImage:!0,isloadingUpdt:!1,getUserIfno:!0,groupMembers:""}},computed:Object(c["a"])({isAllowEditAccSetting:function(){return!_.hideAccSettings}},Object(u["c"])({userProfileData:function(t){return t.userProfile},groupMemberFlag:function(t){return t.groupMemberFlag}})),methods:{showWidget:function(){this.$root.$emit("showWidget")},textCapitalize:function(t){return D.usFirst(t)},createGroupMember:function(){D.updateGroupMembers()},toggleSidebar:function(){this.isLoading||(this.openSetting=!this.openSetting)},muteNotification:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={muteType:1,userId:t.userId,chatType:"",chatId:""},t.notificationLoader=!0,e.next=4,N.muteNotification(s);case 4:a=e.sent,t.notificationLoader=!1,"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.desc);case 7:case"end":return e.stop()}}),e)})))()},getProfileInfo:function(){var t=this;this.isLoading=!0,this.axios.get("load-profile-info?userId="+this.userId).then((function(e){if(t.isLoading=!1,"success"==e.data.type){var s=e.data.userInfo,a=t.profileInfo;a.muteNotification=s.muteNotification,a.userAvatar=s.userAvatar,a.userEmail=s.userEmail,a.userId=s.userId,a.userName=s.userName,a.userPhone=s.userPhone,t.uploadImage=t.thumbnailImg=s.userAvatar,t.showImage=!!s.userAvatar,t.$store.dispatch("getUserProfile",s)}})).catch((function(e){t.isLoading=!1,t.errors=e,console.log(e)}))},updateProfileInfo:function(){var t=this,e=this.profileInfo,s=D.validateEmail(e.userEmail);if(e.userEmail&&e.userName&&e.userPhone&&s){var a=new FormData;Object.keys(this.profileInfo).map((function(e){a.append(e,t.profileInfo[e])})),a.append("removeAvatar",this.removeAvatar),this.file&&a.append(0,this.file),this.isloadingUpdt=!0,this.axios.post("update-profile-info",a).then((function(e){if(t.isloadingUpdt=!1,"success"==e.data.type){var s=e.data.userInfo;t.profileInfo.userEmail=s.userEmail,t.profileInfo.userPhone=s.userPhone,t.profileInfo.userName=s.userName,s.userAvatar?(t.profileInfo.userAvatar=s.userAvatar,t.uploadImage=t.thumbnailImg=s.userAvatar):1==t.removeAvatar&&(t.thumbnailImg="",t.profileInfo.userAvatar=""),s["userAvatar"]=t.profileInfo.userAvatar,t.$store.dispatch("getUserProfile",s)}})).catch((function(e){t.isloadingUpdt=!1,t.errors=e,console.log(e)}))}else this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_input_err_txt)},onImageUpload:function(t){var e=t.target.files[0],s=e.name.split(".").pop();this.uploadImgExt.includes("."+s)?(this.removeAvatar=0,this.showImage=!0,this.$root.$emit("croppedProfileImage",e),t.target.value=""):this.alertBox("error",this.TRANS.error_title,this.TRANS.invalid_input_file)},removeImage:function(){this.removeAvatar=1,this.showImage=!1,this.uploadImage="",this.file="",this.profileInfo.userAvatar=""}},created:function(){this.getProfileInfo()},mounted:function(){var t=this;this.$root.$on("CroppedfileParams",(function(e){t.file=e.file,t.uploadImage=e.imageUrl}))}}),Se=Te,we=(s("e772"),Object(It["a"])(Se,Ae,Me,!1,null,null,null)),ke=we.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-sidbarwrapper"},[t.autoInvite?t._e():s("div",{staticClass:"at-userchat_tab"},[s("a",{class:{"at-tabactive":"contacts"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="contacts"}}},[s("i",{staticClass:"guppy-user"}),t._v(" "+t._s(t.TRANS.contacts)+" ")]),s("a",{class:{"at-tabactive":"requests"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="requests"}}},[s("i",{staticClass:"guppy-user-plus"}),t._v(" "+t._s(t.TRANS.requests_heading)+" "),t.requestCount?s("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.requestCount>99?"+99":t.requestCount))]):t._e()])]),"contacts"==t.selectedTab?[s("contact-list")]:t.autoInvite?t._e():[s("requests-list")]],2)},Ne=[],De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab active",attrs:{id:"userlist"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.search_user_heading_txt)+" ")]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchUser()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.contactList).length?s("ul",{staticClass:"user-list",on:{scroll:function(e){return e.preventDefault(),t.userScrollHandler(e)}}},[t._l(t.contactList,(function(t,e){return s("guppy-chat-user-list-item",{key:e,attrs:{userProps:t}})})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)},Oe=[],Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"at-userbar"},[s("figure",{staticClass:"at-userbar_profile"},[t.userProps.isOnline?s("span",{staticClass:"at-userstatus online"}):t._e(),s("img",{attrs:{src:t.userProps.userAvatar?t.userProps.userAvatar:t.defaultAvatar,alt:t.userProps.userName}})]),t.userProps.userName?s("div",{staticClass:"at-userbar_title"},[s("h3",[t._v(t._s(t.textCapitalize(t.userProps.userName)))])]):t._e(),s("div",{staticClass:"at-userbar_right"},[t.autoInvite?s("a",{staticClass:"at-btn-sm at-linebtn",class:{"at-disable-btn":t.isLoading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.updateUserStatus(1)}}},[t._v(" "+t._s(t.TRANS.start_chat_txt)+" ")]):s("a",{staticClass:"at-btn-sm",class:t.isLoading?"at-disable-btn":"sent"==t.userProps.statusText?"at-disabled":"respond"==t.userProps.statusText?"at-btn-respond":"resend"==t.userProps.statusText?"at-btn-resend":(t.userProps.statusText,""),attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.updateUserStatus(0)}}},[t._v(" "+t._s(t.StatusText[t.userProps.statusText])+" "),"resend"==t.userProps.statusText?s("span",{staticClass:"at-infotolltip"},[s("i",{staticClass:"guppy-info"}),s("em",[t._v(t._s(t.TRANS.decline_user))])]):t._e()])])])},je=[],xe={name:"GuppyChatUserListItem",props:["userProps"],data:function(){return{defaultAvatar:C.AVATAR,isDisabled:!1,userStatusClass:"",oldVal:""}},computed:Object(c["a"])({},Object(u["c"])({autoInvite:function(t){return t.autoInvite},isMessangerChat:function(t){return t.isMessangerChat}})),methods:{textCapitalize:function(t){return D.usFirst(t)},updateUserStatus:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if("respond"!=e.userProps.statusText||t){s.next=5;break}e.$store.dispatch("userResponse",e.userProps),e.isMessangerChat||e.$root.$emit("openPopUp",{type:"acceptInvite"}),s.next=11;break;case 5:return a={sendTo:e.userProps.chatId.split("_")[0],userId:e.userId,startChat:t},e.isLoading=!0,s.next=9,D.sendGuppyInvite(a);case 9:r=s.sent,r&&(e.isLoading=!1,"success"==r.data.type&&(r.data.autoInvite&&(_.pusherEnable||_.socketEnable?t&&e.$store.commit("removeContactListItem",{chatId:e.userProps.chatId}):e.$store.commit("startChat",{friendData:r.data.friendData,messagelistData:r.data.messagelistData})),e.userProps.statusText="sent",e.userStatusClass="at-disabled",e.isDisabled=!0));case 11:case"end":return s.stop()}}),s)})))()}}},Pe=xe,Ee=(s("f59b"),Object(It["a"])(Pe,Le,je,!1,null,null,null)),Ue=Ee.exports,Be={name:"GuppyChatContactList",components:{GuppyChatUserListItem:Ue,GuppyChatLoader:St,GuppyChatInnerLoader:bt,GuppyChatEmptyView:Ut},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({contactList:function(t){return t.contactList},contactListFlag:function(t){return t.contactListFlag},contactListOffset:function(t){return t.contactListOffset},noMoreContactUsers:function(t){return t.noMoreContactUsers},contactUserSearch:function(t){return t.contactUserSearch}}),methods:{searchUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreContactUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"contactListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"contactUserSearch",searchValue:t.search}),t.getUsers(),t.updateOffset()}),800)},updateOffset:function(){var t=this.contactListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"contactListOffset",offsetValue:t})},getUsers:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreContactUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getUsersList(t.contactListOffset,t.search);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.guppyUsers).length,t.$store.state.autoInvite=s.data.autoInvite,t.$store.commit("updateRecordList",{RecordList:"noMoreContactUsers",RecordListValue:a}),t.contactListFlag||t.$store.commit("updateListFlag",{flag:"contactListFlag",flagValue:!0}),t.updateListRecord(s.data.guppyUsers)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},userScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight-20&&(this.isScrolling=!0,this.getUsers(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"contactList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},mounted:function(){this.search=this.contactUserSearch},created:function(){this.contactListFlag&&Object.keys(this.contactList).length||(this.getUsers(),this.updateOffset())}},Ge=Be,Qe=Object(It["a"])(Ge,De,Oe,!1,null,null,null),Fe=Qe.exports,qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab active",attrs:{id:"userlist"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.search_user_heading_txt)+" ")]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchUser()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.requestList).length?s("ul",{staticClass:"user-list",on:{scroll:function(e){return e.preventDefault(),t.userScrollHandler(e)}}},[t._l(Object.values(t.requestList),(function(t,e){return s("guppy-chat-user-list-item",{key:e,attrs:{userProps:t}})})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)},Ve=[],ze={name:"GuppyChatRequestList",components:{GuppyChatUserListItem:Ue,GuppyChatLoader:St,GuppyChatInnerLoader:bt,GuppyChatEmptyView:Ut},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({requestList:function(t){return t.requestList},requestListFlag:function(t){return t.requestListFlag},requestListOffset:function(t){return t.requestListOffset},noMoreRequesttUsers:function(t){return t.noMoreRequesttUsers},requestUserSearch:function(t){return t.requestUserSearch}}),methods:{searchUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreRequesttUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"requestListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"requestUserSearch",searchValue:t.search}),t.getUsers(),t.updateOffset()}),800)},updateOffset:function(){var t=this.requestListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"requestListOffset",offsetValue:t})},getUsers:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreRequesttUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getFriendRequestsList(t.requestListOffset,t.search);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.guppyFriendRequests).length,t.$store.commit("updateRecordList",{RecordList:"noMoreRequesttUsers",RecordListValue:a}),t.requestListFlag||t.$store.commit("updateListFlag",{flag:"requestListFlag",flagValue:!0}),t.updateListRecord(s.data.guppyFriendRequests)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},userScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight-20&&(this.isScrolling=!0,this.getUsers(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"requestList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},mounted:function(){this.search=this.requestUserSearch},created:function(){this.requestListFlag&&Object.keys(this.requestList).length||(this.getUsers(),this.updateOffset())}},$e=ze,Je=Object(It["a"])($e,qe,Ve,!1,null,null,null),He=Je.exports,We={name:"GuppyChatUserList",components:{ContactList:Fe,RequestsList:He},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({requestCount:function(t){return t.requestCount},autoInvite:function(t){return t.autoInvite}})},Ke=We,Ye=(s("e6d0"),Object(It["a"])(Ke,Re,Ne,!1,null,null,null)),Xe=Ye.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userlist_tab",attrs:{id:"friendlist"}},[s("div",{staticClass:"at-sidebarhead_search"},[s("h3",[t._v(t._s(t.TRANS.friends))]),s("div",{staticClass:"at-form-group"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchFriends()}]}})])]),Object.keys(t.friendList).length?s("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.friendListScrollHandler(e)}}},[t._l(t.friendList,(function(e,a){return s("li",{key:a,staticClass:"at-userbar",class:{active:e.chatId==t.chatInfo.chatId},on:{click:function(s){return s.preventDefault(),t.openConversation(e)}}},[s("figure",{staticClass:"at-userbar_profile"},[e.isOnline?s("span",{staticClass:"at-userstatus online"}):t._e(),s("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]),e.userName?s("div",{staticClass:"at-userbar_title"},[s("h3",[t._v(t._s(t.textCapitalize(e.userName)))])]):t._e()])})),t.isLoading?s("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-user-plus"}})]],2)},ts=[],es={name:"GuppyChatFriendList",props:["TabProps"],components:{GuppyChatEmptyView:Ut,GuppyChatLoader:St,GuppyChatInnerLoader:bt},data:function(){return{defaultAvatar:C.AVATAR,search:"",userStatus:1,timer:null}},computed:Object(u["c"])({friendList:function(t){return t.friendList},friendListFlag:function(t){return t.friendListFlag},friendListOffset:function(t){return t.friendListOffset},noMoreFriendUsers:function(t){return t.noMoreFriendUsers},friendUserSearch:function(t){return t.friendUserSearch},chatInfo:function(t){return t.chatInfo},userProfile:function(t){return t.userProfile}}),methods:{textCapitalize:function(t){return D.usFirst(t)},searchFriends:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreFriendUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"friendListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"friendUserSearch",searchValue:t.search}),t.getFriends(),t.updateOffset()}),800)},getFriends:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreFriendUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getContactList(t.friendListOffset,t.userStatus,t.search);case 4:s=e.sent,t.isLoading=!1,"success"==s.data.type?(a=0==Object.keys(s.data.contacts).length,t.$store.commit("updateRecordList",{RecordList:"noMoreFriendUsers",RecordListValue:a}),t.friendListFlag||t.$store.commit("updateListFlag",{flag:"friendListFlag",flagValue:!0}),t.updateListRecord(s.data.contacts)):"error"==s.data.type&&t.$swal({icon:"error",title:"Oops...",text:s.data.message_desc,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.friendListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"friendListOffset",offsetValue:t})},friendListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getFriends(),this.updateOffset())},openConversation:function(t){if(t["chatType"]=1,this.chatInfo&&Number(this.chatInfo.chatId)!=Number(t.chatId)){var e={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:t.chatId,text:"",groupMembers:[]};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:e})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},updateListRecord:function(t){var e={list:t,listType:"friendList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.friendList).length&&this.friendListFlag||(this.getFriends(),this.updateOffset())},mounted:function(){this.search=this.friendUserSearch}},ss=es,as=Object(It["a"])(ss,Ze,ts,!1,null,null,null),rs=as.exports,is={name:"GuppyChatSidebar",components:{GuppyChatHeader:ke,GuppyCahtUserList:Xe,GuppyChatSidebarFooter:fe,GuppyChatConversationList:Xt,GuppyChatFriendList:rs,GuppyChatBlockUserList:_e,GuppyChatPostsConversationList:pe},props:{isWidgetChat:{type:Boolean,required:!1,default:!1}},data:function(){return{Tab:"users"}},computed:Object(u["c"])({isEmptyView:function(t){return t.isEmptyView},isOpenMessagesScr:function(t){return t.isOpenMessagesScr},activeTab:function(t){return t.activeTab}}),beforeCreate:function(){this.$store.commit("selectTab",_.defaultActiveTab)},created:function(){N.getUnReadMessages()}},os=is,ns=(s("3e93"),Object(It["a"])(os,ct,ut,!1,null,"1680cd46",null)),cs=ns.exports,us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chat_messages",class:{"at-chat_messages_group":2==t.chatInfo.chatType}},[t.isEmptyView?s("no-record-found",{attrs:{listIcon:"guppy-message-circle"}}):[t.isOpenMessagesScr?[t.chatInfo.chatId?s("guppy-chat-message-header"):t._e(),s("messages-container",{attrs:{conversationData:t.convData}}),t.chatInfo.isBlocked&&t.chatInfo.blockedId==t.userId?s("div",{staticClass:"at-chatblockuser"},[s("span",[t._v(" "+t._s(t.TRANS.you_are_blocked)+" ")])]):t.chatInfo.isBlocked&&t.chatInfo.blockedId!=t.userId?s("div",{staticClass:"at-chatblockuser"},[s("span",{domProps:{innerHTML:t._s(t.unblockButtonText)}})]):t.memberDisable.isDisable?[s("div",{staticClass:"at-leftgroupinfo"},[s("span",[t._v(t._s(t.memberDisable.disableText))])])]:t.disableReply&&0==t.getUserRole?[s("div",{staticClass:"at-group-disabled"},[s("span",[t._v(t._s(t.TRANS.disable_reply_txt))])])]:s("guppy-chat-message-footer",{attrs:{isDisabledFooter:!(!t.loadChat||t.messagesList.length)||t.isDisabledFooter},on:{loadMessageListEvent:function(e){return t.updateMessageList(e)}}})]:s("guppy-chat-invite-response",{on:{loadUserChat:function(e){return t.loadUserChat(e)}}})]],2)},ps=[],ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-messagewrap at-unknownuser"},[t.isShowDefaultMessage?s("a",{staticClass:"at-backtolist",attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-chevron-left"})]):t._e(),s("div",{staticClass:"at-alert"},[t.isShowDefaultMessage?t._e():s("a",{staticClass:"at-closepopup",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.closePopUp()}}},[s("i",{staticClass:"guppy-x"})]),s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.userResponseData.userName))]),s("p",[t._v(t._s(t.TRANS.invitation_top_desc))]),s("ul",{staticClass:"at-btnlist"},[s("li",[s("a",{staticClass:"at-btn at-bgsuccess",class:{"at-disable-btn":t.isLoading&&1==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(1)}}},[t._v(" "+t._s(t.TRANS.accept_invite)+" ")])]),s("li",[s("a",{staticClass:"at-btn at-bgdanger",class:{"at-disable-btn":t.isLoading&&2==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(2)}}},[t._v(t._s(t.TRANS.decline_invite)+" ")])])]),s("a",{staticClass:"at-anchor",class:{"at-disable-btn":t.isLoading&&3==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(3)}}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])]),t.isShowDefaultMessage?s("div",{staticClass:"at-messages at-message_sender"},[s("div",{staticClass:"at-message"},[t._v(" "+t._s(t.TRANS.invitaion_bottom_desc)+" ")])]):t._e()])},ds=[],hs={name:"GuppyChatInviteResponse",props:{isShowDefaultMessage:{type:Boolean,required:!1,default:!0}},data:function(){return{actionType:0}},computed:Object(c["a"])({},Object(u["c"])({userResponseData:function(t){return t.userResponseData}})),methods:{closePopUp:function(){this.$root.$emit("closePopUp",{type:"acceptInvite"})},inviteResponse:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function s(){var a,r,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.userResponseData.userId,r={statusType:t,actionTo:a,userId:e.userId},e.actionType=t,e.isLoading=!0,s.next=6,D.updateUserStatus(r);case 6:i=s.sent,"success"==i.data.type&&(o=i.data.userData,2==o.status?(o["statusText"]="invite",e.$store.commit("declineInvite",o),e.toggleScreen()):3==o.status?(e.$store.commit("blockUser",o),e.toggleScreen()):1==o.status&&(e.$store.commit("acceptInvite",o),e.$emit("loadUserChat",e.userResponseData)),e.$store.commit("updateUnseenCounter",{UnreadCount:1,chatType:3,chatId:o.chatId})),e.isLoading=!1,e.closePopUp();case 10:case"end":return s.stop()}}),s)})))()},toggleScreen:function(){var t={isEmptyView:!0,isOpenMessagesScr:!1};this.$store.dispatch("toggleMessagesScr",t)}},created:function(){}},gs=hs,ms=(s("af10"),Object(It["a"])(gs,ls,ds,!1,null,null,null)),fs=ms.exports,vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userinfo"},[s("div",{staticClass:"at-userinfo_title"},[s("a",{staticClass:"at-backtolist",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.backToTabList()}}},[s("i",{staticClass:"guppy-chevron-left"})]),0==t.chatInfo.chatType?s("figure",{staticClass:"at-userinfo_title_img"},[s("img",{attrs:{src:t.chatInfo.postImage,alt:"post image"}})]):1==t.chatInfo.chatType?s("figure",{staticClass:"at-userinfo_title_img"},[s("img",{attrs:{src:t.chatInfo.userAvatar,alt:"profile image"}})]):2==t.chatInfo.chatType?s("figure",{staticClass:"at-userinfo_title_img",class:t.avatarImageClass},[t.chatInfo.groupImage?s("img",{attrs:{src:t.chatInfo.groupImage,alt:"profile image"}}):t.chatInfo.groupDetail?[!t.chatInfo.groupImage&&t.chatInfo.groupDetail.totalMembers>4?t._l(t.groupMembersList.activeMembers.slice(0,3),(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:"profile image"}})})):t._l(t.groupMembersList.activeMembers,(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:"profile image"}})}))]:t._e(),!t.chatInfo.groupImage&&t.chatInfo.groupDetail.totalMembers>4?s("em",{staticClass:"at-notify"},[t._v(" "+t._s(t.chatInfo.groupDetail.totalMembers-3)+"+ ")]):t._e()],2):t._e(),s("div",{staticClass:"at-userinfo_title_name"},[0==t.chatInfo.chatType?s("h3",[t._v(t._s(t.chatInfo.postTitle))]):1==t.chatInfo.chatType?s("h3",[t._v(t._s(t.textCapitalize(t.chatInfo.userName)))]):2==t.chatInfo.chatType?s("h3",[t._v(t._s(t.textCapitalize(t.chatInfo.groupTitle)))]):t._e(),0==t.chatInfo.chatType||1==t.chatInfo.chatType?s("span",{staticClass:"at-userstatus",class:t.chatInfo.isOnline?"online":"offline"},[t._v(" "+t._s(t.chatInfo.isOnline?t.TRANS.online:t.TRANS.offline)+" ")]):2==t.chatInfo.chatType?s("p",[s("span",{domProps:{innerHTML:t._s(t.groupMembersList.membersText)}})]):t._e()])]),t.chatInfo?[t._m(0),s("guppy-chat-sidebar-setting")]:t._e()],2)},Is=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-userinfo_settings"},[s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-sliders"})])])}],ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chat_sidebarsetting"},[s("div",{staticClass:"at-chat_sidebarsettingtitle"},[s("h2",[t._v(t._s(t.TRANS.settings))]),t._m(0)]),s("div",{staticClass:"at-chat_sidebarsettingarea"},[t.chatInfo.memberDisable?t._e():s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("h4",[t._v(t._s(t.TRANS.actions))]),2!=t.chatInfo.chatType||1!=t.getUserRole&&2!=t.getUserRole||t.chatInfo.memberDisable?t._e():[s("a",{attrs:{"guppy-data-target":"#creategroup",href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.editGroup()}}},[t._v(t._s(t.TRANS.edit_group))])],s("a",{class:{"at-disable-btn":t.notificationLoader},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.muteNotification()}}},[t._v(" "+t._s(t.muteChatNotify?t.TRANS.unmute_conversation:t.TRANS.mute_conversation)+" ")])],2),2!=t.chatInfo.chatType||t.chatInfo.memberDisable?t._e():s("div",{staticClass:"at-chat_sidebarsettingcontent at-chatgroup-sidebar"},[s("div",{staticClass:"at-chatgroup-title"},[s("h4",[t._v(t._s(t.TRANS.group_users_txt))])]),t.groupMembers.length?[s("ul",{staticClass:"at-grouplist at-groupmember-list",attrs:{id:"memberList"}},[t._l(t.groupMembers,(function(e,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:a<t.showMemberRecord,expression:" index < showMemberRecord"}],key:a+"_"+Math.floor(1e4*Math.random()),staticClass:"at-groupuserbar"},[s("figure",{staticClass:"at-groupuserbar_profile"},[s("img",{attrs:{src:e.userAvatar,alt:e.userName}})]),s("div",{staticClass:"at-groupuserbar_title"},[s("h3",[t._v(t._s(e.userName))])]),1==e.groupRole?s("span",{staticClass:"at-group-user-status"},[t._v(t._s(t.TRANS.owner_txt))]):2==e.groupRole?s("span",{staticClass:"at-group-user-status"},[t._v(t._s(t.TRANS.admin_txt))]):t._e(),1==t.getUserRole&&1!=e.groupRole||2==t.getUserRole&&e.userId!=t.userId&&1!=e.groupRole?s("a",{staticClass:"at-remove",attrs:{href:"javascript:void(0);","guppy-data-target":"#delete_group_member"},on:{click:function(s){return s.preventDefault(),t.deleteGroupMember(e)}}},[s("i",{staticClass:"guppy-trash"})]):t._e()])})),t.groupMembers.length>=t.showMemberRecord?s("li",{staticClass:"at-groupuserbar at-showmore",on:{click:function(e){return e.preventDefault(),t.showMoreRec(t.showMemberRecord)}}},[s("a",{attrs:{href:"javascript:void()",id:"loadMore"}},[t._v(t._s(t.TRANS.load_more))])]):t._e()],2)]:t._e()],2),s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("h4",[t._v(t._s(t.TRANS.privacy_settings))]),0==t.chatInfo.chatType||1==t.chatInfo.chatType?[t.chatInfo.isBlocked?[t.chatInfo.blockedId!=t.userId?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"}},[t._v(" "+t._s(t.TRANS.unblock_user)+" ")]):t._e()]:[s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])],t.isAllowReportOption?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#reportchat"}},[t._v(" "+t._s(t.TRANS.report_user)+" ")]):t._e()]:2==t.chatInfo.chatType?[t.chatInfo.memberDisable?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#deletegroup"}},[t._v(t._s(t.TRANS.delete_group_txt))]):s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#leavegroup"}},[t._v(t._s(t.TRANS.leave_group_txt))]),t.isAllowReportOption?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#reportchat"}},[t._v(t._s(t.TRANS.report_group))]):t._e()]:t._e(),t.isAllowClearChat?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#clearchat"}},[t._v(" "+t._s(t.TRANS.clear_chat)+" ")]):t._e()],2),s("div",{staticClass:"at-gallerylistwrap"},[s("h4",[t._v(t._s(t.TRANS.media))]),t.attachments.length?s("a",{staticClass:"at-imgdownloader",class:{"at-disable-btn":t.isdownloading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.downloadMedia()}}},[t._v(t._s(t.TRANS.download_all))]):t._e(),t.attachments.length?s("ul",{staticClass:"at-gallerylist"},[t._l(t.attachments,(function(e,a){return s("li",{key:a},[s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(s){return s.preventDefault(),t.downloadFile(e)}}},["images"==e.type?s("img",{attrs:{src:e.thumbnail,alt:"attachment image"}}):"file"==e.type?s("img",{attrs:{src:t.fileIcon,alt:"attachment file"}}):"video"==e.type?s("img",{attrs:{src:t.videoIcon,alt:"attachment video"}}):"audio"==e.type?s("img",{attrs:{src:t.audioIcon,alt:"attachment audio"}}):t._e()])])})),t.chatMediaOffset?s("li",{staticClass:"at-loadmorecontent"},[s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isMediaLoading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.showMoreMedia()}}},[t._v(t._s(t.TRANS.load_more))])]):t._e()],2):s("div",{staticClass:"at-dropbox at-dropboxempty"},[s("i",{staticClass:"guppy-image"}),s("label",[t._v(t._s(t.TRANS.no_attachments))])])])])])},bs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-x"})])}],Cs=s("6048"),_s=s.n(Cs),As=s("ce73"),Ms=s.n(As),Ts=s("4772"),Ss=s.n(Ts),ws={name:"GuppyChatSidebarSetting",props:["mediaProps"],data:function(){return{img:"",isloading:!1,isMediaLoading:!1,isdownloading:!1,fileIcon:_s.a,videoIcon:Ms.a,audioIcon:Ss.a,notificationLoader:!1,showMemberRecord:10}},computed:Object(c["a"])({getUserRole:function(){return this.$store.getters.getUserRole()},muteChatNotify:function(){return this.$store.getters.muteChatNotify()}},Object(u["c"])({chatInfo:function(t){return t.chatInfo},groupMembers:function(t){return t.chatInfo.groupDetail?Object.values(t.chatInfo.groupDetail.memberAvatars).filter((function(t){return 1==Number(t.memberStatus)})):[]},attachments:function(t){var e=t.messagesList[t.chatInfo.chatId];return e&&e.mediaAttachments?e.mediaAttachments:[]},chatMediaOffset:function(t){if(t.messagesList[t.chatInfo.chatId]){var e=t.messagesList[t.chatInfo.chatId];if(e.chatMediaOffset)return e.chatMediaOffset}return 0},isAllowClearChat:function(){return _.clearChatOption},isAllowReportOption:function(){return _.reportUserOption}})),watch:{groupMembers:function(){this.showMemberRecord=10}},methods:{showMoreRec:function(t){this.showMemberRecord+=t},deleteGroupMember:function(t){this.$store.state.deleteGroupMember={userName:t.userName,memberId:t.userId,groupId:this.chatInfo.chatId}},editGroup:function(){this.$store.commit("editGroupDetail",{resetGroup:!1})},downloadFile:function(t){D.downloadFile(t.file,t.fileName)},downloadMedia:function(){var t=this;if(this.attachments.length&&1==this.attachments.length)D.downloadFile(this.attachments[0].file,this.attachments[0].fileName);else if(this.attachments.length&&this.attachments.length>1){this.isdownloading=!0;var e=0==this.chatInfo.chatType?this.chatInfo.chatId:"",s=2==this.chatInfo.chatType?this.chatInfo.chatId:"",a=1==this.chatInfo.chatType?this.chatInfo.chatId:0==this.chatInfo.chatType?this.chatInfo.postReceiverId:"";this.axios.get("download-guppy-attachments?userId="+this.userId+"&actionTo="+a+"&chatType="+this.chatInfo.chatType+"&postId="+e+"&groupId="+s).then((function(e){t.isdownloading=!1,"success"==e.data.type&&""!=e.data.downloadUrl&&D.downloadFile(e.data.downloadUrl,e.data.fileName)})).catch((function(e){t.isdownloading=!1,console.log(e)}))}},showMoreMedia:function(){var t=this;this.isMediaLoading=!0,this.axios.get("get-guppy-attachments?userId="+this.userId+"&actionTo="+this.chatInfo.userId+"&chatType="+this.chatInfo.chatType+"&offset="+this.chatMediaOffset).then((function(e){if(t.isMediaLoading=!1,"success"==e.data.type){var s={userId:t.chatInfo.userId,chatType:t.chatInfo.chatType,chatId:t.chatInfo.chatId,mediaAttachments:e.data.mediaAttachments};t.$store.commit("UpdateChatMediaAttachments",s)}})).catch((function(e){t.isMediaLoading=!1,console.log(e)}))},muteNotification:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.chatInfo.chatId.split("_")[0],a={muteType:0,postId:0==t.chatInfo.chatType?s:"",userId:t.userId,chatId:t.chatInfo.chatId,chatType:t.chatInfo.chatType,groupId:2==t.chatInfo.chatType?s:"",actionTo:0==t.chatInfo.chatType?t.chatInfo.postReceiverId:s},t.notificationLoader=!0,e.next=5,N.muteNotification(a);case 5:r=e.sent,t.notificationLoader=!1,"error"==r.data.type&&t.alertBox("error",t.TRANS.error_title,r.data.desc);case 8:case"end":return e.stop()}}),e)})))()}}},ks=ws,Rs=(s("4b71"),Object(It["a"])(ks,ys,bs,!1,null,null,null)),Ns=Rs.exports,Ds={name:"GuppyChatMessagesHeader",components:{GuppyChatSidebarSetting:Ns},computed:Object(c["a"])({chatInfo:function(){return this.$store.getters.getChatInfo()}},Object(u["c"])({avatarImageClass:function(t){var e=t.chatInfo,s="";return 2==e.chatType&&(e.memberDisable||e.groupImage||(e.groupDetail.totalMembers>2?s="at-groupuser_twoplus":2==e.groupDetail.totalMembers&&(s="at-groupuser_img"))),s},groupMembersList:function(t){var e=t.chatInfo,s="",a={membersText:"",activeMembers:[]};if(2==e.chatType&&e.groupDetail&&!e.memberDisable){var r=Object.values(e.groupDetail.memberAvatars),i=r.filter((function(t){return 1==Number(t.memberStatus)}));a.activeMembers=i,i=i.slice(0,5),i.forEach((function(t,a,r){a<4?(s+=t.userName,a!==r.length-1&&(s+=", ")):4==a&&(s+='<a href="javascript:void(0);" class="at-moreuser">+',s+=Number(e.groupDetail.totalMembers)-4+M.more_text+"</a>")})),a.membersText=s}return a}})),methods:{textCapitalize:function(t){return D.usFirst(t)},backToTabList:function(){var t={isEmptyView:!0,isOpenMessagesScr:!1};this.$store.dispatch("toggleMessagesScr",t),this.$store.commit("updateChatInfo",{})}}},Os=Ds,Ls=(s("6db5"),Object(It["a"])(Os,vs,Is,!1,null,null,null)),js=Ls.exports,xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-replay",class:{"at-replay_disable":t.isDisabledFooter}},[t.quoteMessage?s("guppy-chat-quoted-messages",{attrs:{quoteMsgProps:t.quoteMessage},on:{removeQuoteMessage:function(e){return t.removeQuote()}}}):t._e(),s("span",{staticClass:"at-typing",domProps:{innerHTML:t._s(t.typingUsers)}}),s("div",{staticClass:"at-replay_content"},[s("send-media-message"),s("send-text-message"),t.shareVoiceNote?[s("send-voice-message")]:t._e()],2)],1)},Ps=[],Es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-replay_message"},[s("div",{staticClass:"at-message-qoute"},[s("div",{staticClass:"at-message-qoute_content"},[0==Number(t.quoteMsgProps.messageType)?s("div",{staticClass:"at-sendfile"},[s("span",[t._v(t._s(t.quoteMsgProps.message))])]):3==Number(t.quoteMsgProps.messageType)?s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-mic"}),s("span",[t._v(t._s(t.TRANS.voice_note))])]):2==Number(t.quoteMsgProps.messageType)?s("l-map",{staticStyle:{height:"200px",width:"400px","border-radius":"3px"},attrs:{zoom:t.zoom,center:t.getMapLocation(t.quoteMsgProps.message)}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),s("l-marker",{attrs:{"lat-lng":t.getMapLocation(t.quoteMsgProps.message)}})],1):["video"==t.quoteMsgProps.attachmentsData.attachmentType?s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-play"}),s("span",[t._v(t._s(t.quoteMsgProps.attachmentsData.attachments[0].fileName))])]):t._e(),"images"==t.quoteMsgProps.attachmentsData.attachmentType?s("ul",{staticClass:"at-message_imgs"},t._l(t.computedReplyMessage,(function(e,a){return s("li",{key:a},[s("figure",[s("img",{attrs:{src:e.thumbnail,alt:"attachment image"}}),t.quoteMsgProps.attachmentsData.attachments.length>t.showImages&&a==t.showImages-1?s("span",[t._v(" +"+t._s(t.quoteMsgProps.attachmentsData.attachments.length-t.showImages))]):t._e()])])})),0):t._e(),"audio"==t.quoteMsgProps.attachmentsData.attachmentType?s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-music"}),s("span",[t._v(t._s(t.quoteMsgProps.attachmentsData.attachments[0].fileName))])]):t._e(),"file"==t.quoteMsgProps.attachmentsData.attachmentType?s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-file"}),s("span",[t._v(t._s(t.quoteMsgProps.attachmentsData.attachments[0].fileName))])]):t._e()]],2),s("span",{staticClass:"at-remove-quotes",on:{click:function(e){return e.preventDefault(),t.removeQuoteMessage()}}},[s("i",{staticClass:"guppy-x"})])])])},Us=[],Bs={name:"GuppyChatQuotedMessages",props:["quoteMsgProps"],data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:15,center:[],markerLatLng:[]}},computed:{showImages:function(){var t=3;return this.$store.state.isMessangerChat&&(t=4),t},computedReplyMessage:function(){if("images"==this.quoteMsgProps.attachmentsData.attachmentType){var t=3;return this.$store.state.isMessangerChat&&(t=4),this.quoteMsgProps.attachmentsData.attachments.filter((function(e,s){return s<t}))}return null}},methods:{getMapLocation:function(t){return[t.latitude,t.longitude]},removeQuoteMessage:function(){this.$emit("removeQuoteMessage")}}},Gs=Bs,Qs=(s("8fe2"),Object(It["a"])(Gs,Es,Us,!1,null,null,null)),Fs=Qs.exports,qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-replay_upload"},[t._m(0),s("ul",{staticClass:"at-uploadoption"},[s("li",[s("input",{attrs:{type:"file",id:"videoupload"+t.chatInfo.chatId,accept:t.uploadVideoExt.join(",")},on:{change:function(e){return t.handleFileUpload(e,"uploadVideo")}}}),s("label",{attrs:{for:"videoupload"+t.chatInfo.chatId}},[s("i",{staticClass:"guppy-film"}),t._v(t._s(t.TRANS.video))])]),s("li",[s("input",{attrs:{type:"file",id:"audio-upload"+t.chatInfo.chatId,accept:t.uploadAudioExt.join(",")},on:{change:function(e){return t.handleFileUpload(e,"uploadAudio")}}}),s("label",{attrs:{for:"audio-upload"+t.chatInfo.chatId}},[s("i",{staticClass:"guppy-headphones"}),t._v(t._s(t.TRANS.audio))])]),s("li",[s("input",{attrs:{type:"file",id:"photo-upload"+t.chatInfo.chatId,multiple:"",accept:t.uploadImgExt.join(",")},on:{change:function(e){return t.handleFileUpload(e,"uploadImg")}}}),s("label",{attrs:{for:"photo-upload"+t.chatInfo.chatId}},[s("i",{staticClass:"guppy-image"}),t._v(t._s(t.TRANS.photo))])]),s("li",[s("input",{attrs:{type:"file",id:"document-upload"+t.chatInfo.chatId,accept:t.uploadDocExt.join(",")},on:{change:function(e){return t.handleFileUpload(e,"uploadDoc")}}}),s("label",{attrs:{for:"document-upload"+t.chatInfo.chatId}},[s("i",{staticClass:"guppy-file"}),t._v(t._s(t.TRANS.document))])]),t.shareLocation?s("li",[s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.uploadType="location",t.sendLocationMessage()}}},[s("i",{staticClass:"guppy-map-pin"}),t._v(t._s(t.TRANS.location))])]):t._e()])])},Vs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-share"})])}],zs={name:"GuppyChatSendMediaMessage",props:{chatId:{type:String,required:!1,default:function(){return null}}},data:function(){return{files:"",shareLocation:_.shareLocation,uploadDocExt:_.fileExt,uploadImgExt:_.imgExt,uploadAudioExt:_.audioExt,uploadVideoExt:_.videoExt,uploadDocSize:_.maxFileSize,uploadAudioSize:_.maxAudioSize,uploadImgSize:_.maxImageSize,uploadVideoSize:_.maxVideoSize,maxFileUploads:window.wpguppy_scripts_vars.maxFileUploads}},computed:{chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId(this.chatId)}},methods:{handleFileUpload:function(t,e){var s=new FormData;if(this.files=t.target.files,this.files.length>Number(this.maxFileUploads))return this.alertBox("error",this.TRANS.error_title,this.TRANS.max_file_uploads_msg),void(t.target.value="");for(var a=0,r=Object.entries(this.files);a<r.length;a++){var i=Object(o["a"])(r[a],2),n=i[0],c=i[1],u=c.name.split(".").pop(),p=1024*this[e+"Size"],l=c.size;if(!(this[e+"Ext"].includes("."+u)&&l<=p))return this.alertBox("error",this.TRANS.error_title,this.TRANS.invalid_input_file),void(t.target.value="");s.append(n,c)}var d=Number(this.chatInfo.chatType),h=0==Number(this.chatInfo.chatType)?this.chatInfo.postId:"",g=1==Number(this.chatInfo.chatType)?this.chatInfo.chatId.split("_")[0]:0==Number(this.chatInfo.chatType)?this.chatInfo.postReceiverId:"",m=2==Number(this.chatInfo.chatType)?this.chatInfo.chatId.split("_")[0]:"",f=Math.floor(999999999*Math.random());s.append("messageType",1),s.append("userId",this.userId),s.append("receiverId",g),s.append("chatType",d),s.append("groupId",m),s.append("postId",h),s.append("replyId",this.quoteMessageId),s.append("message",""),s.append("metaData[randNum]",f),this.$store.commit("updateMessageInput",{text:"",chatId:this.chatInfo.chatId}),this.isLoading=!0,D.loadMediaMessage(f,this.chatInfo.chatId),this.sendMessage(s),this.scrollListToBottom(),this.$store.commit("removeQuote",{chatId:this.chatInfo.chatId}),t.target.value=""},sendMessage:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,N.sendMessage(t,e.chatInfo.chatId);case 2:a=s.sent,"error"==a.type&&e.alertBox("error",e.TRANS.error_title,a.message_desc);case 4:case"end":return s.stop()}}),s)})))()},sendLocationMessage:function(){if(navigator.geolocation){var t=this,e=t.quoteMessageId,s=2==Number(this.chatInfo.chatType)?this.chatInfo.chatId:"",a=0==Number(this.chatInfo.chatType)?this.chatInfo.postId:"";navigator.geolocation.getCurrentPosition((function(r){var i=Math.floor(999999999*Math.random()),o=new FormData;o.append("userId",t.userId),o.append("receiverId",1==Number(t.chatInfo.chatType)?t.chatInfo.chatId:0==Number(t.chatInfo.chatType)?t.chatInfo.postReceiverId:""),o.append("chatType",t.chatInfo.chatType),o.append("groupId",s),o.append("postId",a),o.append("latitude",r.coords.latitude),o.append("longitude",r.coords.longitude),o.append("replyId",e),o.append("messageType",2),o.append("metaData[randNum]",i),t.$store.commit("updateMessageInput",{text:"",chatId:t.chatInfo.chatId}),t.isLoading=!0,D.loadMediaMessage(i,t.chatInfo.chatId),t.sendMessage(o),t.$store.commit("removeQuote",{chatId:t.chatInfo.chatId})}),(function(t){console.log(t.message)}))}else this.alertBox("warning",this.TRANS.error_title,this.TRANS.geo_location_error_txt)},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)}}},$s=zs,Js=Object(It["a"])($s,qs,Vs,!1,null,null,null),Hs=Js.exports,Ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-replay_msg"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.messageInput,expression:"messageInput"}],ref:"messageInputRef",staticClass:"at-form-control at-form-replay",attrs:{id:"input-text-message-"+t.chatInfo.chatId,type:"text",name:"replay",placeholder:t.TRANS.type_message,autocomplete:"off"},domProps:{value:t.messageInput},on:{input:function(e){e.target.composing||(t.messageInput=e.target.value)}}}),t.shareEmoji?s("div",{ref:"emojiPickerWrapperRef",staticClass:"at-emojibar",style:t.styles.stickyButton},[t.showEmojiPicker?s("picker",{style:t.styles.emojiPicker,attrs:{set:"twitter",emoji:"point_up",data:t.emojiIndex,title:t.STRINGS.PICK_YOUR_EMOJI},on:{select:t.emojiClicked}}):t._e(),s("div",{style:t.styles.composerIcon,attrs:{title:t.STRINGS.EMOJI},on:{click:t.toggleEmojiPicker}},[s("img",{style:t.styles.composerIcon.img,attrs:{alt:t.STRINGS.INSERT_EMOTICON,src:t.icons[t.showEmojiPicker?"close":"emoji"]}})])],1):t._e(),t.isMessangerChat?s("a",{staticClass:"at-sendmsg",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.sendTextMessage()}}},[s("i",{staticClass:"guppy-send"})]):t._e()])},Ks=[],Ys=s("364d"),Xs=(s("01ce"),s("41fb")),Zs=s("3098"),ta=s.n(Zs),ea=s("17f6"),sa=s.n(ea),aa=function(){return{display:"flex",flexDirection:"row",alignItems:"center",zIndex:"1",margin:"0",position:"absolute",left:"11px",height:"calc(100% - 2px)",width:"58px",cursor:"pointer",borderRight:"1px solid #ddd",justifyContent:"center"}},ra=function(){return{position:"absolute",bottom:"100%",left:"-76px",zIndex:"2",width:"280px",backgroundColor:"#ffffff !important"}},ia=function(t){return{width:"100%",height:"100%",paddingLeft:"0",display:"flex",alignItems:"center",justifyContent:"center",opacity:t?.4:1,img:{width:"23px",height:"23px",display:"block",cursor:t?"default":"pointer"}}},oa=new Xs["EmojiIndex"](Ys),na={name:"GuppyChatSendTextMessage",components:{Picker:Xs["Picker"]},props:{chatId:{type:String,required:!1,default:function(){return null}}},data:function(){return{shareEmoji:_.shareEmoji,emojiIndex:oa,showEmojiPicker:!1}},computed:Object(c["a"])({STRINGS:function(){return C},messageInput:{get:function(){return this.$store.getters.getMessageInput(this.chatId)},set:function(t){this.$store.commit("updateMessageInput",{text:t,chatId:this.chatId})}},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId(this.chatId)},CurrentDate:function(){var t=new Date,e=["January ","February ","March ","April","May","June","July","August","September","October","November","December"],s=t.getDate(),a=e[t.getMonth()],r=t.getFullYear();return"".concat(a," ").concat(s,", ").concat(r)},icons:function(){return{close:ta.a,emoji:sa.a}},styles:function(){return{stickyButton:aa(),emojiPicker:ra(),composerIcon:ia(this.isBlockedByMe)}},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)}},Object(u["c"])({userProfile:function(t){return t.userProfile},isMessangerChat:function(t){return t.isMessangerChat},isBlockedByMe:function(t){return t.chatInfo.isBlocked}})),watch:{isBlockedByMe:function(t){t&&(this.showEmojiPicker=!1,this.showStickerPicker=!1)},messageInput:function(t){var e=[];if(2==this.chatInfo.chatType&&this.chatInfo.groupDetail)for(var s=0,a=Object.entries(this.chatInfo.groupDetail.memberAvatars);s<a.length;s++){var r=Object(o["a"])(a[s],1),i=r[0];this.userId!=i&&e.push(i)}var n={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:this.userId,text:t,groupMembers:e};this.isTyping(n)}},updated:function(){this.autoHeightInput()},methods:{autoHeightInput:function(){var t="#input-text-message-".concat(this.chatInfo.chatId),e=document.getElementById("input-text-message-".concat(this.chatInfo.chatId));if(e){var s=h()(t).css("padding-top").split("px")[0],a=h()(t).css("padding-bottom").split("px")[0],r=Number(s)+Number(a);h()(t).height(0).height(e.scrollHeight-r),h()(t).height()>=60?h()("textarea.at-form-replay").css("overflow","auto"):h()("textarea.at-form-replay").css("overflow","hidden")}},isTyping:function(t){this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:t})},toggleEmojiPicker:function(){this.isBlockedByMe||(this.showEmojiPicker=!this.showEmojiPicker)},emojiClicked:function(t){var e=this;this.$nextTick((function(){try{if(e.$refs&&e.$refs.messageInputRef){var s=e.$refs.messageInputRef,a=s.value,r=s.selectionStart,i=s.selectionEnd;s.value=a.slice(0,r)+t.native+a.slice(i),s.focus();var o=r+t.native.length;s.setSelectionRange(o,o),e.setMessageInput(s)}}catch(n){e.logError("Error in emoji click",n)}}))},setMessageInput:function(t){this.messageInput=t.value},sendTextMessage:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={receiverId:1==Number(t.chatInfo.chatType)?t.chatInfo.chatId.split("_")[0]:0==Number(t.chatInfo.chatType)?t.chatInfo.postReceiverId:"",userId:t.userId,chatId:t.chatInfo.chatId,groupId:2==Number(t.chatInfo.chatType)?t.chatInfo.chatId:"",postId:0==Number(t.chatInfo.chatType)?t.chatInfo.postId:"",chatType:Number(t.chatInfo.chatType),message:t.messageInput,isSender:!0,replyTo:"",latitude:"",longitude:"",messageType:0,messageStatus:0,replyId:t.quoteMessageId,timeStamp:Math.floor((new Date).getTime()/1e3),messageSentTime:t.CurrentDate,metaData:{randNum:Math.floor(999999999*Math.random())}},!t.messageInput){e.next=12;break}return t.showEmojiPicker&&(t.showEmojiPicker=!1),t.quoteMessage&&(s["replyMessage"]=t.quoteMessage),t.$store.commit("appendMessage",s),t.$store.commit("removeQuote",{chatId:t.chatInfo.chatId}),t.scrollListToBottom(),t.$store.commit("updateMessageInput",{text:"",chatId:t.chatInfo.chatId}),e.next=10,N.sendMessage(s,t.chatInfo.chatId);case 10:a=e.sent,"error"==a.type&&t.alertBox("error",t.TRANS.error_title,a.message_desc);case 12:case"end":return e.stop()}}),e)})))()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)}},mounted:function(){var t=document.getElementById("input-text-message-".concat(this.chatInfo.chatId)),e=this;t.addEventListener("keydown",(function(t){var s=t.which||t.keyCode;13!==s||t.shiftKey||(t.preventDefault(),e.sendTextMessage())}))}},ca=na,ua=Object(It["a"])(ca,Ws,Ks,!1,null,null,null),pa=ua.exports,la=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.MicPermission?s("div",{staticClass:"at-replay_audio record",class:{"at-startrecording":t.recording},on:{click:function(e){return e.preventDefault(),t.toggleVoiceRec()}}},[t._m(0)]):s("div",{staticClass:"at-replay_audio at-recorddisabled",on:{click:function(e){return e.preventDefault(),t.micConnectionAlert()}}},[t._m(1)])},da=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-mic"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-mic"})])}],ha={name:"GuppyChatSendVoiceMessage",props:{chatId:{type:String,required:!1,default:function(){return null}}},data:function(){return{MicPermission:!0,recording:!1,chunks:[],mediaRecorder:"",base64AudioText:""}},computed:{quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId(this.chatId)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)}},methods:{micConnectionAlert:function(){this.alertBox("error",this.TRANS.error_title,this.TRANS.microphone_connection_desc)},toggleVoiceRec:function(){this.MicPermission&&(this.recording=!this.recording,this.recording?this.voiceRecord():this.stopRecording())},stopRecording:function(){this.mediaRecorder.stop()},voiceRecord:function(){if(navigator.mediaDevices.getUserMedia){var t={audio:!0};navigator.mediaDevices.getUserMedia(t).then(this.onSuccess,this.onError)}else this.alertBox("error",this.TRANS.error_title,this.TRANS.microphone_connection_desc)},sendMessage:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,N.sendMessage(t,e.chatInfo.chatId);case 2:a=s.sent,"error"==a.type&&e.alertBox("error",e.TRANS.error_title,a.message_desc);case 4:case"end":return s.stop()}}),s)})))()},onSuccess:function(t){var e=this;e.mediaRecorder=new MediaRecorder(t),e.mediaRecorder.start(),e.MicPermission=!0,e.mediaRecorder.onstop=function(){var t=new Blob(e.chunks);t=t.slice(0,-1,"audio/aac"),t.name="voiceNote"+Math.floor(99999*Math.random())+".aac";var s=new FileReader;s.addEventListener("load",(function(){var a=new File([s.result],t.name,t),r=e.quoteMessageId,i=2==Number(e.chatInfo.chatType)?e.chatInfo.chatId:"",o=0==Number(e.chatInfo.chatType)?e.chatInfo.postId:"",n=Math.floor(999999999*Math.random()),c=new FormData;c.append("userId",e.userId),c.append("receiverId",1==Number(e.chatInfo.chatType)?e.chatInfo.chatId.split("_")[0]:0==Number(e.chatInfo.chatType)?e.chatInfo.postReceiverId:""),c.append("chatType",Number(e.chatInfo.chatType)),c.append("groupId",i),c.append("postId",o),c.append("messageType",3),c.append("replyId",r),c.append("0",a),c.append("metaData[randNum]",n),e.isLoading=!0,D.loadMediaMessage(n,e.chatInfo.chatId),e.sendMessage(c),e.$store.commit("removeQuote",{chatId:e.chatInfo.chatId}),e.$store.commit("updateMessageInput",{text:"",chatId:e.chatInfo.chatId})}),!1),s.readAsArrayBuffer(t),e.chunks=[]},this.mediaRecorder.ondataavailable=function(t){e.chunks.push(t.data)}},onError:function(t){this.MicPermission=!1,console.warn("The following warning occured: "+t),this.micConnectionAlert()}}},ga=ha,ma=Object(It["a"])(ga,la,da,!1,null,null,null),fa=ma.exports,va={name:"GuppyChatMessagesFooter",components:{GuppyChatQuotedMessages:Fs,SendMediaMessage:Hs,SendTextMessage:pa,SendVoiceMessage:fa},props:["isDisabledFooter"],data:function(){return{shareVoiceNote:_.shareVoiceNote,uploadType:"",sendingMessages:[],typingIcon:_.typingIcon,oldChatInfo:""}},computed:Object(c["a"])({quoteMessage:function(){return this.$store.getters.getQuoteMessage()},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId()},typingUsers:function(){var t=this.$store.getters.typingUsersIndicatorText(),e=M.is_typing,s=M.are_typing,a=M.more_user_typing,r=t.indicator,i=t.typingUsers,o=t.tUsers,n="";if(o){if("isTypingText"==r&&i)n='<em class="at-typing-name">'+i+"</em>"+e;else if("areTypingText"==r&&i)n='<em class="at-typing-name">'+i+"</em>"+s;else{var c='<em class="at-typing-name">'+i+"</em>"+a;n=c.replace("((user_count))",Number(o)-3)}n+='<em><img src="'+_.typingIcon+'" alt="users typing"></em>'}return n}},Object(u["c"])({chatInfo:function(t){return t.chatInfo}})),watch:{chatInfo:function(t,e){t.chatId==e.chatId&&t.chatType==e.chatType||(this.$store.commit("updateMessageInput",{text:"",chatId:t.chatId}),this.removeQuote())}},mounted:function(){this.oldChatInfo=this.chatInfo},methods:{removeQuote:function(){this.$store.commit("removeQuote",{chatId:this.chatInfo.chatId})},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)}}},Ia=va,ya=(s("8276"),Object(It["a"])(Ia,xs,Ps,!1,null,null,null)),ba=ya.exports,Ca=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-view-messages"},[t.loadChat&&!t.messagesList.length?s("div",{staticClass:"at-empty-conversation"},[t._m(0)]):t._e(),t.messagesList.length?[s("div",{ref:"messagesEnd",staticClass:"at-messagewrap",attrs:{id:"message-wrap_"+t.chatInfo.chatId},on:{scroll:function(e){return t.scrollHandler(e)}}},[t.messagesLoading?[t._m(1)]:t._e(),s("guppy-chat-messages-list",{attrs:{chatId:t.chatId}})],2)]:t._e()],2)},_a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chatloader"},[s("span"),s("span"),s("span"),s("span"),s("span"),s("span"),s("span"),s("span")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-messages at-inner-loaader"},[s("span",[s("i",{staticClass:"at-spinericon"})])])}],Aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.messagesList,(function(e){return s("div",{key:e.messageId+"_"+Math.floor(99999999*Math.random()),staticClass:"at-messages",class:{"at-message_sender":e.isSender}},[e.messageSentDate?s("div",{key:e.messageId,staticClass:"at-chatseparation"},[s("span",[t._v(" "+t._s(e.messageSentDate)+" ")])]):t._e(),2==Number(e.messageStatus)?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-delete-message",{attrs:{messageProps:e}})],1):s("guppy-delete-message",{attrs:{messageProps:e}})]:0==Number(e.messageType)?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-chat-text-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-chat-text-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:2==Number(e.messageType)?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-location-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-location-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:4==Number(e.messageType)?[s("guppy-chat-notify-message",{attrs:{chatInfo:t.chatInfo,messageProps:e}})]:5==Number(e.messageType)?[s("div",{staticClass:"at-message at-loadermsg"},[s("i",{staticClass:"guppy-loader at-spinericon"}),t._v(" "+t._s(t.TRANS.attachments_uploading)+" ")])]:["audio"==e.attachmentsData.attachmentType?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-audio-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-audio-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:t._e(),"file"==e.attachmentsData.attachmentType?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-file-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-file-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:t._e(),"images"==e.attachmentsData.attachmentType?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-image-message",{attrs:{totalRecord:e.attachmentsData.attachments.length,messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-image-message",{attrs:{totalRecord:e.attachmentsData.attachments.length,messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:t._e(),"video"==e.attachmentsData.attachmentType?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-video-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-video-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:t._e(),"voice_note"==e.attachmentsData.attachmentType?[0==e.chatType||2==e.chatType?s("div",{staticClass:"at-grp_receiver_msg"},[e.isSender?t._e():s("img",{staticClass:"at-group-avatar",attrs:{src:e.userAvatar,alt:e.userName}}),s("guppy-chat-voice-message",{attrs:{messageProps:e,disableReply:t.disableReply},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})],1):s("guppy-chat-voice-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}})]:t._e()],4==Number(e.messageType)||0!=e.chatType&&2!=e.chatType?s("span",{staticClass:"at-message_time",class:{"at-seenmsg":e.isSender&&1==Number(e.messageStatus)}},[t._v(" "+t._s(t.getMessageTime(e.timeStamp))+" ")]):s("span",{staticClass:"at-message_time",class:{"at-seenmsg":e.isSender&&1==Number(e.messageStatus),"at-resmsg":e.isSender&&e.messageSeenIds&&e.messageSeenIds.length}},[t._v(" "+t._s(t.getMessageTime(e.timeStamp))+" ")])],2)})),0)},Ma=[],Ta=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-audio-area",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[s("guppy-chat-message-actions",{attrs:{downloadData:t.messageProps.attachmentsData.attachments,isDownloadProps:!0,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!0)},[s("div",{staticClass:"ready-player-1"},[s("mini-audio",{attrs:{muted:"false",audioSource:t.messageProps.attachmentsData.attachments[0].file}})],1)]):s("div",{staticClass:"ready-player-1"},[s("mini-audio",{attrs:{muted:"false",audioSource:t.messageProps.attachmentsData.attachments[0].file}}),t.disableReply?t._e():s("guppy-chat-message-actions",{attrs:{downloadData:t.messageProps.attachmentsData.attachments,isDownloadProps:!0,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})],1)],1)},Sa=[],wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-messageoption"},[t._m(0),s("ul",{staticClass:"at-messageoption_list"},[t.isDownloadProps?s("li",[s("a",{class:{"at-disable-btn":t.isDownloading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.downloadMedia()}}},[t.isDownloading?t._e():s("i",{staticClass:"guppy-download"}),t._v(t._s(t.TRANS.download)+" ")])]):t._e(),s("li",[s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.quoteMessage()}}},[s("i",{staticClass:"guppy-message-circle"}),t._v(" "+t._s(t.TRANS.reply_message))])]),2==t.messageProps.chatType?[t.messageProps.isSender&&t.disableDeleteMessage&&t.enableDeleteMessage?s("li",{on:{click:function(e){return e.preventDefault(),t.deleteMessage()}}},[s("a",{class:{"at-disable-btn":t.isSending},attrs:{href:"javascript:void(0);111"}},[t.isSending?t._e():s("i",{staticClass:"guppy-trash"}),t._v(t._s(t.TRANS.delete))])]):t._e()]:[t.messageProps.isSender&&0==Number(t.messageProps.messageStatus)&&t.enableDeleteMessage?s("li",{on:{click:function(e){return e.preventDefault(),t.deleteMessage()}}},[s("a",{class:{"at-disable-btn":t.isSending},attrs:{href:"javascript:void(0);"}},[t.isSending?t._e():s("i",{staticClass:"guppy-trash"}),t._v(t._s(t.TRANS.delete))])]):t._e()]],2)])},ka=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"at-messageoption_btn",attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-chevron-down"})])}],Ra={name:"GuppyChatTextMessageAction",props:{messageProps:{type:Object,required:!0,default:function(){return{isSender:!0,messageStatus:0}}},isDownloadProps:{type:Boolean,required:!0,default:function(){return!0}},downloadData:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{isSending:!1,isDownloading:!1}},computed:{disableDeleteMessage:function(){var t=this.messageProps;return 2!=t.chatType||!("messageSeenIds"in t)||!t.messageSeenIds||!t.messageSeenIds.length},enableDeleteMessage:function(){return _.deleteMessageOption}},methods:{downloadMedia:function(){var t=this;this.downloadData.length&&1==this.downloadData.length?D.downloadFile(this.downloadData[0].file,this.downloadData[0].fileName):this.downloadData.length&&this.downloadData.length>1&&(this.isDownloading=!0,this.axios.get("download-guppy-attachments?messageId="+this.messageProps.messageId+"&userId="+this.userId).then((function(e){t.isDownloading=!1,"success"==e.data.type&&""!=e.data.downloadUrl&&D.downloadFile(e.data.downloadUrl,e.data.fileName)})).catch((function(e){t.isDownloading=!1,t.errors=e})))},deleteMessage:function(){var t=this;if(!this.isSending){this.isSending=!0;var e={userId:this.userId,messageId:this.messageProps.messageId};this.axios.post("delete-guppy-message",e).then((function(e){if(t.isSending=!1,"success"==e.data.type){h()(".at-messageoption_open").removeClass("at-messageoption_open"),t.$emit("deleteMessageEvent",e.data.messageId);var s=t.userId,a=0,r=[];2==e.data.chatType?r=e.data.groupMembers:a=e.data.receiverId;var i={chatId:e.data.chatId,chatType:e.data.chatType,messageId:e.data.messageId,receiverId:a,userId:s,groupMembers:r};t.$store.dispatch("triggerSocketEvents",{event:"deleteMessage",payload:i})}})).catch((function(e){t.isSending=!1,t.errors=e}))}},quoteMessage:function(){h()(".at-messageoption_open").removeClass("at-messageoption_open"),this.$store.commit("updateQuoteMessageId",{chatId:this.messageProps.chatId,messageId:this.messageProps.messageId})}}},Na=Ra,Da=(s("3b5c"),Object(It["a"])(Na,wa,ka,!1,null,null,null)),Oa=Da.exports,La=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"at-message-qoute"},[s("div",{staticClass:"at-message-qoute_content",class:{"at-reply-video":"video"==t.messageProps.attachmentsData.attachmentType,"at-reply-location":2==Number(t.messageProps.messageType),"at-reply-voice":3==Number(t.messageProps.messageType),"at-reply-file":"file"==t.messageProps.attachmentsData.attachmentType,"at-reply-images":"images"==t.messageProps.attachmentsData.attachmentType}},[1==Number(t.messageProps.messageType)?["images"==t.messageProps.attachmentsData.attachmentType?[s("ul",{staticClass:"at-message_imgs at-messagequote"},t._l(t.computedReplyMessage,(function(e,a){return s("li",{key:a},[s("figure",[s("img",{staticClass:"mCS_img_loaded",attrs:{src:e.thumbnail,alt:e.fileName}}),t.messageProps.attachmentsData.attachments.length>t.showImages&&a==t.showImages-1?s("span",[t._v(" +"+t._s(t.messageProps.attachmentsData.attachments.length-t.showImages))]):t._e()])])})),0)]:t._e(),"video"==t.messageProps.attachmentsData.attachmentType?[s("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOption(),playsinline:!0,customEventName:"customstatechangedeventname"}})]:t._e(),"audio"==t.messageProps.attachmentsData.attachmentType?[s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-music"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])])])]:t._e(),"file"==t.messageProps.attachmentsData.attachmentType?[s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-file"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])])])]:t._e()]:3==Number(t.messageProps.messageType)?[s("mini-audio",{attrs:{muted:"false",audioSource:t.messageProps.attachmentsData.attachments[0].file}})]:2==Number(t.messageProps.messageType)?[s("l-map",{staticStyle:{height:"200px",width:"400px","border-radius":"3px"},attrs:{zoom:t.zoom,center:t.getMapLocation(t.messageProps.message)}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),s("l-marker",{attrs:{"lat-lng":t.getMapLocation(t.messageProps.message)}})],1)]:s("span",[t._v(t._s(t.messageProps.message))])],2),t._t("message_actions")],2),t._t("default")],2)},ja=[],xa={name:"GuppyChatQuoteMessageList",props:["messageProps"],data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:15,center:[],markerLatLng:[]}},computed:{computedReplyMessage:function(){if("images"==this.messageProps.attachmentsData.attachmentType){var t=3;return this.$store.state.isMessangerChat&&(t=4),this.messageProps.attachmentsData.attachments.filter((function(e,s){return s<t}))}return null},showImages:function(){var t=3;return this.$store.state.isMessangerChat&&(t=4),t}},methods:{playerOption:function(){var t=this.messageProps,e=t.attachmentsData.attachments[0],s={height:"200",width:"400",autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/"+e.fileType,src:e.file}],poster:C.VIDEO_THUMBNAIL};return s},getMapLocation:function(t){return[t.latitude,t.longitude]}}},Pa=xa,Ea=Object(It["a"])(Pa,La,ja,!1,null,null,null),Ua=Ea.exports,Ba={name:"GuppyChatVoiceMessage",props:["messageProps","disableReply"],components:{GuppyChatMessageActions:Oa,GuppyChatQuoteMessageList:Ua},data:function(){return{responsiveClass:""}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{deleteMessage:function(t){this.$emit("deleteMsgEvt",t)},playerOption:function(){var t=this.messageProps.replyMessage,e=t.attachmentsData.attachments[0],s={height:"200",width:"400",autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/"+e.fileType,src:e.file}],poster:C.VIDEO_THUMBNAIL};return s}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},Ga=Ba,Qa=(s("b5c9"),Object(It["a"])(Ga,Ta,Sa,!1,null,null,null)),Fa=Qa.exports,qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-messagetext",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage&&!t.messageProps.messageId?s("span",{staticClass:"at-msgload"},[s("i",{staticClass:"at-spinericon"})]):t._e(),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[t.messageProps.messageId?s("guppy-chat-message-actions",{attrs:{isDownloadProps:!1,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}}):t._e()]},proxy:!0}],null,!0)},[s("span",{directives:[{name:"linkified",rawName:"v-linkified"}]},[t._v(t._s(t.messageProps.message))])]):[s("span",{directives:[{name:"linkified",rawName:"v-linkified"}]},[t._v(t._s(t.messageProps.message))]),t.disableReply?t._e():[t.messageProps.messageId?s("guppy-chat-message-actions",{attrs:{isDownloadProps:!1,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}}):s("span",{staticClass:"at-msgload"},[s("i",{staticClass:"at-spinericon"})])]]],2)},Va=[],za={name:"GuppyChatTextMessage",components:{GuppyChatMessageActions:Oa,GuppyChatQuoteMessageList:Ua},props:["messageProps","disableReply"],data:function(){return{responsiveClass:""}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{playerOption:function(){var t=this.messageProps.replyMessage,e=t.attachmentsData.attachments[0],s={height:"200",width:"400",autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/"+e.fileType,src:e.file}],poster:C.VIDEO_THUMBNAIL};return s},deleteMessage:function(t){this.$emit("deleteMsgEvt",t)},getMapLocation:function(t){return[t.latitude,t.longitude]}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},$a=za,Ja=(s("5206"),Object(It["a"])($a,qa,Va,!1,null,null,null)),Ha=Ja.exports,Wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-locationmap",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[s("guppy-chat-message-action",{attrs:{isDownloadProps:!1,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!0)},[s("l-map",{ref:"mymap",staticStyle:{height:"200px",width:"400px","border-radius":"3px"},attrs:{zoom:t.zoom,center:t.center},on:{ready:function(e){return t.loadFullscreen()}}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),s("l-marker",{attrs:{"lat-lng":t.markerLatLng}})],1)],1):[s("l-map",{ref:"mymap",staticStyle:{height:"200px",width:"400px","border-radius":"3px"},attrs:{zoom:t.zoom,center:t.center},on:{ready:function(e){return t.loadFullscreen()}}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),s("l-marker",{attrs:{"lat-lng":t.markerLatLng}})],1),t.disableReply?t._e():s("guppy-chat-message-action",{attrs:{isDownloadProps:!1,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]],2)},Ka=[],Ya={name:"GuppyLocationMessage",components:{GuppyChatMessageAction:Oa,GuppyChatQuoteMessageList:Ua},props:["messageProps","disableReply"],data:function(){return{responsiveClass:"",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:15,center:[this.messageProps.message.latitude,this.messageProps.message.longitude],markerLatLng:[this.messageProps.message.latitude,this.messageProps.message.longitude]}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{loadFullscreen:function(){var t=this.$refs.mymap.mapObject;t.addControl(new window.L.Control.Fullscreen)},deleteMessage:function(t){this.$emit("deleteMsgEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},Xa=Ya,Za=(s("7dea"),Object(It["a"])(Xa,Wa,Ka,!1,null,null,null)),tr=Za.exports,er=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-leftgroupinfo"},[s("span",{domProps:{innerHTML:t._s(t.messageText)}})])},sr=[],ar={name:"GuppyChatNotifyMessage",props:["messageProps","chatInfo"],computed:{messageText:function(){var t=this.messageProps,e=t.chatType,s=this.messageProps.message,a=Number(s.type),r=M,i=this.messageProps.membersUpdate,o="";if(2==e){if(1==a||6==a){var n=1==a?r.group_created_notify:r.group_updated_notify;return this.messageProps.isSender?n.replace("((username))",r.you):n.replace("((username))","<strong>"+this.messageProps.userName+"</strong>")}if(2==a||3==a||5==a){var c=s.memberIds,u=c.length,p="",l=2==a?r.add_grp_member_txt:5==a?r.updt_grp_role:r.remove_grp_member_txt;return c.forEach((function(t,e,s){i[t]&&(e<4&&(p+=i[t],e!==s.length-1&&(p+=", ")),4==e&&(p+=r.grp_other_membert_txt.replace("((counter))",u-4)))})),o=l.replace("“((username))”",p),this.messageProps.isSender&&(o=o.replace("Admin",r.you)),o}if(4==a){var d=s.memberIds;return this.messageProps.isSender?r.leave_grp_member_txt.replace("((username))",r.you):r.leave_grp_member_txt.replace("((username))",i[d[0]])}}else if(1==a){var h=t.isSender?r.auto_inv_sender_msg:r.auto_inv_receiver_msg;return h=h.replace(/\\/g,""),h.replace("((username))",this.chatInfo.userName)}return""}},methods:{}},rr=ar,ir=Object(It["a"])(rr,er,sr,!1,null,null,null),or=ir.exports,nr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-deletemsg"},[t.messageProps.isSender||2!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),s("div",{staticClass:"at-del-msg"},[s("i",{staticClass:"guppy-slash"}),t._v(" "+t._s(t.TRANS.deleted_message))])])},cr=[],ur={name:"GuppyDeleteMessage",props:["messageProps"]},pr=ur,lr=Object(It["a"])(pr,nr,cr,!1,null,null,null),dr=lr.exports,hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-audiosendfile",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([{key:"message_actions",fn:function(){return[t.disableReply?t._e():s("guppy-chat-message-actions",{attrs:{downloadData:t.messageProps.attachmentsData.attachments,isDownloadProps:!0,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!1,2403881237)},[s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-music"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])])])]):s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-music"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])]),t.disableReply?t._e():s("guppy-chat-message-actions",{attrs:{downloadData:t.messageProps.attachmentsData.attachments,isDownloadProps:!0,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})],1)],1)},gr=[],mr={name:"GuppyAudioMessage",components:{GuppyChatMessageActions:Oa,GuppyChatQuoteMessageList:Ua},props:["messageProps","disableReply"],data:function(){return{responsiveClass:""}},computed:Object(u["c"])({chatInfo:function(t){return t.chatInfo},isMessangerChat:function(t){return t.isMessangerChat}}),methods:{deleteMessage:function(t){this.$emit("deleteMsgEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},fr=mr,vr=(s("3647"),Object(It["a"])(fr,hr,gr,!1,null,"2f2d8474",null)),Ir=vr.exports,yr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-message_gallery",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[s("guppy-chat-message-action",{attrs:{isDownloadProps:!0,downloadData:t.computedMessage,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!0)},[s("ul",{staticClass:"at-message_imgs"},t._l(t.computedMessage,(function(e,a){return s("li",{key:a},[s("figure",[s("img",{attrs:{src:e.thumbnail,alt:e.fileName}}),t.totalRecord>t.showImages&&a==t.showImages-1?s("span",[t._v(" +"+t._s(t.totalRecord-t.showImages))]):t._e()])])})),0)]):[s("ul",{staticClass:"at-message_imgs"},t._l(t.computedMessage,(function(e,a){return s("li",{key:a},[s("figure",[s("img",{attrs:{src:e.thumbnail,alt:"attachment image"}}),t.totalRecord>t.showImages&&a==t.showImages-1?s("span",[t._v(" +"+t._s(t.totalRecord-t.showImages))]):t._e()])])})),0),t.disableReply?t._e():s("guppy-chat-message-action",{attrs:{isDownloadProps:!0,downloadData:t.computedMessage,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]],2)},br=[],Cr={name:"GuppyImageMessage",props:["messageProps","totalRecord","disableReply"],components:{GuppyChatMessageAction:Oa,GuppyChatQuoteMessageList:Ua},data:function(){return{responsiveClass:""}},computed:Object(c["a"])({showImages:function(){var t=3;return this.$store.state.isMessangerChat&&(t=4),t},computedMessage:function(){var t=3;return this.$store.state.isMessangerChat&&(t=4),this.messageProps.attachmentsData.attachments.filter((function(e,s){return s<t}))},computedReplyMessage:function(){if("images"==this.messageProps.replyMessage.attachmentsData.attachmentType){var t=3;return this.$store.state.isMessangerChat&&(t=4),this.messageProps.replyMessage.attachmentsData.attachments.filter((function(e,s){return s<t}))}return null},computedReplyTotalRecord:function(){return"images"==this.messageProps.replyMessage.attachmentsData.attachmentType?this.messageProps.replyMessage.attachmentsData.attachments.length:0}},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}})),methods:{deleteMessage:function(t){this.$emit("deleteMsgEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},_r=Cr,Ar=(s("6b46"),Object(It["a"])(_r,yr,br,!1,null,null,null)),Mr=Ar.exports,Tr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-video-message",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[s("guppy-chat-message-actions",{attrs:{isDownloadProps:!0,downloadData:t.messageProps.attachmentsData.attachments,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!0)},[s("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions,playsinline:!0,customEventName:"customstatechangedeventname"}})],1):[s("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions,playsinline:!0,customEventName:"customstatechangedeventname"}}),t.disableReply?t._e():s("guppy-chat-message-actions",{attrs:{isDownloadProps:!0,downloadData:t.messageProps.attachmentsData.attachments,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]],2)},Sr=[],wr={name:"GuppyChatVideoMessage",components:{GuppyChatMessageActions:Oa,GuppyChatQuoteMessageList:Ua},props:["messageProps","disableReply"],data:function(){return{responsiveClass:"",playerOptions:{height:"200",width:"400",autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/"+this.messageProps.attachmentsData.attachments[0].fileType,src:this.messageProps.attachmentsData.attachments[0].file}],poster:C.VIDEO_THUMBNAIL}}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{playerOption:function(){var t=this.messageProps.replyMessage,e=t.attachmentsData.attachments[0],s={height:"200",width:"400",autoplay:!1,muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/"+e.fileType,src:e.file}],poster:C.VIDEO_THUMBNAIL};return s},deleteMessage:function(t){this.$emit("deleteMsgEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},kr=wr,Rr=(s("508c"),Object(It["a"])(kr,Tr,Sr,!1,null,null,null)),Nr=Rr.exports,Dr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-message at-sendpdffile",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.isSender||2!=t.messageProps.chatType&&0!=t.messageProps.chatType?t._e():s("h5",[t._v(t._s(t.messageProps.userName))]),t.messageProps.replyMessage?s("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[s("guppy-chat-message-action",{attrs:{isDownloadProps:!0,downloadData:t.messageProps.attachmentsData.attachments,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})]},proxy:!0}],null,!0)},[s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-file"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])])])]):s("div",{staticClass:"at-sendfile"},[s("i",{staticClass:"guppy-file"}),s("span",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileName)),s("em",[t._v(t._s(t.messageProps.attachmentsData.attachments[0].fileSize))])]),t.disableReply?t._e():s("guppy-chat-message-action",{attrs:{isDownloadProps:!0,downloadData:t.messageProps.attachmentsData.attachments,messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}})],1)],1)},Or=[],Lr={name:"GuppyFileMessage",components:{GuppyChatMessageAction:Oa,GuppyChatQuoteMessageList:Ua},props:["messageProps","disableReply"],data:function(){return{responsiveClass:""}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{deleteMessage:function(t){this.$emit("deleteMsgEvt",t)},quoteMessage:function(t){this.$emit("quoteMsgIdEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},jr=Lr,xr=(s("cd2c"),Object(It["a"])(jr,Dr,Or,!1,null,null,null)),Pr=xr.exports,Er={name:"GuppyChatMessagesList",components:{GuppyChatVoiceMessage:Fa,GuppyChatTextMessage:Ha,GuppyLocationMessage:tr,GuppyDeleteMessage:dr,GuppyAudioMessage:Ir,GuppyImageMessage:Mr,GuppyVideoMessage:Nr,GuppyFileMessage:Pr,GuppyChatNotifyMessage:or},props:{chatId:{type:String,required:!1,default:function(){return null}}},data:function(){return{chatData:""}},computed:{messagesList:function(){return this.$store.getters.messagesListData(this.chatId)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},disableReply:function(){return this.$store.getters.disableReply(this.chatId)}},methods:{getMessageTime:function(t){return D.getMessageTime(t)},deleteChatMessage:function(t){var e=this.messagesList.findIndex((function(e){return e.messageId==t})),s=this.messagesList[e];s.messageStatus=2,this.$set(this.messagesList,e,s)},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)},scrollListToPosition:function(){this.messagesScrollList(this.lastScrollTop)}}},Ur=Er,Br=Object(It["a"])(Ur,Aa,Ma,!1,null,null,null),Gr=Br.exports,Qr={name:"GuppyChatMessagesContainer",components:{GuppyChatMessagesList:Gr},props:{chatId:{type:String,required:!1,default:function(){return null}},conversationData:{type:Object,required:!1,default:function(){return null}}},data:function(){return{lastScrollTop:0,convData:{offset:0,userId:"",chatType:"",receiverId:"",groupId:"",postId:"",chatId:""}}},computed:Object(c["a"])({messagesList:function(){return this.$store.getters.messagesListData(this.chatId)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},loadChat:function(){return this.$store.getters.loadChat(this.chatId)},messagesLoading:function(){return this.$store.getters.messageLoading(this.chatId)}},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}})),watch:{conversationData:function(t){t&&this.isMessangerChat&&(this.convData=t)},chatInfo:function(){D.messagesScrollList(this.lastScrollTop,this.chatId)}},methods:{loadChatMessages:function(){this.loadChat&&this.$store.dispatch("UpdateMessageList",{chatData:this.convData,lastScrollTop:this.lastScrollTop?this.lastScrollTop:0})},scrollHandler:function(t){var e=t.currentTarget.scrollTop,s=this.$refs.messagesEnd?this.$refs.messagesEnd.scrollHeight:0;this.lastScrollTop=s-e;var a=0===Math.round(e);a&&this.messagesList.length&&s>t.currentTarget.offsetHeight&&this.loadChatMessages()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)},scrollListToPosition:function(){this.scrollListToBottom(this.lastScrollTop)},updateConvData:function(){var t=0,e="",s="",a="",r="",i="",o="";s=Number(this.chatInfo.chatType),o=this.chatInfo.chatId,e=this.userId,1==this.chatInfo.chatType?(r=i="",a=o.split("_")[0]):2==this.chatInfo.chatType?(a=i="",r=o.split("_")[0]):0==this.chatInfo.chatType&&(i=o.split("_")[0],a=this.chatInfo.postReceiverId,r=""),this.convData={offset:t,userId:e,chatType:s,receiverId:a,groupId:r,postId:i,chatId:o}}},created:function(){this.isMessangerChat?this.convData=this.conversationData:(this.updateConvData(),this.messagesList.length||this.loadChatMessages(),D.messagesScrollList(this.lastScrollTop,this.chatId))}},Fr=Qr,qr=(s("7432"),Object(It["a"])(Fr,Ca,_a,!1,null,"7276b006",null)),Vr=qr.exports,zr={name:"GuppyChatMessages",components:{NoRecordFound:Ut,GuppyChatInviteResponse:fs,GuppyChatMessageHeader:js,GuppyChatMessageFooter:ba,MessagesContainer:Vr},data:function(){return{chatData:"",oldVal:"",onlineStatus:"",isSending:!1,mediaAttachments:[],convData:{offset:0,userId:"",chatType:"",receiverId:"",groupId:"",postId:"",chatId:""},selectChatUser:{chatId:"",chatType:""}}},watch:{chatInfo:{handler:function(){if(this.isMessangerChat){this.updateConvData(),this.messagesList.length||this.loadChatMessages(),this.scrollListToBottom();var t={isEmptyView:!1,isOpenMessagesScr:!0};this.$store.dispatch("toggleMessagesScr",t)}}}},computed:Object(c["a"])({messagesList:function(){var t="";return t=this.$store.state.isMessangerChat?this.$store.state.chatInfo.chatId:this.chatId,this.$store.getters.messagesListData(t)},loadChat:function(){return!this.$store.state.isMessangerChat||this.$store.getters.loadChat(this.$store.state.chatInfo.chatId)},memberDisable:function(){return this.$store.getters.memberDisable()},isDisabledFooter:function(){return this.$store.getters.isDisabledFooter()},disableReply:function(){return this.$store.getters.disableReply()},getUserRole:function(){return this.$store.getters.getUserRole()},chatInfo:function(){return this.$store.getters.getChatInfo()}},Object(u["c"])({userResponseData:function(t){return t.userResponseData},isOpenMessagesScr:function(t){return t.isOpenMessagesScr},isEmptyView:function(t){return t.isEmptyView},isMessangerChat:function(t){return t.isMessangerChat},unblockButtonText:function(){var t=M.blocked_user_message,e=M.unblock_now,s='<a href="javascript:;" guppy-data-target="#blockuser">'+e+" </a>",a=t.replace("%Unblock%",s);return a}})),methods:{updateConvData:function(){var t=0,e="",s="",a="",r="",i="",o="";s=Number(this.chatInfo.chatType),o=this.chatInfo.chatId,e=this.userId,1==this.chatInfo.chatType?(r=i="",a=o.split("_")[0]):2==this.chatInfo.chatType?(a=i="",r=o.split("_")[0]):0==this.chatInfo.chatType&&(i=o.split("_")[0],a=o.split("_")[1],r=""),this.convData={offset:t,userId:e,chatType:s,receiverId:a,groupId:r,postId:i,chatId:o}},loadChatMessages:function(){this.loadChat&&this.$store.dispatch("UpdateMessageList",{chatData:this.convData,lastScrollTop:this.lastScrollTop?this.lastScrollTop:0})},loadUserChat:function(t){this.convData={offset:0,userId:this.userId,chatType:1,receiverId:t.userId,groupId:"",postId:"",chatId:t.chatId},this.loadChatMessages()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;D.messagesScrollList(t,this.chatInfo.chatId)}}},$r=zr,Jr=(s("a57a"),Object(It["a"])($r,us,ps,!1,null,"2e02e22e",null)),Hr=Jr.exports,Wr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[[s("div",{staticClass:"at-modal",attrs:{id:"blockuser"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.chatInfo.isBlocked?t.TRANS.unblock_user_heading.replace("((username))",t.chatInfo.userName):t.TRANS.block_user_title.replace("((username))",t.chatInfo.userName)))]),s("p",[t._v(t._s(t.chatInfo.isBlocked?t.TRANS.unblock_user_description:t.TRANS.block_user_description))]),t.chatInfo.postId&&!t.chatInfo.isBlocked?[s("div",{staticClass:"at-radio-holder"},[s("div",{staticClass:"at-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.postBlockType,expression:"postBlockType"}],attrs:{type:"radio",name:"for_post",id:"for_this_post",value:"1"},domProps:{checked:t._q(t.postBlockType,"1")},on:{change:function(e){t.postBlockType="1"}}}),s("label",{attrs:{for:"for_this_post"}},[t._v(t._s(t.TRANS.for_this_post))])]),s("div",{staticClass:"at-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.postBlockType,expression:"postBlockType"}],attrs:{type:"radio",name:"for_post",id:"for_all_post",value:"0"},domProps:{checked:t._q(t.postBlockType,"0")},on:{change:function(e){t.postBlockType="0"}}}),s("label",{attrs:{for:"for_all_post"}},[t._v(t._s(t.TRANS.for_all_post))])])])]:t._e(),s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleBlockUser()}}},[t._v(" "+t._s(t.chatInfo.isBlocked?t.TRANS.unblock_button:t.TRANS.block_user_button)+" ")]),s("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);"}},[t._v(" "+t._s(t.TRANS.not_right_now)+" ")])],2)])])],[s("div",{staticClass:"at-modal",attrs:{id:"clearchat"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.TRANS.clear_chat))]),s("p",[t._v(t._s(t.TRANS.clear_chat_description))]),s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.clearChat()}}},[t._v(" "+t._s(t.TRANS.clear_chat_button)+" ")]),s("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TRANS.not_right_now))])])])])],[s("div",{staticClass:"at-modal",attrs:{id:"reportchat"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("h2",[t._v(t._s(t.TRANS.report_heading.replace("((username))","1"==t.chatInfo.chatType||"0"==t.chatInfo.chatType?t.chatInfo.userName:t.chatInfo.groupTitle)))]),s("p",[t._v(t._s(t.TRANS.report_description))]),s("form",{staticClass:"at-themeform"},[s("fieldset",[s("div",{staticClass:"at-form-group-wrap"},[s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.report_title))]),s("div",{staticClass:"at-select at-dropdownholder"},[s("div",{staticClass:"at-form-control"},[s("span",{staticClass:"at-placeholder"},[t._v(t._s(this.reason?this.reason:t.TRANS.report_reason))])]),s("ul",{staticClass:"at-dropdown"},t._l(t.reportingReasons,(function(e,a){return s("li",{key:a,on:{click:function(s){t.reason=e}}},[s("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(e))])])})),0)])]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.report_issue_detail))]),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.reportdesc,expression:"reportdesc",modifiers:{trim:!0}}],staticClass:"at-form-control",attrs:{placeholder:t.TRANS.report_add_description},domProps:{value:t.reportdesc},on:{input:function(e){e.target.composing||(t.reportdesc=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"at-form-group"},[s("ul",{staticClass:"at-btnlist"},[s("li",[s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.reportChat()}}},[t._v(t._s(t.TRANS.report_submit))])]),s("li",[s("a",{staticClass:"at-btn at-btnv2 at-guppy-removemodal",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TRANS.report_cancel))])])])])])])])])])])],[s("div",{staticClass:"at-modal at-creategroup",attrs:{id:"creategroup"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-popupcontent"},[s("div",{staticClass:"at-popuptitle"},[s("h2",[t._v(t._s(t.isEditGroup?t.TRANS.edit_group_txt:t.TRANS.create_group_txt))]),s("a",{staticClass:"at-guppy-removemodal",attrs:{href:"javascript:void(0);",id:"close-group"},on:{click:function(e){return e.preventDefault(),t.closeModal("group_update")}}},[s("i",{staticClass:"guppy-x"})])]),s("form",{staticClass:"at-themeform"},[s("fieldset",[s("div",{staticClass:"at-form-group-wrap"},[s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle"},[t._v(t._s(t.TRANS.grp_photo_txt))]),s("div",{staticClass:"at-dropbox at-dropcontentholder"},[s("div",{staticClass:"at-dropboxuploader"},[s("div",{staticClass:"at-viewuploadimg"},[t.isCroppingImage?[s("vue-croppie",{ref:"croppieRef",attrs:{enableResize:!1,boundary:t.croppieBoundry,viewport:t.croppieViewport}})]:t.uploadImage?s("figure",{staticClass:"at-uploadimg"},[s("img",{attrs:{src:t.uploadImage}})]):t.groupData.groupImage?s("figure",{staticClass:"at-uploadimg"},[s("img",{attrs:{src:t.groupData.groupImage}})]):s("i",{staticClass:"guppy-image"}),t.isCroppingImage?s("a",{staticClass:"at-cropimg",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.croppedImage()}}},[t._v(t._s(t.TRANS.crop_img_txt))]):t.groupData.groupImage||t.uploadImage?s("a",{staticClass:"at-removeuploadimg",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.removeImage()}}},[t._v(t._s(t.TRANS.remove))]):t._e()],2),s("input",{attrs:{type:"file",accept:t.uploadImgExt.join(","),id:"dropboxv2",name:"dropbox"},on:{change:function(e){return e.preventDefault(),t.onImageUpload.apply(null,arguments)}}}),s("label",{attrs:{for:"dropboxv2"}},[s("span",[t._v(t._s(t.capitalizeText(t.TRANS.click_here))+" ")]),t._v(t._s(t.TRANS.grp_photo_dsc_txt))])]),t._m(0)])]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.isEditGroup?t.TRANS.grp_edit_title_txt:t.TRANS.grp_title_txt))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupData.groupTitle,expression:"groupData.groupTitle"}],staticClass:"at-form-control",attrs:{type:"text",placeholder:t.TRANS.grp_title_placeholder_txt,required:""},domProps:{value:t.groupData.groupTitle},on:{input:function(e){e.target.composing||t.$set(t.groupData,"groupTitle",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.isEditGroup?t.TRANS.grp_edit_users_txt:t.TRANS.grp_users_txt))]),s("div",{staticClass:"at-creategrouplist"},[t.groupMembers.length>10||t.isSearching||t.search?s("div",{staticClass:"at-groupusersearch"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:t.TRANS.search_txt},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchMember()}]}})]):t._e(),t.groupMembers.length&&!t.isSearching?s("ul",{ref:"groupMembersList",staticClass:"at-grouplist",on:{scroll:function(e){return t.scrollHandler(e)}}},[t._l(t.groupMembers,(function(e,a){return s("li",{key:a+"_"+Math.floor(1e4*Math.random()),staticClass:"at-groupuserbar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupData.memberIds,expression:"groupData.memberIds"}],attrs:{type:"checkbox",id:"checkv_"+e.userId,name:"check"},domProps:{value:e.userId,checked:Array.isArray(t.groupData.memberIds)?t._i(t.groupData.memberIds,e.userId)>-1:t.groupData.memberIds},on:{change:[function(s){var a=t.groupData.memberIds,r=s.target,i=!!r.checked;if(Array.isArray(a)){var o=e.userId,n=t._i(a,o);r.checked?n<0&&t.$set(t.groupData,"memberIds",a.concat([o])):n>-1&&t.$set(t.groupData,"memberIds",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.groupData,"memberIds",i)},function(s){return t.selectGroupMember(e.userId)}]}}),s("label",{staticClass:"at-groupuserbar_content",attrs:{for:"checkv_"+e.userId}},[s("span",{staticClass:"at-groupuserbar_profile"},[s("img",{staticClass:"mCS_img_loaded",attrs:{src:e.userAvatar,alt:"profile image"}})]),s("span",{staticClass:"at-groupuserbar_title"},[t._v(t._s(e.userName))]),t.groupData.adminIds.includes(e.userId)?s("a",{staticClass:"at-makeadmin at-makeadmin-check",attrs:{href:"javascript:void(0);"},on:{click:function(s){return t.removeAdmin(e.userId)}}},[t._v(t._s(t.TRANS.grp_admin_txt))]):s("a",{staticClass:"at-makeadmin",attrs:{href:"javascript:void(0);"},on:{click:function(s){return s.preventDefault(),t.selectAdmin(e.userId)}}},[t._v(t._s(t.TRANS.grp_mk_admin_txt))])])])})),t.isScrollList?s("guppy-chat-inner-loader"):t._e()],2):[t.isSearching?s("guppy-chat-loader"):s("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)]),s("div",{staticClass:"at-form-group"},[s("ul",{staticClass:"at-btnlist"},[s("li",{staticClass:"at-groupuserbar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupData.disableReply,expression:"groupData.disableReply"}],attrs:{type:"checkbox",id:"disable_reply",name:"check"},domProps:{checked:Array.isArray(t.groupData.disableReply)?t._i(t.groupData.disableReply,null)>-1:t.groupData.disableReply},on:{change:function(e){var s=t.groupData.disableReply,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&t.$set(t.groupData,"disableReply",s.concat([i])):o>-1&&t.$set(t.groupData,"disableReply",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.groupData,"disableReply",r)}}}),s("label",{staticClass:"at-groupuserbar_content",attrs:{for:"disable_reply"}},[s("span",{staticClass:"at-groupuserbar_title"},[t._v(t._s(t.TRANS.disable_grp_txt))])])]),s("li",[s("button",{staticClass:"at-btn",class:{"at-disable-btn":t.isSavingUpdt},attrs:{type:"submit",disabled:t.disableSubmit||t.isSavingUpdt},on:{click:function(e){return e.preventDefault(),t.updateGroup()}}},[t._v(" "+t._s(t.isEditGroup?t.TRANS.grp_updt_txt:t.TRANS.grp_create_txt)+" ")])])])])])])])])])])],[s("div",{staticClass:"at-modal",attrs:{id:"deletegroup"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.TRANS.delete_grp_txt.replace("((groupname))",t.chatInfo.groupTitle)))]),s("p",[t._v(t._s(t.TRANS.delete_group_desc))]),s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isDeletingGroup},attrs:{href:"javascript:void(0);",disabled:t.isDeletingGroup},on:{click:function(e){return e.preventDefault(),t.deleteGroup()}}},[t._v(" "+t._s(t.TRANS.delete_group_opt_txt)+" ")]),s("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);",id:"delete_group_btn"}},[t._v(t._s(t.TRANS.not_right_now))])])])])],[s("div",{staticClass:"at-modal",attrs:{id:"delete_group_member"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.TRANS.delet_grp_member_txt.replace("((username))",t.deleteGroupMember.userName)))]),s("p",[t._v(t._s(t.TRANS.delet_grp_member_dsc))]),s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isDeletingMember},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.deleteMember()}}},[t._v(t._s(t.TRANS.delet_grp_member_btn))]),s("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);",id:"delete_group_btn"}},[t._v(t._s(t.TRANS.not_right_now))])])])])],[s("div",{staticClass:"at-modal",attrs:{id:"leavegroup"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("i",{staticClass:"guppy-alert-circle"}),s("h2",[t._v(t._s(t.TRANS.leave_group_heading))]),s("p",[t._v(t._s(t.TRANS.leave_group_dsc.replace("((groupname))",t.chatInfo.groupTitle)))]),s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isLeavingGroup},attrs:{href:"javascript:void(0);",disabled:t.isLeavingGroup},on:{click:function(e){return t.leaveGroup(!1)}}},[t._v(t._s(t.TRANS.leave_group_opt_txt))]),s("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);",id:"close_leave_group_modal"}},[t._v(t._s(t.TRANS.not_right_now))])])])])],[s("div",{staticClass:"at-modal at-admin-leavegroup",attrs:{id:"admin_leave_group"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-popupcontent"},[s("div",{staticClass:"at-popuptitle"},[s("h2",[t._v(t._s(t.TRANS.before_leave_heading))]),t._m(1)]),s("div",{staticClass:"at-assignlist-wrap"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.assign_group_admin_txt))]),s("div",{staticClass:"at-form-search"},[s("i",{staticClass:"guppy-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMemberName,expression:"searchMemberName"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:"Search here"},domProps:{value:t.searchMemberName},on:{input:[function(e){e.target.composing||(t.searchMemberName=e.target.value)},function(e){return t.searchUser()}]}})]),s("ul",{staticClass:"at-assignlist"},t._l(t.groupMembersList,(function(e,a){return s("li",{key:a+Math.floor(1e4*Math.random())},[s("figure",[s("img",{attrs:{src:e.userAvatar,alt:e.userName}}),s("figcaption",[t._v(t._s(e.userName))])]),s("a",{staticClass:"at-makeadmin",class:{"at-makeadmin-check":t.selectAdminIds.includes(e.userId)},attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.setAdminUser(e.userId)}}},[t._v(t._s(t.selectAdminIds.includes(e.userId)?t.TRANS.grp_admin_txt:t.TRANS.grp_mk_admin_txt))])])})),0)]),s("div",{staticClass:"at-popupfooter"},[s("a",{staticClass:"at-btn at-leavebtn",class:{"at-disable-btn":t.isLeavingGroup},attrs:{href:"javascript:void(0)",disabled:t.isLeavingGroup},on:{click:function(e){return e.preventDefault(),t.leaveGroup(!0)}}},[t._v(" "+t._s(t.TRANS.assign_grp_admin_btn_txt)+" ")])])])])])],[s("div",{staticClass:"at-modal at-cropping-popup",class:{"at-modalopen at-fadin":t.isCroppedImage},attrs:{id:"image_crop"}},[s("div",{staticClass:"at-modaldialog"},[s("div",{staticClass:"at-alert"},[s("vue-croppie",{ref:"profCroppieRef",attrs:{enableResize:!1,boundary:t.proCroppieBoundry,viewport:t.proCroppieViewport}}),s("div",{staticClass:"at-form-group"},[s("ul",{staticClass:"at-btnlist"},[s("li",[s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.proCroppedImage()}}},[t._v(t._s(t.TRANS.crop_img_txt))])]),s("li",[s("a",{staticClass:"at-btn at-btnv2",attrs:{href:"javascript:void(0);",id:"cancel_crop_image"},on:{click:function(e){return e.preventDefault(),t.closePopUp("cropImage")}}},[t._v(t._s(t.TRANS.cancel_txt))])])])])],1)])])],[s("div",{staticClass:"at-modal at-invitepopup",class:{"at-modalopen at-fadin":t.isOpenInvitePopUp},attrs:{id:"accept_invite"}},[s("div",{staticClass:"at-modaldialog"},[s("guppy-chat-invite-response",{attrs:{isShowDefaultMessage:!1}})],1)])]],2)},Kr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-dropcontent at-none"},[s("div",{staticClass:"at-droptitle"},[s("span",[t._v("Profile_photo3869.jpg")]),s("div",{staticClass:"at-progressbarholder"},[s("div",{staticClass:"at-progressbar"},[s("div",{staticClass:"at-progressbar_fill",staticStyle:{width:"50%"}})])])]),s("a",{staticClass:"at-removedrop",attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-trash"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"at-guppy-removemodal",attrs:{href:"javascript:void(0);",id:"admin_leave_group"}},[s("i",{staticClass:"guppy-x"})])}],Yr=s("2909"),Xr=(s("6062"),s("498a"),s("2b3d"),{name:"GuppyChatSidebarSettingPopup",components:{GuppyChatInnerLoader:bt,GuppyChatLoader:St,GuppyChatEmptyView:Ut,GuppyChatInviteResponse:fs},data:function(){return{isloadingUpdt:!1,isSavingUpdt:!1,reportdesc:"",reason:"",search:"",reportingReasons:T,uploadImgExt:_.imgExt,lastScrollTop:0,postBlockType:0,groupData:{disableReply:"",groupImage:"",groupTitle:"",memberIds:[],adminIds:[],userId:"",removeImage:0},file:"",uploadImage:"",timer:null,isEditGroup:!1,isDeletingMember:!1,isDeletingGroup:!1,isLeavingGroup:!1,groupMembersList:[],searchMemberList:[],selectAdminIds:[],searchMemberName:"",isSearching:!1,isCroppingImage:!1,croppieBoundry:{width:450,height:300},croppieViewport:{width:400,height:250,type:"square"},proCroppieBoundry:{width:600,height:460},proCroppieViewport:{width:500,height:450,type:"square"},isCroppedImage:!1,isOpenInvitePopUp:!1}},computed:Object(c["a"])({chatInfo:function(){return this.$store.getters.getChatInfo()},getUserRole:function(){return this.$store.getters.getUserRole()}},Object(u["c"])({deleteGroupMember:function(t){return t.deleteGroupMember},isScrollList:function(t){return t.isScrollList},groupId:function(t){return t.groupId},groupMembers:function(t){if(t.chatInfo.groupDetail){if(t.groupDetail.isEditGroup){var e=Object.values(t.chatInfo.groupDetail.memberAvatars).filter((function(t){return 1==Number(t.memberStatus)})),s=e.filter((function(e){return 1==Number(e.groupRole)||e.userId==t.userId})),a=new Set(s.map((function(t){return Number(t.userId)}))),r=JSON.parse(JSON.stringify(t.groupMembers)),i=r.filter((function(t){return!a.has(Number(t.userId))}));return i}return t.groupMembers}return t.groupMembers},disableSubmit:function(){var t=this.groupData,e=t.groupTitle,s=t.memberIds;return!e.trim()||!s.length},getGroupDetail:function(t){return t.groupDetail}})),watch:{groupMembers:function(){this.isSearching=!1},getGroupDetail:function(t){var e=this;if(t.isEditGroup){var s=[],a=[];if(this.chatInfo.groupDetail){var r=Object.values(this.chatInfo.groupDetail.memberAvatars).filter((function(t){return 1==Number(t.memberStatus)}));r=r.filter((function(t){return t.userId!=e.userId}));var i=r.filter((function(t){return 2==t.groupRole&&t.userId!=e.userId}));s=r.map((function(t){return t.userId})),s=s.filter((function(t){return t!=e.userId})),i.length&&(a=i.map((function(t){return t.userId}))),this.groupData={groupId:this.chatInfo.chatId.split("_")[0],disableReply:this.chatInfo.groupDetail?this.chatInfo.groupDetail.disableReply:"",groupTitle:this.chatInfo.groupTitle,memberIds:s,adminIds:a,userId:this.userId,groupImage:this.chatInfo.groupImage,isEditGroup:!0,removeImage:0},this.uploadImage="";var o=JSON.parse(JSON.stringify(Object.values(this.chatInfo.groupDetail.memberAvatars).filter((function(t){return 1==Number(t.memberStatus)})))),n=JSON.parse(JSON.stringify(this.$store.state.groupMembers)),c=Object.values(o).filter((function(t){return 1!=Number(t.groupRole)&&t.userId!=e.userId})),u=new Set(c.map((function(t){return Number(t.userId)}))),p=[].concat(Object(Yr["a"])(c),Object(Yr["a"])(n.filter((function(t){return!u.has(Number(t.userId))}))));this.isEditGroup=!0,this.$store.state.groupMembers=p,this.$store.state.isEditGroup=!0}}else this.groupData={groupId:"",disableReply:"",groupTitle:"",memberIds:[],adminIds:[],userId:"",groupImage:"",isEditGroup:!1,removeImage:0},this.uploadImage="",this.search="",this.isEditGroup=!1,this.$store.state.isEditGroup=!1}},methods:{closePopUp:function(t){switch(t){case"cropImage":this.isCroppedImage=!1;break;case"acceptInvite":this.isOpenInvitePopUp=!1;break}},openPopUp:function(t){switch(t){case"cropImage":this.isCroppedImage=!0;break;case"acceptInvite":this.isOpenInvitePopUp=!0;break}},setProfileImage:function(t){var e=this,s=new FileReader;this.isCroppedImage=!0,s.onload=function(t){e.$refs.profCroppieRef.bind({url:t.target.result})},s.readAsDataURL(t)},closeModal:function(t){"group_update"==t&&(this.$refs&&this.$refs.croppieRef&&this.$refs.croppieRef.destroy(),this.isCroppingImage=!1,this.search="",this.groupData={disableReply:"",groupImage:"",groupTitle:"",memberIds:[],adminIds:[],userId:"",removeImage:0})},croppedImage:function(){var t=this,e={type:"blob",size:{width:600,height:450},format:"jpeg"};this.$refs.croppieRef.result(e,(function(e){var s=new File([e],"image_".concat(Math.floor(99999999*Math.random()),".jpeg"),{type:e.type});t.file=s,t.uploadImage=URL.createObjectURL(s)})),setTimeout((function(){t.$refs.croppieRef.destroy(),t.isCroppingImage=!1}),100)},proCroppedImage:function(){var t=this,e={type:"blob",size:{width:600,height:450},format:"jpeg"},s="",a="";this.$refs.profCroppieRef.result(e,(function(e){var r=new File([e],"image_".concat(Math.floor(99999999*Math.random()),".jpeg"),{type:e.type});a=r,s=URL.createObjectURL(r),t.isCroppedImage=!1,t.$root.$emit("CroppedfileParams",{imageUrl:s,file:a})}))},capitalizeText:function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},removeImage:function(){this.uploadImage="",this.groupData.groupImage="",this.groupData.removeImage=1,this.file=""},searchUser:function(){var t=this.searchMemberName.toLowerCase();this.groupMembersList=this.searchMemberList.filter((function(e){return e.userName.toLowerCase().indexOf(t)>=0})),this.searchMemberName||(this.groupMembersList=this.searchMemberList)},setAdmin:function(){var t=this,e={userId:this.userId,groupId:this.deleteGroupMember.groupId,memberIds:this.userId};this.isDeletingMember=!0,this.axios.post("set-guppy-admin-member",e).then((function(){t.isDeletingMember=!1,document.getElementById("close_leave_group").click()})).catch((function(e){t.isDeletingMember=!1,console.log(e)}))},deleteMember:function(){var t=this,e={userId:this.userId,memberId:this.deleteGroupMember.memberId,groupId:this.deleteGroupMember.groupId};this.isDeletingMember=!0,this.axios.post("delete-guppy-group-member",e).then((function(e){t.isDeletingMember=!1,document.getElementById("delete_group_btn").click();var s=t.userId,a=2,r=JSON.parse(JSON.stringify(e.data.messagelistData)),i=JSON.parse(JSON.stringify(e.data.chatData)),o=e.data.groupMembers,n=e.data.userMessages,c={chatData:i,messagelistData:r,groupMembers:o,userMessages:n,userId:s,chatType:a};t.$store.dispatch("triggerSocketEvents",{event:"updateGuppyGroup",payload:c})})).catch((function(e){t.isDeletingMember=!1,console.log(e)}))},deleteGroup:function(){var t=this,e={groupId:this.chatInfo.chatId.split("_")[0],userId:this.userId};this.isDeletingGroup=!0,this.axios.post("delete-guppy-group",e).then((function(e){if(t.isDeletingGroup=!1,"success"==e.data.type){t.$store.commit("deleteGroup",e.data);var s=Object(c["a"])({userId:t.userId},e.data);t.$store.dispatch("triggerSocketEvents",{event:"deleteGroup",payload:s}),document.getElementById("delete_group_btn").click()}})).catch((function(e){t.isDeletingGroup=!1,console.log(e)}))},leaveGroup:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s={groupId:this.chatInfo.chatId,userId:this.userId,groupRole:this.getUserRole,memberId:this.userId,adminIds:this.selectAdminIds};if(e&&!this.selectAdminIds.length)return this.alertBox("warning",this.TRANS.error_title,this.TRANS.select_admin_text),!1;this.isLeavingGroup=!0,this.axios.post("leave-guppy-group",s).then((function(e){if(t.isLeavingGroup=!1,"success"==e.data.type){var s=t.userId,a=2,r=JSON.parse(JSON.stringify(e.data.messagelistData)),i=JSON.parse(JSON.stringify(e.data.chatData)),o=e.data.groupMembers,n=e.data.userMessages,c={chatData:i,messagelistData:r,groupMembers:o,userMessages:n,userId:s,chatType:a};t.$store.dispatch("triggerSocketEvents",{event:"leaveGuppyGroup",payload:c})}"suggested"==e.data.type?(t.groupMembersList=t.searchMemberList=e.data.groupMembers,h()(".at-modal").removeClass("at-modalopen"),h()(".at-overlaymodal").remove(),h()("#admin_leave_group").addClass("at-modalopen"),h()("#admin_leave_group").addClass("at-fadin"),h()(".at-overlaymodal").addClass("at-fadin"),h()("body").css("overflow","hidden"),h()("body").append("<div class='at-overlaymodal'></div>")):(document.getElementById("admin_leave_group").click(),document.getElementById("close_leave_group_modal").click(),t.selectAdminIds=t.groupMembersList=t.searchMemberList=[])})).catch((function(e){t.isLeavingGroup=!1,console.log(e)}))},setAdminUser:function(t){if(this.selectAdminIds.includes(t)){var e=this.selectAdminIds.indexOf(t);e>-1&&this.selectAdminIds.splice(e,1)}else this.selectAdminIds.push(t)},selectGroupMember:function(t){this.groupData.memberIds.includes(t)||this.removeAdmin(t)},updateGroup:function(){var t=this;if(this.groupData.groupTitle.trim()&&this.groupData.memberIds.length){this.groupData.groupTitle=this.groupData.groupTitle.trim();var e=new FormData;this.groupData.userId=this.userId,this.isSavingUpdt=!0,Object.keys(this.groupData).map((function(s){e.append(s,t.groupData[s])})),this.file&&e.append(0,this.file),this.axios.post("update-guppy-group",e).then((function(e){if(document.getElementById("close-group").click(),"success"==e.data.type){t.isSavingUpdt=!1;var s=t.userId,a=2,r=JSON.parse(JSON.stringify(e.data.messagelistData)),i=JSON.parse(JSON.stringify(e.data.chatData)),o=e.data.groupMembers,n=e.data.userMessages,c={chatData:i,messagelistData:r,groupMembers:o,userMessages:n,userId:s,chatType:a};t.$store.dispatch("triggerSocketEvents",{event:"updateGuppyGroup",payload:c}),t.search="",t.groupData={disableReply:"",groupImage:"",groupTitle:"",memberIds:[],adminIds:[],userId:"",removeImage:0},t.file="",t.isCroppingImage=!1}else t.alertBox("error",t.TRANS.error_title,e.data.message_desc)})).catch((function(e){t.isSavingUpdt=!1,document.getElementById("close-group").click(),t.search="",t.groupData={disableReply:"",groupImage:"",groupTitle:"",memberIds:[],adminIds:[],userId:"",removeImage:0},t.file="",t.isCroppingImage="",console.log(e)}))}else this.alertBox("warning",this.TRANS.error_title,this.TRANS.empty_field_required)},searchMember:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreGroupMemeber",RecordListValue:!1}),clearTimeout(this.timer),this.isSearching=!0,this.timer=setTimeout((function(){t.$store.commit("updateOffset",{offset:"groupMemberOffset",offsetValue:0}),N.getGroupMemberList(!1,t.search)}),800)},onImageUpload:function(t){var e=this,s=t.target.files[0],a=s.name.split(".").pop();if(this.uploadImgExt.includes("."+a)){var r=new FileReader;this.isCroppingImage=!0,r.onload=function(t){e.$refs.croppieRef.bind({url:t.target.result})},r.readAsDataURL(s),t.target.value=""}else this.alertBox("error",this.TRANS.error_title,this.TRANS.invalid_input_file)},selectAdmin:function(t){this.groupData.adminIds.push(t)},removeAdmin:function(t){var e=this.groupData.adminIds.indexOf(t);e>-1&&this.groupData.adminIds.splice(e,1)},toggleBlockUser:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={statusType:t.chatInfo.isBlocked?4:3,actionTo:t.chatInfo.chatId.split("_")[0],userId:t.userId,groupId:""},t.isloadingUpdt=!0,a=new Object,!t.chatInfo.postId){e.next=14;break}return s["actionTo"]=t.chatInfo.postId,s["postId"]=t.chatInfo.postId,s["blockType"]=t.postBlockType,s["actionTo"]=t.chatInfo.postReceiverId,e.next=10,D.updatePostUserStatus(s);case 10:a=e.sent,t.postBlockType=0,e.next=17;break;case 14:return e.next=16,D.updateUserStatus(s);case 16:a=e.sent;case 17:h()("#blockuser").removeClass("at-modalopen at-fadin"),h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide"),h()("body").css("overflow",""),"success"==a.data.type?t.$store.commit("UpdateSelectUserStatus",a.data.userData):t.alertBox("error",t.TRANS.error_title,a.data.message_desc),t.isloadingUpdt=!1;case 23:case"end":return e.stop()}}),e)})))()},clearChat:function(){var t=this,e=this.chatInfo.chatId.split("_")[0],s=this.chatInfo.chatType,a=this.chatInfo.chatId,r=2==s?a.split("_")[0]:"",i=0==s?a.split("_")[0]:"",o={actionTo:0==s?this.chatInfo.postReceiverId:1==s?e:"",chatId:a,userId:this.userId,groupId:r,postId:i,chatType:s};this.isloadingUpdt=!0,this.axios.post("clear-guppy-chat",o).then((function(e){"success"==e.data.type&&(t.isloadingUpdt=!1,h()("#clearchat").removeClass("at-modalopen at-fadin"),h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide"),h()("body").css("overflow",""),t.$store.dispatch("clearGuppyChat",o),t.$store.dispatch("triggerSocketEvents",{event:"clearChat",payload:o}))})).catch((function(e){t.isloadingUpdt=!1,console.log(e)}))},reportChat:function(){var t=this;if(""!=this.reason&&""!=this.reportdesc){var e={chatId:this.chatInfo.chatId,userId:this.userId,chatType:this.chatInfo.chatType,reportReason:this.reason,reportDesc:this.reportdesc,reportAgainst:1==this.chatInfo.chatType?this.chatInfo.userName:this.chatInfo.groupTitle};this.isloadingUpdt=!0,this.axios.post("report-guppy-chat",e).then((function(e){"success"==e.data.type&&(t.isloadingUpdt=!1,h()("#reportchat").removeClass("at-modalopen at-fadin"),h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide"),h()("body").css("overflow",""),t.reason=t.reportdesc="")})).catch((function(e){t.isloadingUpdt=!1,t.reason=t.reportdesc="",console.log(e)}))}else this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_field_required)},scrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&N.getGroupMemberList(!0,this.search)}},mounted:function(){var t=this;this.$root.$on("croppedProfileImage",(function(e){t.setProfileImage(e)})),this.$root.$on("openPopUp",(function(e){t.openPopUp(e.type)})),this.$root.$on("closePopUp",(function(e){t.closePopUp(e.type)}))}}),Zr=Xr,ti=(s("90a2"),Object(It["a"])(Zr,Wr,Kr,!1,null,null,null)),ei=ti.exports,si={name:"App",components:{SidebarPopup:ei,GuppyChatSidebar:cs,GuppyChatMessages:Hr},data:function(){return{isRtl:!1,windowWidth:""}},computed:{css:function(){return"<style> :root { --primguppycolor: "+_.primaryColor+"; --secguppycolor: "+_.secondaryColor+"; --terguppycolor: "+_.textColor+"; } </style>"}},watch:{windowWidth:function(t,e){t!=e&&""!=e&&this.guppyAddClass()}},methods:{responsive:function(){h()(document).on("click",".conversation-list .at-userbar",(function(){h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide")}))},guppyAddClass:function(){var t=h()(".at-chat").width(),e=this.isRtl?"wpguppy-rtl":"";t>=1440&&h()(".at-chat").attr("class","at-chat"),t<=1440&&h()(".at-chat").attr("class","at-chat at-chat1440"),t<=1199&&h()(".at-chat").attr("class","at-chat at-chat1199"),t<=1080&&h()(".at-chat").attr("class","at-chat at-chat1080"),t<=991&&(h()(".at-chat").attr("class","at-chat at-chat991"),h()(document).on("click",".conversation-list .at-userbar",(function(){h()(".at-chat").addClass("at-opnchatbox")})),h()(document).on("click",".at-btn-respond",(function(){h()(".at-chat").addClass("at-opnchatbox")})),h()(document).on("click",".at-backtolist",(function(){h()(".at-chat").removeClass("at-opnchatbox"),h()(".at-chat").removeClass("at-auto-start-chat")}))),t<=640&&h()(".at-chat").attr("class","at-chat at-chat640 at-chat991"),t<=575&&h()(".at-chat").attr("class","at-chat at-chat575 at-chat640 at-chat991"),t<=480&&h()(".at-chat").attr("class","at-chat at-chat480 at-chat575 at-chat640 at-chat991"),t<=420&&h()(".at-chat").attr("class","at-chat at-chat420 at-chat480 at-chat575 at-chat640 at-chat991"),h()(".at-chat").addClass(e)},startChating:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={sendTo:t,userId:e.userId,startChat:1},e.isLoading=!0,s.next=4,D.sendGuppyInvite(a);case 4:r=s.sent,r&&("success"==r.data.type?r.data.autoInvite&&(_.socketEnable||e.$store.commit("startChat",{friendData:r.data.friendData,messagelistData:r.data.messagelistData})):(e.$store.commit("toggleMessagesScr",{isEmptyView:!0,isOpenMessagesScr:!1}),e.invalidParamsError()));case 6:case"end":return s.stop()}}),s)})))()},invalidParamsError:function(){this.alertBox("error",this.TRANS.error_title,this.TRANS.input_params_err)},getMessangerChatInfo:function(t,e){var s=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={chatId:t,chatType:e,userId:s.userId},a.next=3,D.getMessangerChatInfo(r);case 3:i=a.sent,"success"==i.data.type&&""!=i.data.chatInfo?s.$store.commit("updateChatInfo",{data:i.data.chatInfo}):(s.invalidParamsError(),s.$store.commit("toggleMessagesScr",{isEmptyView:!0,isOpenMessagesScr:!1}));case 5:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.responsive(),this.guppyAddClass()},created:function(){var t=this;this.$store.commit("updateWidgetType",{isMessangerChat:!0});var e=window.location.search.substring(1),s=new URLSearchParams(e),a=s.get("chat_id"),r=s.get("chat_type"),i=s.get("type");if("messanger"==i&&r&&a?(this.$store.commit("toggleMessagesScr",{isEmptyView:!1,isOpenMessagesScr:!0}),this.getMessangerChatInfo(a,r)):a&&Number(a)>0&&1==r&&(this.$store.commit("toggleMessagesScr",{isEmptyView:!1,isOpenMessagesScr:!0}),this.startChating(a)),window.addEventListener("resize",(function(){t.windowWidth=h()(".at-chat").width()})),h()("head").prepend(this.css),this.isRtl=_.isRtl,"pusher"==_.realTimeOption&&_.pusherEnable){var o={pusherKey:_.pusherKey,pusherCluster:_.pusherCluster,restApiUrl:window.wpguppy_scripts_vars.restapiurl,userId:this.userId};this.$store.dispatch("initializePusher",o)}else if("socket"==_.realTimeOption&&_.socketEnable){var n={authToken:window.wpguppy_scripts_vars.authToken,restApiUrl:window.wpguppy_scripts_vars.restapiurl+"34",userId:this.userId};this.$store.dispatch("initializeSocket",n)}}},ai=si,ri=(s("6ed5"),Object(It["a"])(ai,ot,nt,!1,null,"5d74c252",null)),ii=ri.exports,oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-guppysidepopup at-chat",class:{"wpguppy-rtl":t.isRtl}},[s("div",{staticClass:"at-chatsidebar_float at-chatsidebar-widgetclose"},[s("div",{staticClass:"at-chat_previewfloat"},[Number(t.userId)?s("guppy-chat-sidebar",{directives:[{name:"show",rawName:"v-show",value:t.isShowWidget,expression:"isShowWidget"}],attrs:{isWidgetChat:!0}}):t._e(),t.isMessangerChat?s("guppy-chat-messages"):t._e()],1)]),s("div",{staticClass:"at-chatfloatholder"},[s("floating-chats"),t.floatingWidgetEnable?s("div",{staticClass:"at-chatfloat",on:{click:function(e){return e.preventDefault(),t.showWidget()}}},[s("span",[t.isMobileView&&t.getTotalUnreadCount?s("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.getTotalUnreadCount>99?"+99":t.getTotalUnreadCount))]):t._e(),s("a",{attrs:{href:"javascript:void(0);"}},[s("img",{attrs:{src:t.floatingIcon,alt:"floating button"}})])])]):t._e()],1),t.isShowWidget&&!Number(t.userId)?s("sign-in-box",{on:{closeWidget:function(e){return t.showWidget()}}}):t._e(),s("sidebar-popup")],1)},ni=[],ci=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.minimizeChats.topChats.length?s("ul",{staticClass:"at-floatimglist"},[t._l(t.minimizeChats.topChats,(function(e){return s("li",{key:e.chatId},[s("a",{attrs:{href:"javascript:void(0);"}},[0==e.chatType||1==e.chatType?[s("img",{attrs:{src:e.userAvatar,alt:e.userName},on:{click:function(s){return s.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}}),s("span",{staticClass:"at-infotolltip"},[s("em",[t._v(t._s(0==e.chatType?e.postTitle+" - "+e.userName:e.userName))])])]:2==e.chatType?[e.groupImage?s("img",{attrs:{src:e.groupImage,alt:e.groupTitle},on:{click:function(s){return s.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}}):s("img",{attrs:{src:e.userAvatar,alt:e.userName},on:{click:function(s){return s.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}}),s("span",{staticClass:"at-infotolltip"},[s("em",[t._v(t._s(e.groupTitle+" - "+e.userName))])])]:t._e(),s("i",{staticClass:"guppy-x",on:{click:function(s){return s.preventDefault(),t.closeWidgetChatbox(e.chatId)}}}),e.UnreadCount>0?s("span",{staticClass:"at-userstatus notify"}):t._e()],2)])})),t.minimizeChats.bottomChats.length?s("li",[s("a",{attrs:{href:"javascript:void(0);",id:"at_moreitems"},on:{click:function(e){return e.preventDefault(),t.toggleUsersMenue(!t.isOpenMenu)}}},[s("em",[s("i",{class:t.isOpenMenu?"guppy-x":"guppy-more-horizontal"})])]),s("div",{staticClass:"at-floatdropdownholder"},[s("ul",{staticClass:"at-floatdropdown"},t._l(t.minimizeChats.bottomChats,(function(e){return s("li",{key:e.chatId},[s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(s){return s.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}},[0==e.chatType||1==e.chatType?[s("img",{attrs:{src:e.userAvatar,alt:e.userName}}),s("span",[t._v(t._s(0==e.chatType?e.postTitle:e.userName))])]:2==e.chatType?[e.groupImage?s("img",{attrs:{src:e.groupImage,alt:e.groupTitle}}):s("img",{attrs:{src:e.userAvatar,alt:e.userName}}),s("span",[t._v(t._s(e.groupTitle))])]:t._e()],2)])})),0),s("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.closeAllChats()}}},[s("i",{staticClass:"guppy-x"}),t._v(t._s(t.TRANS.close_all_conversation)+" ")])])]):t._e()],2):t._e(),t._l(t.chats,(function(t){return s("guppywidget-chat-box",{key:t.chatId,attrs:{chatId:t.chatId}})}))],2)},ui=[],pi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-floatchat",class:t.floatChatClass,attrs:{id:"floatchat_"+t.chatId}},[s("div",{staticClass:"at-floatchat_content"},[s("guppywidget-chat-box-header",{attrs:{chatInfo:t.chatInfo}}),s("messages-container",{attrs:{chatId:t.chatId}}),s("guppywidget-chat-box-footer",{attrs:{chatInfo:t.chatInfo}})],1)])},li=[],di=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-floatchat_title"},[0==t.chatInfo.chatType?s("figure",{staticClass:"at-singleimg"},[s("img",{attrs:{src:t.chatInfo.postImage,alt:"profile image"}}),t.chatInfo.isOnline?s("span",{staticClass:"at-userstatus online"}):t._e()]):1==t.chatInfo.chatType?s("figure",{staticClass:"at-singleimg"},[s("img",{attrs:{src:t.chatInfo.userAvatar,alt:"profile image"}}),t.chatInfo.isOnline?s("span",{staticClass:"at-userstatus online"}):t._e()]):2==t.chatInfo.chatType?s("figure",{staticClass:"at-singleimg",class:{"at-multipleimg":!t.chatInfo.groupImage}},[t.chatInfo.groupImage?s("img",{attrs:{src:t.chatInfo.groupImage,alt:"profile image"}}):t.chatInfo.groupDetail?[!t.chatInfo.groupImage&&t.chatInfo.groupDetail.totalMembers>2?t._l(Object.values(t.groupMembersList.activeMembers).slice(0,2),(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:"profile image"}})})):t._l(Object.values(t.groupMembersList.activeMembers),(function(t,e){return s("img",{key:e,attrs:{src:t.userAvatar,alt:"profile image"}})}))]:t._e(),!t.chatInfo.groupImage&&t.chatInfo.groupDetail.totalMembers>2?s("span",[t._v(" "+t._s(t.chatInfo.groupDetail.totalMembers-2)+"+ ")]):t._e()],2):t._e(),s("h2",[s("em",[t._v(t._s(t.title))])]),s("div",{staticClass:"at-floatchat_title-right"},[s("div",{staticClass:"at-floatchatdropdownholder"},[s("a",{staticClass:"at-floatchatdrop",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleMenu()}}},[s("i",{staticClass:"guppy-chevron-down"})]),s("div",{staticClass:"at-floatchatdropdown",staticStyle:{display:"none"},attrs:{id:"dropdown_"+t.chatId}},[s("div",{staticClass:"at-chat_sidebarsettingcontent at-openmsg"},[s("a",{attrs:{href:t.messangerPage,target:"_blank"}},[s("i",{staticClass:"guppy-external-link"}),t._v(t._s(t.TRANS.open_in_messenger))])]),s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("h4",[t._v(t._s(t.TRANS.actions))]),2!=t.chatInfo.chatType||1!=t.getUserRole&&2!=t.getUserRole||t.chatInfo.memberDisable?t._e():[s("a",{attrs:{"guppy-data-target":"#creategroup",href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.editGroup()}}},[t._v(t._s(t.TRANS.edit_group))])],s("a",{class:{"at-disable-btn":t.notificationLoader},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.muteNotification()}}},[t._v(" "+t._s(t.muteChatNotify?t.TRANS.unmute_conversation:t.TRANS.mute_conversation)+" ")])],2),s("div",{staticClass:"at-chat_sidebarsettingcontent"},[s("h4",[t._v(t._s(t.TRANS.privacy_settings))]),0==t.chatInfo.chatType||1==t.chatInfo.chatType?[t.chatInfo.isBlocked?[t.chatInfo.blockedId!=t.userId?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.unblock_user)+" ")]):t._e()]:[s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])],t.isAllowReportOption?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#reportchat"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.report_user)+" ")]):t._e()]:2==t.chatInfo.chatType?[t.chatInfo.memberDisable?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#deletegroup"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(t._s(t.TRANS.delete_group_txt))]):s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#leavegroup"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(t._s(t.TRANS.leave_group_txt))]),t.isAllowReportOption?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#reportchat"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(t._s(t.TRANS.report_group))]):t._e()]:t._e(),t.isAllowClearChat?s("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#clearchat"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.clear_chat)+" ")]):t._e()],2)])]),t.isMobileView?t._e():s("a",{staticClass:"at-minimize",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.minimizeWidgetChatbox()}}},[s("i",{staticClass:"guppy-minus",attrs:{id:"guppy-minus"+t.chatId}})]),s("a",{staticClass:"at-removechat",attrs:{href:"javascript:void(0);"}},[s("i",{staticClass:"guppy-x",on:{click:function(e){return e.preventDefault(),t.closeWidgetChatbox()}}})])])])},hi=[],gi={name:"GuppywidgetChatBoxHeader",props:["chatInfo"],data:function(){return{chatId:this.chatInfo.chatId,notificationLoader:!1,messangerPage:""!=_.messangerPage?_.messangerPage+"?chat_type="+this.chatInfo.chatType+"&chat_id="+this.chatInfo.chatId+"&type=messanger":window.location.href}},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])({isMobileView:function(t){return t.isMobileView}})),{},{getUserRole:function(){return this.$store.getters.getUserRole(this.chatId)},muteChatNotify:function(){return this.$store.getters.muteChatNotify(this.chatId)},title:function(){return 0==this.chatInfo.chatType?this.chatInfo.postTitle:1==this.chatInfo.chatType?this.chatInfo.userName:2==this.chatInfo.chatType?this.chatInfo.groupTitle:""},groupMembersList:function(){var t=this.chatInfo,e={membersText:"",activeMembers:[]};if(2==t.chatType&&t.groupDetail&&!t.memberDisable){var s=Object.values(t.groupDetail.memberAvatars),a=s.filter((function(t){return 1==Number(t.memberStatus)}));e.activeMembers=a,a=a.slice(0,5)}return e},isAllowClearChat:function(){return _.clearChatOption},isAllowReportOption:function(){return _.reportUserOption}}),methods:{updateSelectChatId:function(){this.$store.commit("updateSelectedChatId",{chatId:this.chatInfo.chatId}),this.toggleMenu()},closeWidgetChatbox:function(){this.$store.commit("closeWidgetChatbox",{chatId:this.chatId})},minimizeWidgetChatbox:function(){var t=this;h()("#guppy-minus"+this.chatId).parents(".at-floatchat").addClass("at-minimizefloatchat"),setTimeout((function(){t.$store.commit("minimizeWidgetChatbox",{chatId:t.chatId,isMinimize:!0})}),300)},toggleMenu:function(){h()("#dropdown_".concat(this.chatId)).slideToggle()},editGroup:function(){this.$store.commit("updateSelectedChatId",{chatId:this.chatInfo.chatId}),this.$store.commit("editGroupDetail",{chatId:this.chatId,resetGroup:!1}),this.toggleMenu()},muteNotification:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.chatInfo.chatId.split("_")[0],a={muteType:0,postId:0==t.chatInfo.chatType?s:"",userId:t.userId,chatId:t.chatInfo.chatId,chatType:t.chatInfo.chatType,groupId:2==t.chatInfo.chatType?s:"",actionTo:0==t.chatInfo.chatType?t.chatInfo.postReceiverId:s},t.notificationLoader=!0,e.next=5,N.muteNotification(a);case 5:r=e.sent,t.notificationLoader=!1,"error"==r.data.type&&t.alertBox("error",t.TRANS.error_title,r.data.desc);case 8:case"end":return e.stop()}}),e)})))()}}},mi=gi,fi=Object(It["a"])(mi,di,hi,!1,null,null,null),vi=fi.exports,Ii=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.chatInfo.isBlocked&&t.chatInfo.blockedId==t.userId?s("div",{staticClass:"at-chatblockuser"},[s("span",[t._v(" "+t._s(t.TRANS.you_are_blocked)+" ")])]):t.chatInfo.isBlocked&&t.chatInfo.blockedId!=t.userId?s("div",{staticClass:"at-chatblockuser"},[s("runtime-template-compiler",{attrs:{template:t.unblockButtonText}})],1):t.memberDisable.isDisable?[s("div",{staticClass:"at-leftgroupinfo at-leftgroup-footer"},[s("span",[t._v(t._s(t.memberDisable.disableText))])])]:t.disableReply(t.chatInfo.chatId)&&0==t.getUserRole?[s("div",{staticClass:"at-group-disabled"},[s("span",[t._v(t._s(t.TRANS.disable_reply_txt))])])]:[s("div",{staticClass:"at-replay",class:{"at-replay_disable":t.isDisabledFooter(t.chatInfo.chatId)}},[t.quoteMessage?s("guppy-chat-quoted-messages",{attrs:{quoteMsgProps:t.quoteMessage},on:{removeQuoteMessage:function(e){return t.removeQuote()}}}):t._e(),s("span",{staticClass:"at-typing",domProps:{innerHTML:t._s(t.typingUsers)}}),s("send-text-message",{attrs:{chatId:t.chatInfo.chatId}})],1),s("ul",{staticClass:"at-chat_sidebar_footer"},[s("li",[s("media-messages",{attrs:{chatId:t.chatInfo.chatId}})],1),s("li",[s("send-voice-message",{attrs:{chatId:t.chatInfo.chatId}})],1)])]],2)},yi=[],bi={name:"GuppywidgetChatBoxFooter",components:{GuppyChatQuotedMessages:Fs,SendTextMessage:pa,MediaMessages:Hs,SendVoiceMessage:fa},props:{chatInfo:{type:Object,required:!0,default:function(){return new Object}}},data:function(){return{}},computed:Object(c["a"])({getUserRole:function(){return this.$store.getters.getUserRole(this.chatInfo.chatId)},memberDisable:function(){return this.$store.getters.memberDisable(this.chatInfo.chatId)},disableReply:function(){return this.$store.getters.disableReply(this.chatInfo.chatId)},unblockButtonText:function(){var t=M.blocked_user_message,e=M.unblock_now,s='<a href="javascript:;" @click.prevent="updateSelectChatId()" guppy-data-target="#blockuser">'+e+" </a>",a="<span>".concat(t.replace("%Unblock%",s),"</span>");return a},typingUsers:function(){var t=this.$store.getters.typingUsersIndicatorText(this.chatInfo.chatId),e=M.is_typing,s=M.are_typing,a=M.more_user_typing,r=t.indicator,i=t.typingUsers,o=t.tUsers,n="";if(o){if("isTypingText"==r&&i)n='<em class="at-typing-name">'.concat(i,"</em>").concat(e);else if("areTypingText"==r&&i)n='<em class="at-typing-name">'.concat(i,"</em>").concat(s);else{var c='<em class="at-typing-name">'.concat(i,"</em>").concat(a);n=c.replace("((user_count))",Number(o)-3)}n+='<em><img src="'+_.typingIcon+'" alt="users typing"></em>'}return n},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatInfo.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId()}},Object(u["b"])({disableReply:"disableReply",isDisabledFooter:"isDisabledFooter"})),methods:{updateSelectChatId:function(){this.$store.commit("updateSelectedChatId",{chatId:this.chatInfo.chatId})},removeQuote:function(){this.$store.commit("removeQuote",{chatId:this.chatInfo.chatId})}}},Ci=bi,_i=(s("372b"),Object(It["a"])(Ci,Ii,yi,!1,null,"7820c83d",null)),Ai=_i.exports,Mi={name:"GuppywidgetChatBox",props:["chatId"],components:{GuppywidgetChatBoxHeader:vi,GuppywidgetChatBoxFooter:Ai,MessagesContainer:Vr},computed:{chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},floatChatClass:function(){var t=this.$store.getters.getQuoteMessage(this.chatId),e="";return t&&(e="at-floatchat-reply",2==t.messageType?e="at-floatlocation-reply":"images"==t.attachmentsData.attachmentType&&(e="at-floatimages-reply")),e}}},Ti=Mi,Si=Object(It["a"])(Ti,pi,li,!1,null,null,null),wi=Si.exports,ki={name:"GuppyFloatingChatList",components:{GuppywidgetChatBox:wi},data:function(){return{isOpenMenu:!1}},computed:{minimizeChats:function(){var t=h()(window).height(),e=7;t<=800?e=5:t<770&&(e=3);var s={topChats:[],bottomChats:[]},a=this.$store.getters.minimizeChats;return s.topChats=a.slice(0,e),s.bottomChats=a.slice(e,a.length),s},chats:function(){return this.$store.getters.widgetChats}},methods:{toggleUsersMenue:function(t){this.isOpenMenu=t,h()(".at-floatdropdownholder").slideToggle(200)},minimizeWidgetChatbox:function(t){this.$store.commit("minimizeWidgetChatbox",{chatId:t,isMinimize:!1}),this.isOpenMenu=!1,h()(".at-floatdropdownholder").hide()},closeWidgetChatbox:function(t){this.$store.commit("closeWidgetChatbox",{chatId:t})},closeAllChats:function(){this.$store.commit("updateChatInfo",{})}},created:function(){var t=this;if("pusher"==_.realTimeOption&&_.pusherEnable){var e={pusherKey:_.pusherKey,pusherCluster:_.pusherCluster,restApiUrl:window.wpguppy_scripts_vars.restapiurl,userId:this.userId};this.$store.dispatch("initializePusher",e)}else if("socket"==_.realTimeOption&&_.socketEnable){var s={authToken:window.wpguppy_scripts_vars.authToken,restApiUrl:window.wpguppy_scripts_vars.restapiurl+"34",userId:this.userId};this.$store.dispatch("initializeSocket",s)}this.userId>0&&this.isSingle&&this.axios.get("get-post-info?userId="+this.userId+"&postId="+this.postId).then((function(e){if("success"==e.data.type){var s=e.data.postInfo;if(""!=s&&(t.$store.commit("updateChatInfo",{data:s,userClick:!0}),s.UnreadCount>0)){var a=t.userId,r={chatId:s.chatId,chatType:0,userId:a};D.updateSeenMessagesCounter(r)}}})).catch((function(e){t.errors=e,console.log(e)}))}},Ri=ki,Ni=(s("8a8f"),Object(It["a"])(Ri,ci,ui,!1,null,null,null)),Di=Ni.exports,Oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chatfloatholder"},[s("div",{staticClass:"at-floatchat at-signin",attrs:{id:"signin"}},[s("div",{staticClass:"at-floatchat_content"},[s("div",{staticClass:"at-floatchat_title"},[s("h2",[t._v(t._s(t.TRANS.signin_box_hdr_txt))]),s("div",{staticClass:"at-floatchat_title-right"},[s("a",{staticClass:"at-removechat",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.$emit("closeWidget")}}},[s("i",{staticClass:"guppy-x"})])])]),s("form",{staticClass:"at-themeform at-floatsignin"},[s("fieldset",[s("div",{staticClass:"at-form-group-wrap"},[s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.email))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.username,expression:"data.username"}],staticClass:"at-form-control",attrs:{type:"text",required:"",placeholder:t.TRANS.email},domProps:{value:t.data.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"username",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.password))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.data.userpassword,expression:"data.userpassword"}],staticClass:"at-form-control",attrs:{type:"password",required:"",placeholder:t.TRANS.password},domProps:{value:t.data.userpassword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"userpassword",e.target.value)}}})]),s("div",{staticClass:"at-form-group"},[s("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.signIn()}}},[t._v(t._s(t.TRANS.start_chat_text))])])])])])])])])},Li=[],ji={name:"GuppySignInWidgetBox",data:function(){return{data:{userpassword:"",username:""},isloading:!1}},methods:{signIn:function(){var t=this;this.isloading||(this.isloading=!0,this.data.username&&this.data.userpassword?this.axios.post("user-login",this.data).then((function(e){t.isloading=!1,"success"==e.data.type?window.location.reload():t.alertBox("error",t.TRANS.error_title,e.data.message)})).catch((function(e){t.isloading=!1,t.errors=e,t.alertBox("error",t.TRANS.error_title,t.TRANS.empty_input_err_txt)})):(this.isloading=!1,this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_input_err_txt)))}}},xi=ji,Pi=Object(It["a"])(xi,Oi,Li,!1,null,null,null),Ei=Pi.exports,Ui={name:"widgetChatApp",components:{SidebarPopup:ei,GuppyChatSidebar:cs,FloatingChats:Di,SignInBox:Ei,GuppyChatMessages:Hr},data:function(){return{isRtl:!1,isShowWidget:!1,floatingIcon:_.floatingIcon,floatingWidgetEnable:_.floatingWindowEnable}},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat},isMobileView:function(t){return t.isMobileView}})),{},{getTotalUnreadCount:function(){return this.$store.getters.getTotalUnreadCount},css:function(){return"<style> :root { --primguppycolor: "+_.primaryColor+"; --secguppycolor: "+_.secondaryColor+"; --terguppycolor: "+_.textColor+"; } </style>"}}),methods:{showWidget:function(){Number(this.userId)?this.showChatWidget():this.showSignInWidget()},guppyAddClass:function(){var t=h()(".at-chat").width();t<=768&&(h()(".at-guppysidepopup").addClass("at-guppyside-responsive"),h()(document).on("click",".at-guppysidepopup .conversation-list .at-userbar, .at-guppysidepopup .user-list .at-btn-respond",(function(){h()(".at-chat").addClass("at-opnchatbox")}))),h()(document).on("click",".at-backtolist",(function(){h()(".at-chat").removeClass("at-opnchatbox")}))},timeout:function(t){return new Promise((function(e){return setTimeout(e,t)}))},showChatWidget:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(h()(".at-floatdropdownholder").hide(),h()(".at-chatsidebar_float").toggleClass("at-chatsidebar-widgetclose"),s=h()(".at-chat").width(),!t.isShowWidget){e.next=9;break}return e.next=6,t.timeout(500);case 6:t.isShowWidget=!1,e.next=10;break;case 9:t.isShowWidget=!0;case 10:s<=768&&(a=!!t.isShowWidget,t.$store.commit("updateWidgetType",{isMessangerChat:a}));case 11:case"end":return e.stop()}}),e)})))()},showSignInWidget:function(){this.isShowWidget?this.isShowWidget=!1:this.isShowWidget=!0}},created:function(){h()("head").prepend(this.css);var t=h()(window).width();t<768&&this.$store.commit("updateWidgetType",{isMobileView:!0}),this.isRtl=_.isRtl,this.$store.commit("updateWindowWidth",{windowWidth:t})},mounted:function(){var t=this;this.guppyAddClass(),this.$root.$on("showWidget",(function(){t.showWidget()}))}},Bi=Ui,Gi=Object(It["a"])(Bi,oi,ni,!1,null,null,null),Qi=Gi.exports,Fi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"at-chatbtn-wrap"},[s("a",{staticClass:"at-chatbtn",class:{"at-disable-btn":t.isLoading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.getPostInfo()}}},[s("i",{staticClass:"guppy-message-square"}),t._v(t._s(t.TRANS.start_chat_txt))])])},qi=[],Vi={name:"GuppyChatButtonApp",props:["post_id"],data:function(){return{isLoading:!1}},computed:Object(c["a"])({minimizeChats:function(){var t={topChats:[],bottomChats:[]},e=this.$store.getters.minimizeChats;return t.topChats=e.slice(0,7),t.bottomChats=e.slice(7,e.length),t},css:function(){return"<style> :root { --primguppycolor: "+_.primaryColor+"; --secguppycolor: "+_.secondaryColor+"; --terguppycolor: "+_.textColor+"; } </style>"}},Object(u["b"])({chats:"widgetChats"})),methods:{getPostInfo:function(){var t=this;this.isLoading=!0,this.axios.get("get-post-info?userId="+this.userId+"&postId="+this.post_id).then((function(e){if(t.isLoading=!1,"success"==e.data.type){var s=e.data.postInfo;if(""!=s&&(t.$store.commit("updateChatInfo",{data:s,userClick:!0}),s.UnreadCount>0)){var a=t.userId,r={chatId:s.chatId,chatType:0,userId:a};D.updateSeenMessagesCounter(r)}}})).catch((function(e){t.errors=e,console.log(e)}))}},created:function(){h()("head").prepend(this.css)}},zi=Vi,$i=Object(It["a"])(zi,Fi,qi,!1,null,null,null),Ji=$i.exports,Hi=s("7399"),Wi=(s("dee1"),s("6787")),Ki=s("f9d5"),Yi=s.n(Ki);s("4413");a["a"].directive("linkified",Z.a),a["a"].use(Hi["a"]),a["a"].use(Wi["a"]),s("b048"),s("6005"),a["a"].use(it.a),delete at["Icon"].Default.prototype._getIconUrl,at["Icon"].Default.mergeOptions({iconRetinaUrl:s("584d"),iconUrl:s("c0ef"),shadowUrl:s("e2b9")}),i.a.defaults.baseURL=window.wpguppy_scripts_vars.restapiurl,i.a.defaults.headers.common["Authorization"]="Bearer "+window.wpguppy_scripts_vars.authToken,a["a"].use(Yi.a),a["a"].component("l-map",tt["a"]),a["a"].component("l-tile-layer",et["a"]),a["a"].component("l-marker",st["a"]),a["a"].use(Y.a),a["a"].component("video-player",K["videoPlayer"]),a["a"].use(H["a"],i.a),a["a"].config.productionTip=!0,a["a"].mixin(W),h()("#wpguppy-messanger-chat").length&&window.wpguppy_scripts_vars.userId?new a["a"]({store:J,render:function(t){return t(ii)}}).$mount("#wpguppy-messanger-chat"):h()("#wpguppy-widget-chat").length&&new a["a"]({store:J,render:function(t){return t(Qi)}}).$mount("#wpguppy-widget-chat"),h()("#wpguppy-woo-products").length&&window.wpguppy_scripts_vars.userId&&(a["a"].component("wpguppy-woo-chat-button",Ji),new a["a"]({store:J}).$mount("#wpguppy-woo-products"))},"5e1b":function(t,e,s){"use strict";s("0613")},6048:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAgMDAwMDBAcFBAQEBAkGBwUHCgkLCwoJCgoMDREODAwQDAoKDhQPEBESExMTCw4UFhQSFhESExL/2wBDAQMDAwQEBAgFBQgSDAoMEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhL/wgARCABLAEsDAREAAhEBAxEB/8QAHQABAAIDAQADAAAAAAAAAAAAAAUHAQYIBAIDCf/EABwBAQADAAMBAQAAAAAAAAAAAAAFBgcBBAgCA//aAAwDAQACEAMQAAAA/UOK7YAAAAA1qnzXije0J60xEpM9IAAUP5i1bXKjNDfNRqVo7RRfdJdYACh/MWra5UZofbcILRb5AdZatT57s/mAKH8xatrlRmgfNL22F7G9G5pvsj1gBRXmfUp+2ROeVdZFccfn9dAerMhm7BHAChPL+sTlliscNDy625+nQXqvIZmwRoAq3FL1B1uVHy54wW9vWd++U6oAAAAAAAAAA//EADoQAAAFAgIECgcJAAAAAAAAAAECAwQFBhEAEgcXIVEQEyAyNkFTYZSyCBQxc6HR4TBAcXJ0sbPB0v/aAAgBAQABPwD7Sa0iQcDJKsX6zkXKNuMBJuY4EvttffbGtunO1f8AgzY1t052r/wZsU/UjCp2h3EQooYiZxKYqiYkMFuuw9XL0jdOZf3pPIHDQbhVpEkWbHEiqbhSw/0O8MRMqlKoCYliLJgHGpX5veG8OVpG6cy/vSeQOF9pAe0RTKy0bAKz/q6gqqIIOQSUBMecYoCA5rW9gbbYa+mqk2ORwzpF4By7SmCUJ/jFBVSFc0TBVEDUWITbBJ36sKmcUc4Xy5uvk6RunMv70nkDhC5RuA2EMaXNEgnBzP0ghc+1SQj0i8/eqkG/rMXr9oY0BGA+hChDFG4DAtfJya94vWG/B0NkBdogsO4liZvhfElAxzN6sQkZRCaAjmb+szKiah0h5hhL3hiLgY148IVaMok7YlzujNZlRQ6aJeecA7sKZQWW4obpgqcEx3lzDl+FsXENoYoZIiFFwhESETIVinYpC2AOTpM6aTX5y/xhiUgajPMx8tS7Nwa0U1Ik6RFMdvF2MAZhxGQVQIPZyVqloumKsK6Io5WFMMxhIAFCxR3BuwTmB+HBRfQ+F/Qp/tyaz0czcxUz19GFZqt3QlMUTr5DAIFABAQt3Y1SVH2LHxv0xqlqTsWHjfpjVPUnYsPGB8sap6l7Bh4wPliAjzxEFHsVzFOq0bESOYnsEQDbb7v/AP/EADwRAAECAwMHCAYLAAAAAAAAAAECBAMFEQAGEhcgITJSYXEQEzE2UZOywRRykqHR4QcWIiMwNUBBU3OR/9oACAECAQE/APxJtfqSSt2po4WrGmlQlJIFdNK9tLZULubS+7NsqF3Npfdm0jn7GcwDGZqJANNIof8AOzPv71lecR4Ry3KjxYDBMSEaKClWlkzhPoWJOhQ6R2bxuzr+9ZXnEeEct2p5CbQ/RIooCSQeP7HyNoExiN4oiQ9ChZm49IbQ41KYgDm396yvOI8IzJJOqAN3B4K8j5G0nBEtb+qM2+oh/WyPzpojGjF6tE191n8lljdwtKW7MI6U446wopOqSN4tL5JK48cBbdoUDSvBHWpQQNZVNwtEw84vBq1NOFTT3WPRa6ZJkDIn+NOb9IPWJ7xHhFpjJbxF+3mMqgqP3MIBacGxQ6xtLpNP4bh9MZrCIxN4oK1YdJwgAfZO6yNUcl0vyBl/WnNvbcKdTCcx3jUIKF0IqqhGgClKWyY3j2Ed58rZMLx7CO8+VsmV5NhHtj4WyZXk2Ee2PhaSMVsJY3aRCCqGgJNOio7P0/8A/8QANBEAAQMCAQoEAwkAAAAAAAAAAQIDBAARBQYSFiAhMUFScZIQNVGxExXhMDI0QGFygaHw/9oACAEDAQE/APtIWT0+WyHm0jNO65tWieJ+ie4VonifonuFT8OkQXA2+Np9Dca+TvlbPQ+58ccbS5IKFC4IFSoq46rHaDuOtk75Wz0PufHFYKnFfGSeAFqXEDqClZuDT7XwnVN3vY21cnfK2eh9z42qbCzbrRU38U51OrgOd8nbzN+aq3Xbb+6jTpLjQJdfJ42bBAPEX/Q1JnSm2zZ14K3Ju2kAqO4fzSL5ovvsL9bbfDFwBiD4HMdXJvyxj/cTUWdhojOxpix99ZIN+bZuqROw5TTEaGsGziCAL7rm++j4Yz5i/wDuOrg2UMGNBQy8SFJvwvxrSvC+ZXbWleGcyu2tKsL5ldv1rSrC+ZXb9anSEyJTjyRsUSR+X//Z"},"69fe":function(t,e,s){},"6b46":function(t,e,s){"use strict";s("42b2")},"6db5":function(t,e,s){"use strict";s("81ed")},"6ed5":function(t,e,s){"use strict";s("0032")},"727a":function(t,e,s){},7423:function(t,e,s){},7432:function(t,e,s){"use strict";s("4b09")},"78f5":function(t,e,s){},"7dea":function(t,e,s){"use strict";s("d12c")},"7e75":function(t,e,s){},"81ed":function(t,e,s){},8276:function(t,e,s){"use strict";s("dcf8")},"839b":function(t,e,s){},"879f":function(t,e,s){"use strict";s("36f9")},"8a8f":function(t,e,s){"use strict";s("e5d9")},"8fe2":function(t,e,s){"use strict";s("46df")},"90a2":function(t,e,s){"use strict";s("69fe")},"91a7":function(t,e,s){"use strict";s("c7b3")},"955a":function(t,e,s){},"993c":function(t,e,s){},a2c7:function(t,e,s){},a57a:function(t,e,s){"use strict";s("a2c7")},aad0:function(t,e,s){},af10:function(t,e,s){"use strict";s("727a")},b5c9:function(t,e,s){"use strict";s("955a")},b74a:function(t,e,s){"use strict";s("78f5")},b750:function(t,e,s){},be4b:function(t,e,s){"use strict";s("fa68")},c0ef:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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"},c7b3:function(t,e,s){},cd2c:function(t,e,s){"use strict";s("839b")},ce73:function(t,e){t.exports="data:image/jpeg;base64,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"},cf14:function(t,e,s){"use strict";s("10de")},d12c:function(t,e,s){},d1f8:function(t,e,s){},dcf8:function(t,e,s){},e5d9:function(t,e,s){},e6d0:function(t,e,s){"use strict";s("7423")},e772:function(t,e,s){"use strict";s("3cbb")},f1cc:function(t,e,s){"use strict";s("fc80")},f521:function(t,e,s){},f59b:function(t,e,s){"use strict";s("993c")},fa68:function(t,e,s){},fc80:function(t,e,s){},fd34:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.d05e6e26.js.map